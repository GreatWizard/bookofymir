//Le Livre d'Ymir http://bookofymir.free.fr/
//===== eAthena Script =======================================
//= Events Halloween Book Of Ymir
//===== By: ================================================== 
//= MageGaHell
//===== Current Version: ===================================== 
//= 1.21
//===== Compatible With: ===================================== 
//= eAthena SVN
//===== Description: ========================================= 
//= NPC Event Halloween, récompense de chapeaux custom
//= Nécessite l'ajout d'items custom. Se référer au site et au
//= fichier informatif pour toutes les informations
//===== Additional Comments: ================================= 
//= 1.2 Fully Working
//= 1.21 Correction d'un percentheal oublié (Myllena)
//============================================================

//LoD

payon,156,233,4	script	Seigneur de la Mort 	1373,{

if ((#halloween_win == 2)||(#dot_halloween == 23)){goto L_fin;}
if (#dot_halloween == 22){goto L_win;}
if (#dot_halloween > 0){goto L_report;}
if (#dot_halloween == 0){
mes "[Seigneur de la Mort]";
mes "Salutations, mortel.";
mes "Aussi étonnant que cela puisse paraître, je viens en paix.";
next;
mes "[Seigneur de la Mort]";
mes "Pire. Je viens demander un service.";
mes "Accepteriez-vous de m'aider, vous qui vous considérez comme un héros?";
next;
menu "Euh... Oui!",-,"Non!",L_end,"Jamais!",L_end,"Humm... ça dépend...",-;
mes "[Seigneur de la Mort]";
mes "Je perçois vos réticences. Une explication doit vous être donnée...";
mes "Laissez-moi vous expliquer la raison de ma présence ici...";
next;
mes "[Seigneur de la Mort]";
mes "Je suis le Juge des Âmes, le Gardien du Royaume des Morts.";
mes "Même si certains viennent défier mes pâles reflets à Niflheim, je reste le souverain de l'Autre Monde.";
next;
mes "[Seigneur de la Mort]";
mes "Normalement, j'ai tous pouvoirs sur les Morts et je garde les esprits des défunts dans mon Royaume, loin du Royaume des Vivants.";
mes "Tel est mon rôle.";
next;
mes "[Seigneur de la Mort]";
mes "Cependant, une fois l'an, les Dieux autorisent quelques âmes élues à revenir hanter les vivants. Pour les inspirer ou pour les effrayer, ceci n'est point mon affaire.";
next;
mes "[Seigneur de la Mort]";
mes "C'est une sorte de trêve... Et durant cette période, les frontières entre la Vie et la Mort deviennent plus tenues...";
mes "Habituellement, ce n'est pas un soucis. Le contrat est respecté, les âmes retournent chez les défunts dès que possible...";
next;
mes "[Seigneur de la Mort]";
mes "Cependant, j'ai failli. Ou j'ai été trompé.";
next;
mes "[Seigneur de la Mort]";
mes "Douze âmes se sont échappées, se moquant du traité des Dieux et des règles de l'Univers.";
mes "Douze âmes ont illégalement regagné le Royaume des Vivants.";
next;
mes "[Seigneur de la Mort]";
mes "Cette évasion nous met tous en péril. L'équilibre entre le Royaume des Morts et celui des Vivants est rompu.";
mes "S'il n'est pas très vite restauré, nous courrons à la catastrophe.";
next;
mes "[Seigneur de la Mort]";
mes "Les deux Royaumes pourraient fusionner, entraînant la fin de la Vie et la fin de la Mort, brisant le cycle des réincarnations, coupant les fidèles du Paradis et les pécheurs des Enfers.";
next;
mes "[Seigneur de la Mort]";
mes "Hélas, rien que le fait de m'être déplacé ici m'a grandement affaibli...";
mes "Je ne puis parcourir votre Royaume qui m'est inconnu pour traquer les âmes en fuite.";
next;
mes "[Seigneur de la Mort]";
mes "Pour ça, j'ai besoin de vous.";
mes "Evidemment, en plus de sauver votre monde, je vous récompenserai grandement.";
next;
mes "[Seigneur de la Mort]";
mes "Alors, aventurier, acceptez-vous de devenir mon... Faucheur?";
mes "Ramènerez-vous les Douze Âmes perdues?";
next;
menu "J'accepte!",-,"Je refuse!",L_end;
mes "[Seigneur de la Mort]";
set #dot_halloween, 10;
mes "Vous avez bien du courage, mortel. J'en suis heureux.";
next;
L_menu1:
mes "[Seigneur de la Mort]";
mes "Je dispose d'un maigre dossier sur chacune des Âmes en fuite...";
mes "Cela vous aidera peut-être à les localiser.";
next;
L_menu2:
menu "Sir Renyald",L_lk,"Bworldal",L_ws,"Salina Brunind",L_hp,"Ahorl",L_sinx,"Vardius",L_aco,"Yondren",L_mago,"Kirnya",L_thief,"Carynn Verld",L_merch,"Ery Khreen",L_hw,"Faern Sodhynn",L_archer,"Dielsha Sodhynn",L_snip,"Narla Bromm",L_swordy,"C'est bon...",-;
mes "[Seigneur de la Mort]";
mes "Bien, mortel. Je vous attends ici. Prévenez-moi quand vous aurez retrouvé toutes les âmes perdues.";
close;

L_lk:
mes "[Seigneur de la Mort]";
mes "^CC0000Sir Renyald^000000 était un puissant Seigneur Chevalier des anciens temps. Il mourut en défendant âprement sa cité contre les démons... Mais son combat fut vain et elle n'est plus que ruine...";
next;
mes "[Seigneur de la Mort]";
mes "Je n'en sais pas plus...";
next;
goto L_menu2;
close;

L_ws:
mes "[Seigneur de la Mort]";
mes "^CC0000Bworldal^000000 était un Maître Forgeron légendaire.";
mes "Il rêvait de forger une arme capable d'occire le plus résistant des Dragons, le plus puissant des démons.";
next;
mes "[Seigneur de la Mort]";
mes "Il disparut en cherchant un endroit où réaliser ce chef d'oeuvre.";
mes "Seules des températures infernales pourraient lui convenir...";
next;
goto L_menu2;
close;

L_hp:
mes "[Seigneur de la Mort]";
mes "^CC0000Salina Brunind^000000 était une Haute Prêtresse guérisseuse de renom.";
mes "Fière mais attentive au soin du peuple, elle disparut en cherchant des herbes médicinales dans un lieu légendaire...";
next;
goto L_menu2;
close;

L_sinx:
mes "[Seigneur de la Mort]";
mes "^CC0000Ahorl^000000 était un Maître Assassin.";
mes "Meurtrier effroyable, exécuteur sans pitié, il fut cependant ému une fois, ce qui causa sa perte...";
next;
mes "[Seigneur de la Mort]";
mes "Il mourut seul, tourmenté et plein de remords, traqué et poussé à fuir aux confins du désert...";
next;
goto L_menu2;
close;

L_aco:
mes "[Seigneur de la Mort]";
mes "^CC0000Vardius^000000 était un Acolyte prometteur suivant les enseignement de Freya.";
mes "Mais c'est justement l'Amour qui le perdit.";
next;
mes "[Seigneur de la Mort]";
mes "Cette âme est accablée de chagrin mais conserve sa Foi. Il ne serait pas étonnant qu'elle se réfugie dans un des domaines de la Déesse.";
next;
goto L_menu2;
close;

L_mago:
mes "[Seigneur de la Mort]";
mes "^CC0000Yondren^000000 était un magicien doué mais maladroit.";
mes "Un accident lui coûta la vie, le précipitant dans le fleuve de Geffen...";
next;
mes "[Seigneur de la Mort]";
mes "Cette âme n'aimait pas laisser un travail inachevé. Elle doit donc être encore dans les alentours d'une cité magique.";
next;
goto L_menu2;
close;

L_thief:
mes "[Seigneur de la Mort]";
mes "^CC0000Kirnya^000000 était une voleuse agile et rapide. Mais un peu lâche.";
mes "L'arrêter sera difficile, il vous faudra sans doute l'emprisonner d'une façon ou d'une autre...";
next;
mes "[Seigneur de la Mort]";
mes "De son vivant, elle compta beaucoup, et même peut-être un peu trop, sur la rude solidarité des Voleurs.";
next;
goto L_menu2;
close;

L_merch:
mes "[Seigneur de la Mort]";
mes "^CC0000Carynn Verld^000000 était une marchande opiniâtre, prête à tout pour le profit.";
mes "Elle n'hésiterait pas à tenter d'acheter la Mort elle-même.";
next;
mes "[Seigneur de la Mort]";
mes "De son vivant, elle a souvent pratiqué la contrebande et c'est accoquinée avec des gens louches, ce qui causa sa perte...";
next;
goto L_menu2;
close;

L_hw:
mes "[Seigneur de la Mort]";
mes "^CC0000Ery Khreen^000000 était une Haute Magicienne très puissante.";
mes "Elle fut Archimagicienne de Geffen, mais le pouvoir la fit basculer dans les Ténèbres.";
next;
mes "[Seigneur de la Mort]";
mes "Elle fut déchue de son titre et eut un... accident fatal qui arrangea bien de ses collègues.";
mes "Depuis, elle-même étant dans la Mort, elle hait Geffen tout en rêvant de la conquérir.";
next;
mes "[Seigneur de la Mort]";
mes "Elle doit se diriger vers un lieu de Pouvoir. Méfiez-vous d'elle, elle peut être sans pitié.";
next;
goto L_menu2;
close; 

L_archer:
mes "[Seigneur de la Mort]";
mes "^CC0000Faern Sodhynn^000000 était un jeune Archer inexpérimenté.";
mes "Il disparut alors qu'il se rendait à un rendez-vous avec sa soeur, qui devait justement parfaire son éducation.";
next;
mes "[Seigneur de la Mort]";
mes "Son sens de l'orientation était déplorable. Il est mort en entrant dans le mauvais donjon...";
next;
goto L_menu2;
close; 

L_snip:
mes "[Seigneur de la Mort]";
mes "^CC0000Dielsha Sodhynn^000000 était une Tireur d'Elite redoutée.";
mes "Mais hélas, elle devait s'occuper de son jeune frère qui voulait suivre ses traces.";
next;
mes "[Seigneur de la Mort]";
mes "Elle disparut en le cherchant après qu'il ait disparu.";
mes "Peut-être l'attend-elle encore?";
next;
goto L_menu2;
close; 

L_swordy:
mes "[Seigneur de la Mort]";
mes "^CC0000Narla Bromm^000000 était une Guerrière issue d'une longue lignée de combattants d'Izlude.";
mes "Habituée à obéir et servir, elle ne doit pas s'être trop éloignée de la terre de ses ancêtres...";
next;
goto L_menu2;
close; 

L_end:
mes "[Seigneur de la Mort]";
mes "Alors, allez en paix... Pour un temps.";
close;
}


L_report:
set @compte, #dot_halloween - 10;
mes "[Seigneur de la Mort]";
mes "Vous revoilà, mortel.";
if (@compte > 0){
mes "Hummm, je sens que vous avez retrouvé "+ @compte + " Âmes perdues...";
next;
mes "[Seigneur de la Mort]";
mes "Hélas, vous ne les avez pas encore toutes retrouvées...";
if (#halloween_win == 0){
mes "Hummm... une récompense vous motivera peut-être...";
next;
mes "[Seigneur de la Mort]";
mes "Prenez donc ceci, que j'ai fait fabriquer par mes serviteurs.";
getitem 5134,1;
set #halloween_win, 1;
}
next;
mes "[Seigneur de la Mort]";
mes "Dépêchez-vous de retrouver ces fuyards! L'équilibre du monde en dépend...";
next;
goto L_menu1;
}
else{
mes "Dépêchez-vous de retrouver ces fuyards! L'équilibre du monde en dépend...";
next;
goto L_menu1;
}
close;


L_win:
mes "[Seigneur de la Mort]";
mes "Fantastique!";
mes "Vous avez réussi à retrouver toutes les Âmes errantes!";
next;
mes "[Seigneur de la Mort]";
mes "Pareil exploit mérite une récompense...";
if ($halloween == 0){
mes "Prenez donc ces quelques cadeaux de l'Autre Monde...";
getitem 20928, 1;
getitem 20929, 1;
set $halloween, 1;
set #halloween_win, 2; 
set #dot_halloween, 23;
next;
mes "[Seigneur de la Mort]";
mes "Le Monde a été sauvé pour cette fois, aventurier. Je reconnais votre inestimable valeur.";
mes "Merci pour tout.";
announce "Le Seigneur de la Mort déclare: "+strcharinfo(0)+" est le meilleur chasseur de fantômes de Midgard!",bc_yellow|bc_all;
close;
}
else{
mes "... Cependant, un autre aventurier m'a déjà informé qu'il avait localisé toutes les âmes en fuite...";
next;
mes "[Seigneur de la Mort]";
mes "Mais je suis généreux, vu que nos Royaumes sont sauvés.";
mes "Je vais vous laisser choisir une récompense parmi les artefacts de l'Autre Monde.";
next;
menu "Prendre la Capuche de Bourreau",L_bourreau,"Prendre le Drap de Fantôme",L_drap;
close;
}


L_bourreau:
mes "[Seigneur de la Mort]";
set #halloween_win, 2; 
set #dot_halloween, 23;
getitem 20928, 1;
mes "Voici pour vous. Vous l'avez amplement mérité. Ceci vous permettra de vous prendre pour un véritable Faucheur d'Âmes!";
close;

L_drap:
mes "[Seigneur de la Mort]";
set #halloween_win, 2; 
set #dot_halloween, 23;
getitem 20929, 1;
mes "Voici pour vous. Vous l'avez amplement mérité. Ceci vous permettra de vous prendre pour un véritable Revenant!";
close;

L_fin:
mes "[Seigneur de la Mort]";
mes "Merci encore de votre aide.";
mes "Je conduirai bientôt les âmes perdues au Royaume des Morts.";
close;

}

//LK 1

glast_01,44,363,4	script	Sir Renyald	1634,{

if ((#dot_halloween > 0)&&(dot_lk == 0)){
mes "[Sir Renyald]";
mes "Ma vie et ma mort... Que des ruines...";
mes "Mon souverain, mon pays, mon château, mon peuple...";
next;
mes "[Sir Renyald]";
mes "Je n'ai pu les protéger. Mon sacrifice a été inutile...";
mes "Glast Heim est tombée aux mains des démons...";
next;
mes "[Sir Renyald]";
mes "Cette épée est le seul vestige de ma futile résistance...";
mes "Hélas, je suis mort. Un fantôme immatériel. Même de retour dans ce monde, je ne puis la brandir...";
next;
menu "Dans ce cas, retournez au Royaume des Mort.",-,"C'est bête, hein?", L_end;
mes "[Sir Renyald]";
mes "Repartir vers le Néant? J'y serais aussi impuissant qu'ici...";
mes "Si seulement j'avais ^FF0000une arme qu'un mort puisse brandir^000000...";
next;
mes "[Sir Renyald]";
mes "Alors, rien ne m'empêcherait d'aller châtier ceux qui furent responsables de la chute de Glast Heim.";
mes "Ces démons se trouvent eux aussi dans le Royaume des Morts...";
if (countitem(10020) > 0){
next;
menu "Peut être qu'avec ceci...",-,"...Rien...",L_end;
mes "[Sir Renyald]";
mes "Oh, cette épée! C'est celle que porte les Bongun...";
mes "Oui! Je sens qu'elle est reliée à la Mort! Avec cela, je pourrais combattre!";
next;
menu "Lui donner l'épée.",-,"Mais elle n'est pas pour vous, désolé.",L_end;
mes "[Sir Renyald]";
delitem 10020,1;
mes "Avec ceci, même au Royaume des Mort, je ne serai pas inutile!";
mes "Je peux donc quitter cet endroit maudit pour aller porter ma vengeance en Enfer!";
next;
mes "[Sir Renyald]";
mes "Merci, héro. Je vous fais la promesse solennelle que je retournerai au Royaume des Morts... Je vais méditer et prier encore quelques instants, en souvenir de mon glorieux pays...";
set dot_lk,1;
set #dot_halloween, #dot_halloween + 1;
close;
}
close;
}
else{
L_end:
mes "[Sir Renyald]";
mes "Laissez-moi à mes tourments...";
close;
}

}



//WS 2

mag_dun01,115,70,3	script	Bworldal	1636,{

if (dot_ws == 1){ goto L_verif;}
if ((#dot_halloween > 0)&&(dot_ws == 0)){
mes "[Bworldal]";
mes "Ah, ah, quelle ironie!";
mes "Me voici enfin au coeur du Feu le plus pur, dans la forge des dieux!";
mes "L'ennui, c'est que je suis mort... Ah ah!";
next;
mes "[Bworldal]";
mes "Je souhaitais forger une arme ultime, capable de vaincre les plus puissant Dragons...";
mes "Tout était prêt, j'avais longuement étudié l'art de la forge et même un peu la magie...";
next;
mes "[Bworldal]";
mes "J'avais réuni les métaux les plus rares et les plus solides. J'avais les meilleurs outils.";
next;
mes "[Bworldal]";
mes "Il ne me manquait plus qu'une température extrême, dans un endroit charmé de la puissance primaire du Feu Sacré de notre Mère la Terre...";
next;
mes "[Bworldal]";
mes "Endroit que j'ai trouvé! Ici!";
mes "... Et qui m'a engloutit dans une éruption à peine ma forge installée...";
next;
mes "[Bworldal]";
mes "Et maintenant me revoilà! Evadé de l'Enfer, prêt à terminer mon travail...";
mes "... Et ^FF0000IMMATERIEL^000000!";
next;
mes "[Bworldal]";
mes "Impossible d'apporter ici mes outils, mon marteau... Ni de le lever!";
mes "C'est quand même rageant!";
next;
menu "Et si je vous apportais tout?",-,"Pas de bol...",L_end;
mes "[Bworldal]";
mes "Vous feriez ça? Une fois mon arme forgée, je vous promets de retourner sagement au Royaume des Morts!";
L_infos:
next;
mes "[Bworldal]";
mes "Pour forger mon arme, il me faut juste ^FF00003 Coal, 1 Oridecon, 10 Iron, 5 Steel et 1 Elunium^000000!";
next;
mes "[Bworldal]";
mes "Si vous me rapportez tout ça, je pourrais enfin forger mon arme légendaire!";
mes "Et je ferai ce que vous voulez...";
set dot_ws, 1;
close;
}
else{
L_end:
mes "[Bworldal]";
mes "Mortel... Evitez de me déranger...";
close;
}

L_verif:
mes "[Bworldal]";
mes "Vous revoilà, mortel...";
mes "Avez-vous tout ce que j'ai demandé?";
next;
if ((countitem(1003) < 3)||(countitem(985) < 1)||(countitem(984) < 1)||(countitem(999) < 5)||(countitem(998) < 10)){
mes "[Bworldal]";
mes "Il manque encore des éléments pour que je puisse forger...";
goto L_infos;
}
else{
delitem 1003,3;
delitem 985,1;
delitem 984,1;
delitem 999,5;
delitem 998,10;
mes "[Bworldal]";
mes "Vous soulagez mon âme, héro!";
mes "Avec ceci, je pourrais réaliser l'oeuvre de ma vie!";
next;
mes "[Bworldal]";
mes "Je vais commencer la forge. Cela va prendre un peu de temps, je le crains...";
mes "Je regagnerai la tombe dès que ce sera terminé. Promis!";
set dot_ws, 2;
set #dot_halloween, #dot_halloween + 1;
close;
}

}


//HP 3


yggdrasil01,35,212,4	script	Salina Brunind	1637,{


if (dot_hp == 1){ goto L_verif;}

if ((#dot_halloween > 0)&&(dot_hp == 0)){
mes "[Salina Brunind]";
mes "...Oh, vous m'avez retrouvée...";
mes "Je sais que je n'aurais pas dû m'enfuir du Royaume des Morts...";
next;
mes "[Salina Brunind]";
mes "Mais toute ma vie, j'ai servi Dieu et le peuple. J'étais une des guérisseuses les plus réputées et j'en étais fière.";
mes "J'étais célèbre, on m'enviait. On disait que j'étais bénie.";
next;
mes "[Salina Brunind]";
mes "Cependant, un jour, une épidémie frappa mon village. Une maladie que mes dons, mes prières et ma foi furent incapables de combattre...";
next;
mes "[Salina Brunind]";
mes "La rage me gagna et je m'obstinais. Moi, la Grande Prêtresse Miraculeuse, je ne pouvais pas être si impuissante!";
next;
mes "[Salina Brunind]";
mes "Entêtée, j'ai parcouru tous les livres saints, puis tous les ouvrages de médecine... Je dépensais vainement ma puissance mystique sans résultat.";
next;
mes "[Salina Brunind]";
mes "... Rien n'y fit. L'état de mes proches empirait...";
next;
mes "[Salina Brunind]";
mes "J'ai fini par entendre parler de l'Yggdrasil, l'arbre Sacré, l'arbre de Vie et de Mort...";
mes "Sans attendre, je suis partie à sa recherche, convaincue que je trouverais là-bas un remède...";
next;
mes "[Salina Brunind]";
mes "... Mais je n'étais qu'une prêtresse, certes expérimentée et bonne guérisseuse, mais naïve et sans expérience du monde et de l'aventure... Et si fière. Trop fière.";
next;
mes "[Salina Brunind]";
mes "J'ai erré des semaines durant dans les jungles les plus infâmes. J'ai fini par mourir, rongée par la maladie et l'épuisement...";
next;
mes "[Salina Brunind]";
mes "...J'étais presque arrivée. Tout ça à cause de ma trop grande fierté. J'aurais pu demander de l'aide. Rassembler des compagnons pour ma quête ou demander l'aide de l'Eglise...";
next;
mes "[Salina Brunind]";
mes "Comble de l'ironie, un Alchimiste de maigre renom trouva un remède à la maladie juste après mon départ. Tous mes proches étaient saufs...";
next;
menu "Voilà une bien triste histoire...",-,"Bien fait pour vous!",L_end;
mes "[Salina Brunind]";
mes "Merci de m'avoir écoutée...";
mes "Je suis revenue ici en pèlerinage... Et... pour ma fierté blessée.";
mes "L'Yggdrasil existe vraiment. J'aurais pu réussir...";
next;
mes "[Salina Brunind]";
mes "... Aventurier... Accepteriez-vous de m'aider dans mon dernier caprice?";
next;
menu "Oui, bien sûr.",-,"Ça suffit, non?",L_end;
mes "[Salina Brunind]";
mes "J'aimerais... j'aimerais savoir si mon remède aurait fonctionné...";
L_infos:
next;
mes "[Salina Brunind]";
set dot_hp,1;
mes "Pourriez-vous me rapportez ^FF000010 White Herbs, 10 Yellow Herb, 10 Green Herbs, 10 Blue Herbs, 10 Red Herbs et 10 Holy Water^000000?";
next;
mes "[Salina Brunind]";
mes "Avec ceci, je pourrais préparer mon remède sacré... Et voir si je suis morte pour un rêve.";
mes "Je vous promets qu'une fois cela fait je retournerais au Royaume de Mort.";
next;
mes "[Salina Brunind]";
mes "Je vous attend ici... Merci de satisfaire mon derniers caprice.";
close;
}
else{
mes "[Salina Brunind]";
mes "... Pourriez-vous me laisser méditer tranquillement?";
mes "Merci.";
close;
}

L_verif:
mes "[Salina Brunind]";
mes "Vous revoilà, mortel...";
mes "Avez-vous de quoi réaliser mon remède sacré?";
next;
if ((countitem(510) < 10)||(countitem(511) < 10)||(countitem(507) < 10)||(countitem(508) < 10)||(countitem(509) < 10)||(countitem(523) < 10)){
mes "[Salina Brunind]";
mes "Hélas, vou n'avez pas tout rapporté...";
goto L_infos;
}
else{
delitem 510, 10;
delitem 511, 10;
delitem 507, 10;
delitem 508, 10;
delitem 509, 10;
delitem 523, 10;
mes "[Salina Brunind]";
mes "Vous soulagez mon âme, héro!";
mes "Avec ceci, je pourrais déterminer si mes théories étaient justes. En combinant ces herbes de soin avec l'esprit sacré de l'Arbre de Vie...";
next;
mes "[Salina Brunind]";
mes "La préparation de ma potion sacrée va prendre un peu de temps...";
mes "Je regagnerai le Royaume des Morts dès que ce sera terminé. Promis!";
set dot_hp, 2;
set #dot_halloween, #dot_halloween + 1;
close;
}
L_end:
mes "[Salina Brunind]";
mes "Je me sens si seule...";
close;

}


//SinX 4

moc_fild09,242,125,4	script	Ahorl	1635,{

if ((#dot_halloween > 0)&&(dot_sinx == 0)){
if (@honte > 4){goto L_debut;}
mes "[Ahorl]";
mes "Laissez-moi, aventurier. Laissez-moi à ma honte.";
set @honte, @honte+1;
close;

L_debut:
mes "[Ahorl]";
mes "... Qui êtes-vous? Pourquoi me tourmentez-vous ainsi?";
next;
mes "[Ahorl]";
mes "Il est vrai que j'ai fui l'Enfer, comme j'ai fui mes responsabilités...";
next;
menu "Vous avez fui?",-,"Normal, pour un assassin...",L_aie;
mes "[Ahorl]";
mes "Oui, j'ai fui. De mon vivant, j'étais l'un des meilleurs exécuteurs de la Guilde des Assassins. Vif, silencieux, prompt à manier le katar ou la dague. Jamais de question. Un boulot toujours propre et efficace.";
next;
mes "[Ahorl]";
mes "J'étais l'Ombre de la Mort Qui Rode. Mon nom terrifiait les coeurs les plus hardis. Inscrit sur ma liste équivalait à gravé sur la tombe.";
next;
mes "[Ahorl]";
mes "Evidemment, j'étais fier. Mais mes capacités et mon zèle m'en donnaient le droit.";
mes "Puis est arrivé ce contrat...";
next;
menu "On rencontre toujours plus fort que soit.",-,"Désolé, je ne parle pas aux meurtriers.",L_aie,"Je m'en fiche, de votre vie!",L_aie;
mes "[Ahorl]";
mes "Vous n'y êtes pas. Je savais comment éviter ou vaincre plus puissant que moi...";
mes "Mais, ce contrat...";
next;
menu "Oui, oui, bon, c'était quoi?",L_aie,"Qu'avait-t-il de particulier?",-,"Vous étiez devenu trop vieux?",L_aie;
mes "[Ahorl]";
mes "C'est le Maître de la Guilde en personne qui me l'a confié.";
mes "Evidemment, j'étais honoré! L'échec n'était pas une option!";
next;
menu "A mon avis vous lui faisiez de l'ombre!",L_aie,"Qu'avait-il de particulier, ce contrat?",-,"Abrégez!",L_aie;
mes "[Ahorl]";
mes "Je devais tuer Naria Erafel, fille de Shabila Erafel, une aristocrate de Morroc.";
next;
menu "L'amour vous a empêché de les tuer?",-,"Rien de dur, vraiment...",L_aie;
mes "[Ahorl]";
mes "... Vous avez presque deviné. J'avais été entraîné à ne ressentir aucune émotion.";
mes "Pour moi, un être humain n'était qu'un sac de viande, un mort en sursis, une proie.";
next;
mes "[Ahorl]";
mes "J'ai d'ailleurs occis la belle Shabila sans coup férir, sans souffrance.";
mes "Je ne faisais aucune différence entre les hommes et les femmes. je n'avais aucun sentiment.";
next;
menu "Et la fille, Naria?",-,"Vous êtes un monstre!",L_aie,"Bravo, je n'aurais pas fait mieux!",L_aie;
mes "[Ahorl]";
mes "J'aurais du m'y attendre... Les indices dans la maison étaient flagrant. J'aurais dû me renseigner. Endurcir mon coeur.";
next;
mes "[Ahorl]";
mes "Telle une ombre, je me glissai dans la chambre qu'on m'avait indiquée. Et je découvrit pour la première fois Naria.";
next;
mes "[Ahorl]";
mes "Une enfant. Même pas six ans. Dont le sang de sa mère goûtait encore de mon katar...";
next;
menu "Vous êtes un monstre!",-,"Bof. Un coup de katar et c'est réglé!",L_aie;
mes "[Ahorl]";
mes "... Vous avez raison. Pour la première fois de mon existence, ce que j'étais m'a frappé.";
mes "Je... Je n'ai pas pu...";
next;
mes "[Ahorl]";
mes "J'ai pris la gamine et j'ai fui.";
mes "Je pensais lui trouver un foyer tranquille... Puis attendre quelques temps que ça se tasse. Inventer une excuse, dire qu'elle était morte...";
next;
mes "[Ahorl]";
mes "Mais la Guilde des Assassin s'est sentie trahie. Mes ex-collègues nous poursuivirent à travers tout Midgard.";
next;
mes "[Ahorl]";
mes "Je fus obligé de me défendre. J'étais déjà bon quand j'étais un assassin sans coeur. Je devins effroyable avec une personne à défendre.";
next;
mes "[Ahorl]";
mes "Mais ma dangerosité ne fit qu'énerver les Assassin, qui revenaient sans cesse plus nombreux, plus hardis, plus dangereux.";
mes "Nous avons fui et fui...";
next;
mes "[Ahorl]";
mes "... Et dans ma panique, j'ai trop négligé Naria. Elle n'a pas supporté nos errances et nos privations. Elle est tombée malade et elle est morte.";
next;
mes "[Ahorl]";
mes "Par désespoir, j'ai fui encore, dans ce désert, où je me suis laissé mourir...";
mes "Tel était la destiné des êtres malfaisants comme moi, ai-je pensé alors...";
next;
mes "[Ahorl]";
mes "...Merci d'avoir écouté cette pénible histoire, aventurier.";
mes "...Alors... à votre avis? Qu'aurais-je dû faire?";
next;
menu "Vous avez trop tué, ceci a été votre punition.",L_end,"Vous avez bien agit, selon votre coeur.",-,"Votre mort a été injuste!",L_end,"Vous auriez dû tuer Naria.",L_aie;
mes "[Ahorl]";
mes "... Merci de votre vote de confiance. Mais j'aurais dû cacher Naria et fuir seul...";
mes "Pensez-vous que l'esprit de Naria et de sa mère me pardonneront un jour?";
next;
menu "Oui, certainement!",L_end,"Cela semble difficile...",-,"Non, sûrement pas.",L_end;
mes "[Ahorl]";
mes "Votre honnêteté vous honore... Je suis venu dans ce monde pour me repentir, chercher le pardon...";
next;
mes "[Ahorl]";
mes "Mais je ne vois pas comment l'obtenir. Naria et sa mère sont mortes depuis des éons. La Guilde des Assassins a oublié...";
next;
menu "Moi, je vous pardonne.",-,"Dommage...",L_end,"Quel gachi!",L_end;
mes "[Ahorl]";
set dot_sinx, 1;
set #dot_halloween, #dot_halloween + 1;
mes "... Oh!";
mes "Euh...merci!";
next;
mes "[Ahorl]";
mes "J'ignore pourquoi, mais cela me fait... me fait me sentir mieux.";
next;
mes "[Ahorl]";
mes "Merci, aventurier. Je vais... encore méditer un peu.";
mes "Puis, je retournerai au Royaume des Morts. Le passé est le passé.";
close;
}
else{
mes "[Ahorl]";
mes "... Pouvez-vous me laisser à ma peine?";
close;
}


L_aie:
mes "[Ahorl]";
mes "Comme moi dans mon jeune temps, vous transpirez le Mal et l'égoïsme!";
mes "Disparaissez!";
percentheal -75,-100;
close;
 
L_end:
mes "[Ahorl]";
mes "Je vais méditer un peu tout ça...";
mes "Parler avec vous a été... étrange... Et difficile.";
close;

}


//aco 5

veins,112,48,4	script	Vardius	1655,{

if (dot_aco == 1){goto L_verif;}

if ((#dot_halloween > 0)&&(dot_aco == 0)){
mes "[Vardius]";
mes "Salutations... Oui, je me doute du pourquoi de votre présence...";
next;
mes "[Vardius]";
mes "Jamais je n'aurais dû quitter le Royaume des Morts...";
mes "Mais je voulais tant revoir cet endroit une dernière fois...";
next;
mes "[Vardius]";
mes "Savez-vous que je vénérais Freya, la Déesse de l'Amour?";
mes "...Et c'est l'Amour qui m'a tué...";
next;
mes "[Vardius]";
mes "J'étais profondément amoureux d'une amie d'enfance, une magicienne...";
mes "J'étais jeune, innocent, rempli d'une Foi naïve envers l'Amour...";
next;
mes "[Vardius]";
mes "Pour conquérir le coeur de mon aimée, je me mis en quatre, je me pliais à tous ses désirs.";
mes "Porté par ma Foi et mon amour, je devins vite son compagnon de quête.";
next;
mes "[Vardius]";
mes "C'était une aventurière audacieuse.";
mes "Ah, je me mens encore!";
next;
mes "[Vardius]";
mes "C'était plutôt une avare, toujours à la recherche de plus de puissance, de plus de pouvoirs!";
next;
mes "[Vardius]";
mes "Et j'étais son toutou, son domestique. Elle usait et abusait de mes bénédictions sacrées, de mes soins.";
next;
mes "[Vardius]";
mes "Elle utilisait à ses propres fins égoïstes le pouvoir que m'avait confié la Déesse. Et j'exécutais tous ses ordres, espérant chaque instant ravir son coeur. Curieusement, j'étais heureux.";
next;
mes "[Vardius]";
mes "Voilà mon erreur. J'aurais dû lui montrer le chemin de l'Amour vrai et non pas me vautrer dans cette facile dépendance...";
next;
mes "[Vardius]";
mes "Toujours est-il que nous avons connu le Destin des aventuriers trop pressés, trop avides. Un donjon sombre, des meutes de monstres... Ma puissance déclina avec la fatigue, mes soins furent dépassés...";
next;
mes "[Vardius]";
mes "Elle disparut, engloutie sous une horde de créatures que sa cupidité avait provoquées.";
next;
mes "[Vardius]";
mes "Elle m'a maudit dans son derniers souffle, mendiant des soins et une puissance que je n'avais plus la force de lui donner...";
next;
mes "[Vardius]";
mes "Mon tour vint après... Je n'avais ni la force, ni la volonté de me battre...";
next;
menu "Voilà une bien triste histoire...",-,"Bien fait pour vous!",L_end;
mes "[Vardius]";
mes "Oui... Mais c'est du passé, maintenant... Je ne suis venu ici que pour me... me souvenir.";
mes "Car malgré tout, je l'aime encore...";
next;
mes "[Vardius]";
mes "... Avant de rentrer, j'aurais voulu... Si ça ne vous dérange pas trop...";
next;
menu "Oui, que puis-je faire?",-,"J'en ai marre de vos histoires!",L_end;
L_infos:
mes "[Vardius]";
mes "Pourriez-vous m'apporter... Un ^0000FFCoeur de Glace^000000?";
next;
mes "[Vardius]";
mes "Je sais que c'est étrange, mais d'une certaine manière, cela me... la rappellera.";
mes "Ensuite, je promets que je retournerai dans les Ombres...";
set dot_aco, 1;
close;
}
else{
L_end:
mes "[Vardius]";
mes "... Laissez-moi donc méditer en paix.";
close;
}

L_verif:
mes "[Vardius]";
mes "Vous revoilà... Avez-vous pu trouver mon... souvenir?";
next;
if (countitem(7561) < 1){
mes "[Vardius]";
mes "Pas encore, on dirait... Ah, j'aimerais tant que vous me rapportiez un ^0000FFCoeur de Glace^000000...";
close;
}
else{
delitem 7561,1;
set dot_aco, 2;
set #dot_halloween, #dot_halloween + 1;
mes "[Vardius]";
mes "Oh! Vous en avez réellement un!";
mes "Merci! Merci!";
next;
mes "[Vardius]";
mes "Vous avez calmé mon âme tourmentée. Je n'ai plus rien à faire dans ce monde...";
mes "Laissez-moi encore quelques instants, j'aimerais méditer et prier encore un peu...";
close; 
}
}

//mago 6

gef_fild07,185,249,4	script	Yondren	1657,{

if (dot_mago == 1){goto L_verif;}
if ((#dot_halloween > 0)&&(dot_mago == 0)){
mes "[Yondren]";
mes "*Sniff*";
mes "Il est encore cassé...";
next;
menu "De quoi parlez-vous?",-,"Rien, rien...",L_end;
mes "[Yondren]";
mes "Du télescope. Mon amour, ma vie. Ma mort!";
mes "Il est cassé! Personne ne l'a réparé depuis mon décès!";
next;
mes "[Yondren]";
mes "C'est comme ça que je suis mort... J'étais un Mage prometteur, passionné par l'astronomie...";
mes "J'ai voulu réparer le télescope, une nuit. Seul.";
next;
mes "[Yondren]";
mes "Et... Fichues capes débiles!";
mes "Un coup de vent m'a déséquilibré alors que je posais la nouvelle lentille!";
next;
mes "[Yondren]";
mes "Je suis tombé dans le fleuve glacial, en plein hiver. Impossible de nager correctement...";
mes "J'ai toujours été nul en sport... Et avec la cape...";
next;
mes "[Yondren]";
mes "Oooh! J'enrage! Quelqu'un aurait pû au moins réparer le télescope!";
mes "Que je meure, à la rigueur, tant pis pour ma maladresse...";
next;
mes "[Yondren]";
mes "Mais je ne supporte pas qu'un si bel instrument de connaissance soit laissé à l'abandon!";
next;
mes "[Yondren]";
mes "Oh, j'ai une idée! Je ne suis plus matériel, donc je ne peux rien faire... Mais vous, oui!";
next;
menu "Euh... Je dois faire quoi?",-,"Hé! Pas question!",L_end;
mes "[Yondren]";
mes "Pas grand chose... Rapportez moi juste ^FF0000un Fragment de Cristal^000000.";
mes "Si vous m'aidez à le placer, j'accepterais de rentrer au Royaume des Morts.";
set dot_mago,1;
next;
mes "[Yondren]";
mes "On vous récompensera sûrement pour ça...";
mes "Je vous attends ici!";
close;
}
else{
L_end:
mes "[Yondren]";
mes "Vous me dérangez, là! Du vent!";
mes "Laissez-moi tranquille...";
close;
}

L_verif:
mes "[Yondren]";
mes "Vous revoilà enfin! Alors, vous avez ce que j'ai demandé pour réparer le télescope?";
next;
if (countitem(7321) < 1){
mes "[Yondren]";
mes "Hummm... On ne dirait pas...";
mes "Il me faut pour juste un seul petit ^0000FFFragment de Cristal^000000...";
close;
}
else{
mes "[Yondren]";
delitem 7321,1;
set #dot_halloween, #dot_halloween + 1;
mes "Oh, parfait, parfait... Un instant... Un petit sortilège et voilà!";
mes "Placez-le comme ça... Non! Plus à droite! Doucement! Ouiii, comme ça!";
next;
mes "[Yondren]";
mes "Voilà, le télescope est enfin réparé!";
mes "C'est comme... je ne sais pas... Une sorte d'hommage à ma mémoire...";
next;
mes "[Yondren]";
mes "Je me sens bien mieux...";
mes "Je sais que j'ai promis... Je retournerai dans l'Autre Monde, ne vous inquiétez pas...";
next;
mes "[Yondren]";
mes "Je fais juste quelques derniers petits réglages...Et une ou deux observations. Promis!";
set dot_mago,2;
close;
}


}


//Thief 7

moc_pryd01,182,189,4	script	Kirnya	1653,{

if (dot_thief > 0){goto L_fin;}
if ((#dot_halloween > 0)&&(dot_thief == 0)){
mes "[Kirnya]";
mes "Aaaah! Pas d'bol!";
mes "Tu m'as trouvée!";
next;
mes "[Kirnya]";
mes "Tu vas cafter, j'imagine? Même les Voleurs n'aiment pas le voisinage des fantômes...";
mes "J'imagine qu'la prime sur ma tête doit être élevée...";
next;
mes "[Kirnya]";
mes "Mais, eh, eh, comment tu comptes m'arrêter, hein?";
mes "J'suis immatérielle! Eh!";
next;
mes "[Kirnya]";
mes "T'as des menottes ou des fers pour mort-vivant, p't'être?";
if (countitem(2408) > 0){
next;
menu "Justement...",-;
mes "[Kirnya]";
mes "Eh! Mais, mais, mais! C'est les trucs qui attachent les zombies, ça! Pouah!";
mes "J'me rends, j'me rends! Ne m'approchez pas avec ça! Noooon!";
delitem 2408,1;
set dot_thief, 2;
set #dot_halloween, #dot_halloween + 1;
next;
L_fin:
mes "^0000CCKirnya est immobilisée par les fers maudits... Il sera facile de la reconduire au Royaume des Morts...^000000";
close;
}
close;
}
else{
mes "[Kirnya]";
mes "Quoi? T'as jamais vu d'fantôme?";
mes "Allez, j't'épargne. Dégage. Tu m'as pas vu, compris?";
close;
}

}

//Merchant 8

cmd_fild07,324,71,4	script	Carynn Verld	1654,{

if ((#dot_halloween > 0)&&(dot_merch == 0)){
mes "[Carynn Verld]";
mes "Ah. Oh...";
mes "Je devine pourquoi vous êtes là...";
next;
mes "[Carynn Verld]";
mes "Je dois rentrer, c'est ça...";
mes "Je suppose que je ne peux pas acheter ma tranquillité? ^FF00001 millions de Zenys^000000, ça vous dit?";
next;
menu "Oh que oui!",L_mamo,"Non, ma mission avant tout!",-;
mes "[Carynn Verld]";
mes "Vous n'êtes pas marrant, vous...";
mes "Pourquoi je rentrerais? J'ai réussi à m'échapper des Enfers? J'ai pas droit à une récompense?";
next;
mes "[Carynn Verld]";
mes "Songez à ma famille, qui va être si heureuse de me revoir! *Sniff* *Sniff*";
next;
menu "Mais bien sûr...",-,"Oh, je n'y avais pas songé. Pardon.",L_end;
mes "[Carynn Verld]";
mes "Ok,ok, je vois qu'on vous la fait pas. Dommage, ça marche plutôt bien, le couplet larmoyant...";
next;
mes "[Carynn Verld]";
mes "Alors... Songez au profit!";
mes "^CC0000L'Elixir de Résurrection de Carynn^000000, 'Comment j'ai échappé à la Mort', par Carynn Verld...";
next;
mes "[Carynn Verld]";
mes "Les possibilités d'exploiter ma mort et mon retour sont multiples!";
mes "Ça vous dit... associé?";
next;
menu "Hummm, c'est tentant!",L_mamo,"Non. vous devez rentrer...",-;
mes "[Carynn Verld]";
mes "Pffff... Vraiment, où va la jeunesse, de nos jours. Aucune ambition. Ok, ok, j'suis une simple marchande, vous trouverez sans doute un moyen de me ramener de force...";
next;
mes "[Carynn Verld]";
mes "Mais, j'veux lutter! Je ne partirai pas comme. Pas sans faire une dernière affaire!";
mes "Allez, dîtes votre prix pour que j'rentre sagement chez les squelettes!";
next;
input @prix;
if (@prix < 10000){
mes "[Carynn Verld]";
mes "QUOIII! Mais c'est une insulte!";
mes "Vas voir en Enfer si j'y suis!";
next;
goto L_mamo;
}
else{
set @price, @prix +20000;
mes "[Carynn Verld]";
mes "Mouaip... Je dirais plutôt "+ @price +" Zenys... Ok?";
next;
menu "Oui, c'est bon.",L_paye,"Non, c'est trop!",-;
mes "[Carynn Verld]";
set @price, @price - 5000;
mes "Que diriez-vous de "+ @price +" Zenys?";
next;
menu "Oui, c'est bon.",L_paye,"Non, c'est trop!",-;
mes "[Carynn Verld]";
set @price, @price - 5000;
mes "Dur en affaire, hein? Alors peut-être "+ @price +" Zenys? C'est mon meilleurs prix!";
next;
menu "Oui, c'est bon.",L_paye,"Non, c'est trop!",L_mamo;
close;
}
}
else{
mes "[Carynn Verld]";
mes "Hummm... Je me demande à quoi pourrait servir de l'argent à une fantôme...";
mes "Hummm... J'trouverais bien!";
close;
}

L_paye:
mes "[Carynn Verld]";
mes "Bon, ok, ça ira... Mon âme pour ça, vraiment, j'y perds, là...";
next;
if (Zeny < @price){goto L_paszeny;}
else{
set Zeny, Zeny - @price;
set dot_merch, 2;
set #dot_halloween, #dot_halloween + 1;
mes "[Carynn Verld]";
mes "Alors, quel effet ça fait d'acheter une âme? On se sent comme un Noir Seigneur du Mal? Hahaha!";
next;
mes "[Carynn Verld]";
mes "Ne vous en faîtes pas, en affaire, je n'ai qu'une parole...";
mes "Je rejoindrai le Royaume des Morts bientôt...";
next;
mes "[Carynn Verld]";
mes "Juste le temps de dépenser cet argent!";
close;
}

L_paszeny:
mes "[Carynn Verld]";
mes "N'essayez pas de m'arnaquer! Z'avez pas un sous en poche, je le vois!";
mes "Pas d'argent, pas d'âme!";
close;

L_mamo:
mes "[Carynn Verld]";
mes "Tenez... Prenez ça!";
mes "^FF0000 MAMONITE!";
percentheal -75,0;
close;

L_end:
mes "[Carynn Verld]";
mes "Hummm... Je me demande à quoi pourrait servir de l'argent à une fantôme...";
mes "Hummm... J'trouverais bien!";
close;

}


//HW 9

yuno_in02,20,61,4	script	Ery Khreen	1639,{

if (dot_hw == 3){goto L_fin;}
if (dot_hw == 2){goto L_fight;}
if (dot_hw == 1){goto L_verif;}
if ((#dot_halloween > 0)&&(dot_hw == 0)){
mes "[Ery Khreen]";
mes "Tiens donc... Je sens que le regard de la Mort est sur vous...";
next;
mes "[Ery Khreen]";
mes "Laissez-moi deviner... On vous a chargé de me 'ramener'?";
mes "Je m'attendais à mieux, franchement...";
next;
mes "[Ery Khreen]";
mes "Mais bon, on dit que les apparences sont parfois trompeuses et vous m'avez retrouvée...";
next;
mes "[Ery Khreen]";
mes "Vous devez donc avoir quelques compétences.";
mes "Je vous propose donc de les mettre à mon service...";
next;
menu "Je n'ai pas que ça à faire...",-,"C'est payé?",-,"Pas question!",L_end;
mes "[Ery Khreen]";
mes "Bien évidemment, vous serez fortement rémunéré. En argent et en pouvoir.";
mes "J'étais une Archimage! Mon talent était sans égal. Il n'y aurait pas eu cette damnée explosion...";
next;
mes "[Ery Khreen]";
mes "Mais je m'égare. Soyons efficaces.";
mes "Voici mon dilemme: je n'ai pas accès à toute ma magie sous cette forme.";
next;
mes "[Ery Khreen]";
mes "Sans mon corps, impossible de me relier aux énergies mystiques nécessaires à mon Art...";
mes "Aidez-moi à retrouver mes pouvoirs et votre fortune est faite!";
next;
menu "J'accepte!",-,"Pourquoi pas...",-,"Pas question!",L_end;
mes "[Ery Khreen]";
mes "Biiieeen. Ce n'est guère difficile, pour les mortels...";
mes "Il me faut juste quelques pierres pour relier mon âme à mes pouvoirs.";
L_infos:
next;
mes "[Ery Khreen]";
set dot_hw, 1;
mes "Rapportez moi ^0000FF1 Saphir pour l'Eau, 1 Ruby pour le Feu, 1 Zircon pour la Terre, 1 Topaze pour le Vent et 1 Opale pour l'Esprit^000000";
next;
mes "[Ery Khreen]";
mes "Je vous attends ici. Faîtes vite. Je me sens si... vulnérable!";
close;
}
else{
L_end:
mes "[Ery Khreen]";
mes "Laissez-moi, mortel.";
mes "Vous n'êtes d'aucune utilité ici...";
close;
}

L_verif:
mes "[Ery Khreen]";
mes "Ah, tout de même, vous revoilà...";
mes "J'espère que vous avez tout!";
next;
if ((countitem(728) < 1)||(countitem(726) < 1)||(countitem(723) < 1)||(countitem(727) < 1)||(countitem(729) < 1)){
mes "[Ery Khreen]";
mes "... Visiblement, non!";
mes "Ce n'est pourtant pas dur...";
goto L_infos;
close;
}
else{
mes "[Ery Khreen]";
mes "Parfait, parfait!";
mes "Donnez-moi tout ça!";
delitem 728,1;
delitem 726,1;
delitem 723,1;
delitem 727,1;
delitem 729,1;
set dot_hw, 2;
next;
mes "[Ery Khreen]";
mes "Aaaah, je sens mes pouvoirs revenir!";
mes "L'Archimage Khreen règnera à nouveau sur Geffen!";
next;
mes "^0000CC*Une lueur étrange entoure les pierres, qui se mettent à flotter autour de la magicienne fantôme. Vous vous demandez si vous n'avez pas commis une erreur...*^000000";
next;
mes "[Ery Khreen]";
mes "Cette fois-ci, plus d'accident. Plus de ragots sur ma magie!";
next;
menu "Et ma récompense?",-,"Vous n'allez pas retourner dans l'Autre Monde?",-;
mes "[Ery Khreen]";
mes "Je vous laisse vivre, mortel. Ce sera votre récompense pour m'avoir si bien servie!";
next;
mes "[Ery Khreen]";
mes "Et évidemment, je ne retournerai pas bêtement au Royaume des Morts!";
mes "Avec ma magie revenue, je suis Immortelle!";

next;
L_fight:
menu "Je vais vous arrêter, espèce de folle!",-;
mes "[Ery Khreen]";
mes "Et comment? Je suis immatérielle!";
mes "Et grâce à vous, j'ai à nouveau tous mes pouvoirs d'Archimagicienne!";
next;
menu "Frapper le Zircon",L_zircon,"Frapper le Rubis",L_rubis,"Frapper la Topaze",L_topaze,"Frapper l'Opale",L_opale,"Frapper le Saphir",L_saphir,"Ne rien faire",L_end;
close;
}

L_zircon:
mes "^0000CC*Vous frappez le Zircon de toutes vos forces. Un étrange énergie s'échappe alors...*^000000";
next;
mes "[Ery Khreen]";
mes "Comment osez-vous me menacer!";
mes "Disparaissez!";
close2;
percentheal -50,-50;
warp "pay_fild08",123,120;
end;

L_rubis:
mes "^0000CC*Vous frappez le Rubis de toutes vos forces. Un étrange énergie s'échappe alors...*^000000";
next;
mes "[Ery Khreen]";
mes "Comment osez-vous me menacer!";
mes "Disparaissez!";
close2;
percentheal -50,-50;
warp "moc_fild01",205,250;
end;

L_topaze:
mes "^0000CC*Vous frappez la Topaze de toutes vos forces. Un étrange énergie s'échappe alors...*^000000";
next;
mes "[Ery Khreen]";
mes "Comment osez-vous me menacer!";
mes "Disparaissez!";
close2;
percentheal -50,-50;
warp "mjolnir_09",206,158;
end;

L_saphir:
mes "^0000CC*Vous frappez le Saphir de toutes vos forces. Un étrange énergie s'échappe alors...*^000000";
next;
mes "[Ery Khreen]";
mes "Comment osez-vous me menacer!";
mes "Disparaissez!";
close2;
percentheal -50,-50;
warp "iz_dun00",308,68;
end;


L_opale:
set dot_hw, 3;
mes "^0000CC*Vous frappez l'Opale de toutes vos forces. Un étrange énergie s'échappe alors...*^000000";
next;
mes "[Ery Khreen]";
mes "Comment osez-vous me menacer!";
mes "Aaaah! Mon âme! Vous avez brisé le lien entre mon âme et ma magie!";
set #dot_halloween, #dot_halloween + 1;
next;
L_fin:
mes "[Ery Khreen]";
mes "Soyez maudit! Je suis à votre merci, désormais... Mon rituel pour récupérer mes pouvoirs m'a trop épuisée pour que je puisse vous combattre...";
mes "J'ai... j'ai perdu...";
next;
mes "^0000CC*L'Archimagicienne est désormais impuissante. Il vous sera facile de la faire reconduire en Enfer...*^000000";
close;

}


// archer 10


mjolnir_12,50,18,4	script	Faern Sodhynn	1656,{

if (dot_archer == 2){goto L_fin;}
if (dot_sniper > 0){goto L_soeur;}
if ((#dot_halloween > 0)&&(dot_archer < 2)){
mes "[Faern Sodhynn]";
mes "Euh... Bonjour. Ou Bonsoir. Je ne sais plus... Je m'appelle Faern, Faern Sodhynn.";
mes "Je suis un peu perdu, avec ce retour dans le monde des vivants...";
next;
menu "Mieux vaut rentrer, alors!",-,"Moi ça me le fait chaque matin.",L_end;
mes "[Faern Sodhynn]";
mes "Ah non, pas question!";
mes "En tout cas, pas sans ma grande soeur!";
next;
mes "[Faern Sodhynn]";
mes "De mon vivant, on devait aller à la chasse par ici!";
mes "Elle devait tout m'apprendre... Pour être un Tireur d'Elite, comme elle.";
next;
mes "[Faern Sodhynn]";
mes "Cependant, elle n'est jamais venue...";
mes "Alors... je me suis aventuré au plus profond du donjon, pensant qu'elle m'attendait un peu plus loin...";
next;
mes "[Faern Sodhynn]";
mes "Mais je ne l'ai pas trouvée. Je me suis perdu dans ce labyrinthe...";
mes "... Et jamais je ne pûs regagner la surface...";
next;
mes "[Faern Sodhynn]";
mes "Mais, je suis revenu, maintenant. Je vais... je dois attendre ici.";
mes "Cette fois, je suis sûr qu'elle viendra!";
set dot_archer, 1;
close;
}
else{
mes "[Faern Sodhynn]";
mes "J'attends quelqu'un... Mais pas vous.";
mes "Ma grande soeur m'a dit de ne pas parler aux inconnus.";
close;
}

L_soeur:
mes "[Faern Sodhynn]";
mes "Quoi!?!";
mes "Vous dîtes que vous avez trouvé ma soeur?";
next;
menu "Oui, elle vous attend à l'autre entrée.",-;
mes "[Faern Sodhynn]";
mes "Ooooh! Quel idiot j'ai été!";
mes "Moi et mon sens de l'orientation déplorable...";
next;
mes "[Faern Sodhynn]";
mes "C'est ça qu'elle voulait corriger, entre autres...";
mes "J'ai toujours été un forestier déplorable...";
next;
mes "[Faern Sodhynn]";
mes "Merci, maintenant je suis rassuré.";
mes "Je rentrerai avec elle au Royaume des Morts. Nous serons enfin réunis...";
set dot_archer, 2;
set #dot_halloween, #dot_halloween + 1;
close;
 
L_fin:
mes "[Faern Sodhynn]";
mes "Merci d'avoir retrouvé ma soeur.";
mes "Nous ne tarderons pas à partir de votre monde...";
close;

L_end:
mes "[Faern Sodhynn]";
mes "J'attends quelqu'un... Mais pas vous.";
mes "Ma grande soeur m'a dit de ne pas parler aux inconnus.";
close;

}


// sniper 11


prt_fild01,143,365,4	script	Dielsha Sodhynn	1638,{


if (dot_sniper > 0){goto L_fin;}
if ((#dot_halloween > 0)&&(dot_archer >= 0)){
mes "[Dielsha Sodhynn]";
mes "Bonjour... Vous n'auriez pas vu un jeune archer?";
mes "De notre... vivant... nous nous étions donné rendez-vous ici...";
next;
mes "[Dielsha Sodhynn]";
mes "J'avais espéré qu'il... viendrait ici.";
mes "Je sais qu'il s'est lui aussi échappé du Royaume des Morts.";
next;
mes "[Dielsha Sodhynn]";
mes "Et je vous préviens: pas question que je bouge d'ici sans lui!";
if (dot_archer == 1){goto L_frere;}
close;
}
else{
mes "[Dielsha Sodhynn]";
mes "Vous n'êtes pas celui que j'attends...";
close;
}

L_frere:
next;
mes "[Dielsha Sodhynn]";
mes "Que dîtes-vous? Vous avez rencontré mon frère de l'autre coté de la montagne!?!";
mes "Cette espèce d'ahuri... Il s'est trompé d'entrée...";
next;
mes "[Dielsha Sodhynn]";
mes "Oh, attendez... Comment être sûre qu'il s'agit de mon frère?";
mes "Il vous a dit son prénom?";
next;
input @nom$;
if ((@nom$ == "Faern Sodhynn")||(@nom$ == "Faern")){
mes "[Dielsha Sodhynn]";
mes "Il a du faire ça aussi, la première fois...";
mes "Je l'ai attendu, attendu...";
next;
mes "[Dielsha Sodhynn]";
mes "J'ai ensuite refait le chemin jusqu'à la maison, puis j'ai patrouillé de plus en plus loin...";
mes "Je ne voulais pas revenir sans lui!";
next;
mes "[Dielsha Sodhynn]";
mes "Je savais qu'il faisait un piètre Archer. J'aurais voulu lui apprendre les ficelles du métier... Hélas, mon angoisse était telle que j'ai commis une erreur de débutante...";
next;
mes "[Dielsha Sodhynn]";
mes "Je l'ai cherché seule, de nuit. Une racine cachée dans l'ombre, alors que je courrais, trop angoissée pour me soucier de mes pieds...";
mes "Je suis tombée dans une crevasse...";
next;
mes "[Dielsha Sodhynn]";
mes "Une fin peu glorieuse pour une chasseresse...";
mes "Mais je ne me souciais que de sa sécurité...";
next;
set dot_sniper,1;
set #dot_halloween, #dot_halloween + 1;
L_fin:
mes "[Dielsha Sodhynn]";
mes "Merci de l'avoir retrouvé.";
mes "Je vais aller le rejoindre et nous repartirons ensemble pour le Royaume des Morts.";
mes "Nous ne vous causerons pas d'ennuis.";
close;
}
else{
mes "[Dielsha Sodhynn]";
mes "Ouf... Vous ne parlez pas de mon frère, visiblement...";
mes "Je me disais aussi. Ne pas avoir le sens de l'orientation, à ce point, pour un archer...";
close;
}

}

//sword 12

arena_room,99,102,4	script	Narla Bromm	1652,{


if (dot_swordy == 1){goto L_verif;}
if ((#dot_halloween > 0)&&(dot_swordy == 0)){
mes "[Narla Bromm]";
mes "Hummm, vous m'avez retrouvée...";
mes "Je n'ai jamais voulu quitter sciemment le Monde des Morts... Je n'ai fait que suivre les autres.";
next;
mes "[Narla Bromm]";
mes "Je sais, ce n'est pas une excuse. Moi aussi, j'ai voulu me sentir vivante à nouveau...";
next;
mes "[Narla Bromm]";
mes "Je suis née fille de chevalier. Seule et unique enfant, dernier maillon d'une longue lignée de puissants guerriers...";
next;
mes "[Narla Bromm]";
mes "Autant dire que ma vie était toute tracée. Je portais l'armure au lieu de la robe. J'avais une épée en bois au lieu d'une poupée.";
mes "Oh, ce n'était pas déplaisant.";
next;
mes "[Narla Bromm]";
mes "La satisfaction d'un entraînement bien mené, l'adrénaline d'un combat, le goût de la victoire. Et surtout, les lueurs de respect dans les yeux des guerriers. Des guerriers mâles.";
next;
mes "[Narla Bromm]";
mes "J'ai bien vécu. Mais avec cette vie d'aventure et de combat, je suis morte jeune. Sans avoir profité d'autre chose...";
next;
mes "[Narla Bromm]";
mes "Voilà ce qui me retient un peu ici. Cette autre chose que je n'ai pas connu...";
next;
mes "[Narla Bromm]";
mes "Accepteriez-vous d'exaucer un dernier caprice avant de me reconduire dans la tombe?";
next;
menu "Oui, bien sûr.",-,"Non",L_end;
mes "[Narla Bromm]";
mes "Merci. C'est juste un peu rien, une gaminerie.";
next;
L_infos:
set dot_swordy, 1;
mes "[Narla Bromm]";
mes "J'aimerais une ^0000FFglace^000000. Un cornet bien frais, bourré de sucre et de délice.";
next;
mes "[Narla Bromm]";
mes "C'est ridicule, hein? Une guerrière redoutée, revenue d'entre les morts, qui se damnerait pour une glace. Pour du sucré.";
mes "Mais c'est un des rares plaisirs qui m'ont vraiment fait envie, dans ma vie...";
next;
mes "[Narla Bromm]";
mes "Et auxquels j'ai renoncé, par fierté, par obéissance. Alors pour une fois, j'aimerais céder à la tentation...";
mes "Merci de me rapporter ce dernier petit péché...";
close;
}
else{
mes "[Narla Bromm]";
mes "Laissez-moi, voulez-vous? Je ne vous ferai aucun mal...";
close;
} 

L_verif:
mes "[Narla Bromm]";
mes "Alors, vous avez trouvé?";
next;
if (countitem(536) < 1){
mes "[Narla Bromm]";
mes "Visiblement, non... Dommage.";
mes "J'aurais aimé savourer un délicieux cornet glacé une dernière fois...";
close;
}
else{
delitem 536, 1;
mes "[Narla Bromm]";
mes "Ho! Vous l'avez fait!";
mes "Vous êtes vraiment serviable... Merci!";
next;
L_fin:
mes "[Narla Bromm]";
mes "Je savoure ma glace et je retourne aux Royaumes des Morts...";
mes "Cela va me manquer...";
set dot_swordy, 2;
set #dot_halloween, #dot_halloween + 1;
close;

}

L_end:
mes "[Narla Bromm]";
mes "Laissez-moi, voulez-vous? Je ne vous ferai aucun mal...";
close;

}


//Le Livre d'Ymir http://bookofymir.free.fr/
//===== eAthena Script =======================================
//= Déguiseur Halloween Book Of Ymir
//===== By: ================================================== 
//= Cid Kramer alias Tacos
//===== Current Version: ===================================== 
//= 1.2
//===== Compatible With: ===================================== 
//= eAthena
//===== Description: ========================================= 
//= Suite à la quête d'Halloween, le joueur pourra se déguiser
//= de façon aléatoire suivant un panel de monstre définit en 
//= fonction du nombre d'âmes récupéré lors de l'event Haloween
//===== Variables =============================================
//= deguisement : Variable qui sert à savoir si le joueur 
//=		  est déguisé ou non, (si != 0 il est déguisé)
//= #dot_halloween : Variable de la quête d'halloween (Elle 
//= 		    commence à 10, +1 pour chaque âme 
//=		    receuillie par le joueur)
//===== Prerequis =============================================
//= La quête d'Halloween doit modifier #dot_halloween, le joueur
//= ne pourra accéder au npc que si il posséde plus de 2 âmes, 
//= donc 12 minimum pour cette variable.
//=============================================================
//===== Important =============================================
//=============================================================
//= Les event script doivent être activés en tant que label car
//= ce script utilise OnPCLoadMapEvent: pour undisguise le 
//= joueur si il change de map.
//= Le script est ici configuré pour disguise 10 Minute le 
//= joueur, et l'interdire de se warper avec le costume.
//=============================================================
//===== Commentaires: ========================================= 
//= 1.1 Correction orthographique (Myllena)
//= 1.2 Modification de quelques textes (Myllena)
//=============================================================


payon,132,191,2	script	Horlamin Chorster	735,{

mes "[Horlamin Chorster]";
if (deguisement !=0 ){

	mes "Vous en avez assez?";
	next ;
	menu "Rendre le déguisement.",-,"Garder le déguisement.",M_Rester ;


	mes "[Horlamin Chorster]";
	mes "A votre guise, bonne continuation!";
	undisguise ;
	set deguisement,0 ;
	stopnpctimer ;
	close;

	M_Rester:
	mes "[Horlamin Chorster]";
	mes "Amusez-vous bien!";
	close;


}
if ((#dot_halloween >= 10) && (dot_horlamin == 0)) goto P_Match ;
if ((#dot_halloween >= 10) && (dot_horlamin != 0)) goto P_Suite ;

mes "Bonsoir...";
mes "Mon nom est Horlamin Chorster. Je suis artisan. Et célèbre!";
next;
menu "Ah bon?",-,"Je ne vous connais pas.",-;
L_connaispas:
mes "[Horlamin Chorster]";
mes "Comment?! Vous ne me connaissez pas?! ...";
mes "Mes costumes ne sont pas faits pour les personnes de votre gabarit, laissez-moi coudre en paix et allez voir ailleurs si j'y suis!";
close;

P_Match:
mes "Bonsoir...";
mes "Mon nom est Horlamin Chorster. Je suis artisan. Et célèbre!";
next;
menu "Ah bon?",L_connaispas,"Je ne vous connais pas.",L_connaispas,"Oh! Alors c'est vous le célèbre costumier?",-;

mes "[Horlamin Chorster]";
mes "Oui tout à fait. D'ailleurs ma dernière création porte sur le thème du... ... ...";
mes "Oh! Mais je vous reconnais! Vous faîtes partie de ceux qui ont aidé le Seigneur de la Mort!";
next ;
mes "[Horlamin Chorster]";
mes "Peu nombreux sont les gens assez courageux pour traquer les fantômes... Et de ces gens là, seule une poignée seraient prêts à aider le Seigneur de la Mort...";
set dot_horlamin,1;
next ;
mes "[Horlamin Chorster]";
P_Suite:
mes "Considérez les costumes que je vous offre comme récompense de votre courage.";
mes "Voulez-vous être déguisé par l'un de mes magnifiques costumes?";
next ;
mes "[Horlamin Chorster]";
mes "Je vous préviens, ces vêtements sont sous l'emprise d'un enchantement les rendants plus réalistes même que ce qu'ils représentent.";
next;
mes "[Horlamin Chorster]";
mes "En contre partie cela ne dure que quelques minutes. Et cet enchantement n'est actif que dans l'enceinte du royaume des morts...";
next;

menu "Déguisez-moi!",-,"Non merci, j'aime être moi-même.",M_Non ;

mes "[Horlamin Chorster]";
mes "Très bien, prenez ça, et ça, et allez vous habiller dans la cabine...";
next;
mes "^0000FF*Vous enfilez les vêtements avec une grande facilité, comme si cétait le costume qui vous portait*^000000";
next;

// Tableau contenant les ID des monstres, le nombre de case du tableau correspond au nombre d'ame trouvé (exemple : pour 2 ames trouvé, on a droit à 1509 : Lude)
 set @vestiaire[0],1005 ; set @vestiaire[1],1179 ; set @vestiaire[2],1509 ; set @vestiaire[3],1508 ; set @vestiaire[4],1506 ; set @vestiaire[5],1510 ; set @vestiaire[6],1109 ; set @vestiaire[7],1130 ; set @vestiaire[8],1196 ; set @vestiaire[9],1503 ; set @vestiaire[10],1504 ; set @vestiaire[11],1505 ; set @vestiaire[12],1507 ;

do
 {
	set deguisement,rand(#dot_halloween -10) ;
 } 
 while (deguisement > 12 ) ; // Au cas ou la variable est supérieure à 22
 
 disguise @vestiaire[deguisement] ;
 dispbottom "Une magie semble émaner de votre costume...";
 
mes "[Horlamin Chorster]";
mes "Vous voilà prêt pour faire peur à n'importe qui! Amusez-vous bien.. Mais n'en abusez pas!";
if (deguisement == 0) set deguisement,1; // Pour dire qu'il est déguisé même si il est tombé sur 0 : le familliar.
close2 ;
 
 sleep2(300000) ; // Ici le npc attend 5 Minutes avant de continuer (disguise le joueur).
 if (deguisement !=0){
	dispbottom "La magie de votre costume s'estompe...";
	undisguise ;
	set deguisement,0 ;
 }
 stopnpctimer ;
 end ;
 
 
 M_Non:
mes "[Horlamin Chorster]";
mes "Comme vous le souhaitez, cependant je suis sûr que nous portons tous un masque... Nous ne sommes nous-même qu'avec nous-même... Bonne soirée.";
close ;

OnPCLoadMapEvent:
if (deguisement!=0) {
set deguisement,0 ;
undisguise ;
}
end ;



}