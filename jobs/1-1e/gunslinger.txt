//Le Livre d'Ymir http://bookofymir.free.fr/
//traduit par Irreal, corrigé par Myllena
//===== eAthena Script ======================================= 
//= Gunslinger Job Quest
//===== By: ================================================== 
//= erKURITA & RockmanEXE
//= Direct credits quote from RockmanExe: 
//= "info provided by RockmanEXE cause he pwnz0rz yer arse"
//= DON'T REMOVE THIS! (by request of him, he provided all
//= the info regarding the quests and shops.)
//===== Current Version: ===================================== 
//= 2.0
//===== Compatible With: ===================================== 
//= eAthena SVN
//===== Description: ========================================= 
//= Gunslinger Job Change Quest
//===== Additional Comments: ================================= 
//= 1.0 Made the NPC [erKURITA]
//= 1.5 Couple fixes to the npc, aswell as adding the missing
//=	  3 green herbs. [erKURITA]
//= 1.6 job number->const, commonized variable name,
//= 	optimized [Lupus]
//= 1.7 Now uses only ONE variable GUNS_Q [Lupus]
//= 1.7a Grammar fixes, few spelling fixes, etc [CBMaster]
//= 1.7b Parenthesis fixes [KarLaeda]
//= 1.8 Fixed the reward you can get [Playtester]
//= 1.9 Removed some 'clever' script constructs [ultramage]
//= 2.0 Updated to official version - Thanks to Omega for
//= his first try [SinSloth]
//============================================================ 

que_ng,152,167,3	script	Maître Miller	901,{

	if(Class == Job_Novice && JobLevel > 9)
	{
		switch(GUNS_Q)
		{
			case 0:
				mes "[Maître Miller]";
				mes "Je suis le chef de la sécurité, mais également le formateur des Gunslinger, vous pouvez m'appeler Maître Miller.";
				next;
				mes "[Maître Miller]";
				mes "Je ne peux pas manquer à ma tâche pour l'instant, qu'est ce que vous me voulez?";
				next;
				switch( select( "Rien du tout.","Je veux devenir un Gunslinger.") )
				{
					case 1:
						mes "[Maître Miller]";
						mes "Me faire perdre mon temps, c'est comme gaspiller de l'argent. Hors de ma vue, immédiatement!";
						close;

					case 2:
						mes "[Maître Miller]";
						mes "Hum. Vous semblez jeune, mais en regardant dans vos yeux... Je peux voir une grande puissance.";
						next;
						mes "[Maître Miller]";
						mes "Hum... Ok. D'abord, si vous avez vraiment la volonté de devenir Gunslinger, vous devrez passer quelques tests avec un interview et une phase d'entraînement.";
						next;
						mes "[Maître Miller]";
						mes "C'est ce que vous voulez?";
						next;
						switch (select ("Je vais prendre le temps d'y réfléchir.","Oui c'est certain.") )
						{
							case 1:
								mes "[Maître Miller]";
								mes "Hum...Qu'il en soit ainsi. C'est très important... Prenez votre temps, quand vous vous sentirez prêt, revenez me voir.";
								close;

							case 2:
								mes "[Maître Miller]";
								mes "Hum. Ok.";
								mes "Pour l'instant, allez voir l'Alchimiste de Payon, c'est un vieil homme sage, et remettez lui cette lettre.";
								next;
								mes "[Maître Miller]";
								mes "Il vous jugera et nous fera un rapport pour nous prévenir si vous êtes apte.";
								next;
								mes "["+ strcharinfo(0) +"]";
								mes "Pas de problème.";
								set GUNS_Q,1;
								close;
						}
				}

			case 1:	
				mes "[Maître Miller]";
				mes "Aller aller, bougez vous. Le vieil homme sage vous attend à Payon.";
				close;

			case 2:
				mes "[Maître Miller]";
				mes "Je pense qu'il vous à donné quelques courses à faire, non?";
				next;
				mes "[Maître Miller]";
				mes "Il doit voir votre potentiel.";
				mes "Bonne chance.";
				close;

			case 3:
				mes "[Maître Miller]";
				mes "Ça fait beaucoup de choses, mais je vous le répète, le vieil homme est très sérieux. Faîtes bien votre travail.";
				close;

			case 4:
				mes "[Maître Miller]";
				mes "Mm~ J'attendrai de vos nouvelles. J'espère que vous deviendrez l'un des nôtres. Nous sommes comme une famille...";
				close;

			case 5:
				if (skillpoint > 0)	{
					mes "[Maître Miller]";
					mes "Apprenez d'abord toutes les compétences basiques!!";
					close;
				}
				mes "[Maître Miller]";
				mes "Ohh, Je vois que vous avez obtenu quelque chose du vieil homme. C'est rare. Dans des circonstances normales... Ce ne serait pas arrivé...";
				mes "Bien, bien.";
				next;
				mes "[Maître Miller]";
				mes "Mm... Ok. Le vieil homme vous soutient, donc je n'ai aucune raison de rejeter votre demande.";
				next;
				mes "[Maître Miller]";
				mes "Ok, jusque là, vous vouliez être un Gunslinger.";
				mes "Et maintenant, vous êtes un Gunslinger.";
				mes "Rappelez vous bien que, tout au long de votre vie, votre pistolet devra toujours être à vos côtés.";
				mes "Rappelez vous également que chacun de vos pistolets, ainsi que toutes vos balles ont un numéro de série. Et que ceux-ci peuvent être vérifiés par l'un de nous à tout moment.";
				next;
				mes "[Maître Miller]";
				mes "Les seuls endroits où vous pourrez acheter des armes et des munitions sont les magasins spéciaux de la Guilde des Gunslingers.";
				next;
				mes "[Maître Miller]";
				mes "Et ceci est valable pour tout le monde.";
				mes "Nous ne pouvons nous permettre de laisser tomber des pistolets entre de mauvaises mains, alors pardonnez nous pour ces petits désagréments.";
				next;
				mes "[Maître Miller]";
				mes "Il y a d'autres raisons, que vous trouverez sûrement par vous même plus tard.";
				mes "Ce sont toutes des instructions de Lady Celena, notre chef de guilde.";
				next;
				mes "[Maître Miller]";
				mes "Vous aurez des missions dans peu de temps.";
				mes "Vous comprendrez plus tard.";
				next;
				mes "[Maître Miller]";
				mes "Je suis sûr que nous nous reverrons, et que nous passerons de bons moments ensemble.";
				nude;
				callfunc "Job_Change",Job_Gunslinger;
				callfunc "F_ClearJobVar";
				set GUNS_Q,6;
				set @gun_ex,rand(1,2);
				if(@gun_ex == 1) getitem 13100,1; else getitem 13150,1;
				close;
		}
	} else if(Class == Job_Novice && JobLevel < 10) {
		mes "[Maître Miller]";
		mes "Hum, Je suis sûr que vous avez du talent, mais vous n'êtes pas assez fort pour le moment.";
		mes "Revenez me voir quand vous le serez.";
		close;
	} else if(Class == Job_Gunslinger) {
		mes "[Maître Miller]";
		mes "Oh~ Ça fait un bail~";
		mes "Alors, comment s'est passé votre voyage?";
		mes "N'oubliez pas, prenez bien soins de vos armes.";
		close;
	} else if(Class == Job_Baby) {
		mes "[Maître Miller]";
		mes "Ouch~";
		mes "Comment un bébé peut-il être arrivé jusqu'ici?~";
		mes "Peekaboo~";
		next;
		mes "[Maître Miller]";
		mes "Où est donc ta maman?~";
		mes "Haha~";
		mes "C'est dangereux par ici, tu sais.";
		mes "Vas jouer ailleurs.";
		close;
	} else {
		mes "[Maître Miller]";
		mes "Ne venez pas me déranger.";
		mes "Passez votre chemin.";
		close;
	}
}

payon,184,65,3	script	Vieil Homme Sage	866,{

	switch(GUNS_Q)
	{
		case 0:
			mes "[Vieil Homme Sage]";
			mes "Zzz...Zzz";
			close;

		case 1:
			mes "[Vieil Homme Sage]";
			mes "...Hum... Un jeune";
			mes "Qu'est-ce que vous voulez?.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "C'est Maître Miller qui m'envoie.";
			next;
			mes "[Vieil Homme Sage]";;
			mes "Miller...";
			mes "Mm...Hum. Alors comme ça, c'est Dark Fox qui vous envoie...";
			next;
			mes "[Vieil Homme Sage]";
			mes "Il est sage et droit...";
			mes "Il se sacrifierait pour ses coéquipiers.";
			mes "Mmm...Si c'est lui qui vous envoie... C'est que vous devez être à la hauteur...";
			next;
			mes "[Vieil Homme Sage]";
			mes "Attendez... Rapprochez vous...";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "....";
			next;
			mes "[Vieil Homme Sage]";;
			mes "Mmm...";
			mes "Mmmmm....";
			next;
			mes "[Vieil Homme Sage]";
			mes "Mmm... Des yeux brillant... un air sérieux... une bonne posture... et un bon sens de... la responsabilité...";
			mes "Mais ce n'est pas assez.";
			next;
			mes "[Vieil Homme Sage]";
			mes "Vous manquez d'expérience,";
			mes "Vous serez blessé à ce rythme.";
			next;
			mes "[Vieil Homme Sage]";
			mes "Très bien, je vais vous faire un cadeau...";
			mes "Si vous souhaitez suivre cette voie...";
			mes "Trouvez 3 Rainbow Shells, 10 Shells, 3 Feathers, 1 Trunk, 3 Zargons, et 3 Green Herbs, et apportez moi le tout.";
			next;
			mes "[Vieil Homme Sage]";
			mes "Si vous montrez ce cadeau à Dark Fox, il vous acceptera volonté.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "J'ai juste besoin de 3 Rainbow Shells, 10 Shells, 3 Feathers, 1 Trunk, 3 Zargons, et 3 Green Herbs.";
			set GUNS_Q,2;
			close;

		case 2:
			if ((countitem(935) < 10) || (countitem(949) < 3) || (countitem(1019) < 1) || (countitem(912) < 3) || (countitem(511) < 3))
			{
				mes "["+ strcharinfo(0) +"]";
				mes "J'ai besoin de 3 Rainbow Shells, 10 Shells, 3 Feathers, 1 Trunk, 3 Zargons et 3 Green Herbs.";
				close;
			}
			mes "[Vieil Homme Sage]";
			mes "Oh... montrez moi tout ça.";
			mes "Il est grand temps de vous offrir un cadeau, attendez voir un peu.";
			delitem  935,10;
			delitem  949,3;
			delitem 1019,1;
			delitem  912,3;
			delitem  511,3;
			set GUNS_Q,3;
			close;

		case 3:
			mes "[Vieil Homme Sage]";
			mes "Mm... Vous êtes revenu à temps";
			mes "Je viens de terminer.";
			mes "C'est quelque chose d'assez simple.";
			mes "Mais je n'ai pas travaillé depuis longtemps.";
			mes "Ahh...Je suis fatigué...";
			next;
			mes "[Vieil Homme Sage]";
			mes "La dernière fois que j'ai fabriqué ceci... C'était il y a bien dix ans.";
			mes "J'ai suivi cette voie par le passé... Et j'ai combattu... Avec cet outil.";
			next;
			mes "[Vieil Homme Sage]";
			mes "Rencontrer le père de Celena m'a replonger dans mes vieux souvenirs, comme si le temps s'était arrêté. C'était comme un souffle d'air chaud venant de l'ouest.";
			next;
			mes "[Vieil Homme Sage]";
			mes "Il y aura toujours des souvenirs douloureux enfouis au plus profond  de nous-mêmes... mais j'imagine que... je dois me tourner vers l'avenir, comme Celena et Dark Fox.";
			mes "Je vous remercie...";
			next;
			mes "[Vieil Homme Sage]";
			mes "Je suis vieux maintenant...";
			mes "Et dans peu de temps...";
			mes "Je vais m'en retourner... à la terre.";
			next;
			mes "[Vieil Homme Sage]";
			mes "Je suis si fatigué...";
			mes "Je suis vraiment désolé... mais pourriez vous...";
			mes "Me promettre quelque chose...";
			mes "Promettez... De faire quelque chose pour moi.";
			next;
			mes "[Vieil Homme Sage]";
			mes "J'ai une soudaine envie de... boire un verre de lait.";
			next;
			mes "[Vieil Homme Sage]";
			mes "Prenez le comme la dernière faveur... d'un vieillard.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Je vais vous chercher un verre de lait.";
			set GUNS_Q, 4;
			close;
		
		case 4:
			if (countitem(519) < 0)
			{
				mes "["+ strcharinfo(0) +"]";
				mes "Je vais vous chercher un verre de lait.";
				close;
			}
			mes "[Vieil Homme Sage]";
			mes "Merci.";
			mes "Vous être vraiment quelqu'un de bien.";
			mes "Ne changez pas.";
			delitem 519,1;
			set GUNS_Q,5;
			next;
			mes "[Vieil Homme Sage]";
			mes "Acceptez ce cadeau et montrez le à Dark Fox.";
			mes "Vous avez tout mon soutien.";
			next;
			mes "[Vieil Homme Sage]";
			mes "Ee~~Ye~Ee~~ Hooma~ Raa~~Nae~Eee~~";
			mes "Ee~~Ye~Ee~~ Hooma~ Raa~~Nae~Eee~~";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Je vais prendre le cadeau et vite aller voir Maître Miller.";
			close;

		case 5:
			mes "[Vieil Homme Sage]";
			mes "Ee~~Ye~Ee~~ Hooma~ Raa~~Nae~Eee~~";
			mes "Ee~~Ye~Ee~~ Hooma~ Raa~~Nae~Eee~~";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Je vais prendre le cadeau et vite aller voir Maître Miller.";
			close;
		
		case 6:
			mes "[Vieil Homme Sage]";
			mes "Mm... Ça fait un bail.";
			mes "Si tout va bien, vous deviendrez un Gunslinger puissant.";
			close;
	}
}
