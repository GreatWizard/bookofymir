//Le Livre d'Ymir http://bookofymir.free.fr/
//partiellement traduit par Capria, corrigé par Myllena
//===== eAthena Script =======================================
//= Juperos Dungeon Quests
//===== By ===================================================
//= MasterOfMuppets
//===== Version ==============================================
//= 1.3b
//===== Compatible With ======================================
//= eAthena SVN
//===== Description ==========================================
//= [Partial Aegis COnversion]
//= Juperos Ruins related Quests/Events
//===== Comments =============================================
//= 1.0 First version, partly implemented [MasterOfMuppets]
//= 1.1 Added official Juperos Ruins History Quest. Thanks
//= to Keplerk for his first version. [SinSloth]
//= 1.2 Corrected NPC names to fall within proper restrictions. [L0ne_W0lf]
//= 1.3 Removed semi-official core access NPCs, replaced with [L0ne_W0lf]
//=	event-driven story progressive NPCs. Optimization needed.
//= 1.3a Adjusted the elevafor timer. (132000 -> 142000) [L0ne_W0lf]
//= 1.3b Minor updates to juperos elevator NPCs. [L0ne_W0lf]
//============================================================

yuno_in04,190,125,4	script	Erudite	700,{

	switch(yuno_hist)
	{
		case 0:
			mes "[Erudite]";
			mes "...Mm? ";
			mes "...Oui?";
			next;
			mes "[Erudite]";
			mes "...";
			mes "......";
			mes "Puis-je vous aider?";
			next;
			switch( select( "Oh! N-Non, rien!","Excusez-moi..." ) )
			{
				case 1:
					mes "[Erudite]";
					mes "...";
					mes "......";
					mes "Hum?";
					mes "...........";
					mes "Hmpf.";
					close;
			
				case 2:
					mes "[Erudite]";
					mes "...";
					mes "......";
					mes "Hum?";
					mes "...........";
					mes "Humm...";
					next;
					mes "[Erudite]";
					mes "Vous devez être perdu.";
					mes "Vous vous trouvez au département de recherche des érudits... vous savez... tout un contenu que vous ne pouvez comprendre.";
					mes "Les romans populaires et livres d'images se trouvent autre part.";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "...";
					mes "......";
					next;
					mes "[Erudite]";
					mes "Pourquoi ne fouillez-vous pas les rayons de la bibliothèque?";
					mes "Je suis sûre que vous pourrez y trouver un livre qui suscitera votre intérêt.";
					mes "Enfin, cela dépend de votre capacité d'attention...";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "(C'est quoi son problème?! Elle est caractérielle ou juste coincée?!?)";
					close;
			}

		case 1:
			mes "[Erudite]";
			mes "...Mm? ";
			mes "...Oui?";
			next;
			mes "[Erudite]";
			mes "...";
			mes "......";
			mes "Puis-je vous aider?";
			next;
			switch( select( "Oh! N-Non, rien!","Par hasard..." ) )
			{
				case 1:
					mes "[Erudite]";
					mes "...";
					mes "......";
					mes "Hum?";
					mes "...........";
					mes "Hmpf.";
					close;
			
				case 2:
					mes "["+strcharinfo(0)+"]";
					mes "Par hasard...";
					mes "Ne seriez-vous pas en train de mener des recherches concernant Juperos?";
					next;
					mes "[Erudite]";
					mes "Hé bien oui, c'est exact. Mais comment êtes-vous au courant du sujet de mes recherches en cours?";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "Oh, j'ai lu une thèse intitulée 'La Chute de Juperos', et j'ai trouvé que le style d'écriture et votre personnalité semblaient correspondre.";
					next;
					mes "[Erudite]";
					mes "Oh...! Vous avez lu ma thèse?";
					mes "Alors, qu'en avez-vous pensé?";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "Pour tout vous dire, elle est très bien, mais franchement... elle est incomplète.";
					mes "En fait, il n'est pas très intéressant de n'exposer que des conjectures, et encore moins lorsque vous n'avez pas de témoignages pour appuyer vos déclarations.";
					next;
					mes "[Erudite]";
					mes "....";
					mes "Laissez-moi m'excuser d'avoir été aussi grossière avec vous tout à l'heure.";
					mes "Comme vous le savez après avoir lu mon mémoire, mon nom est Fayruz Khrhiyha.";
					mes "Sans indiscrétion, pourrais-je savoir quel est votre nom?";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "Je me prénomme "+strcharinfo(0)+",";
					mes "je suis un brave aventurier au service de sa majesté royale: notre bon et bienveillant Roi Tristan III.";
					set yuno_hist,2;
					next;
					mes "[Fayruz]";
					mes "Bien, "+strcharinfo(0)+", je comprends que ma thèse nécessite encore davantage de témoignages.";
					mes "Mais, afin de compléter mes recherches, j'ai besoin de quelques documents anciens provenant de Juperos...";
					next;
					mes "[Fayruz]";
					mes "S'il vous arrive de visiter Juperos et d'y trouver quelques documents anciens, me les rapporteriez-vous?";
					mes "Les avoir m'aiderait grandement dans mes recherches. Merci bien...";
					close;
			}

		case 2:
			if((countitem(7352)) || (countitem(7353)) || (countitem(7354)) || (countitem(7355)))
			{
				mes "[Fayruz]";
				mes "Ah, c'est vous! Ecoutez, je viens juste de trouver le rapport d'un aventurier qui a exploré Juperos.";
				mes "Il y est fait mention d'une statue de pierre qui doit être fort intéressante...";
				next;
				mes "[Fayruz]";
				mes "S'il vous arrive de parcourir Juperos, iriez-vous trouver la statue de pierre à l'entrée de son donjon et y lire le message qui y est gravé pour moi?";
				next;
				mes "[Fayruz]";
				mes "D'après mes notes, il y a un sortilège qui permettrait à son lecteur d'en mémoriser le message, même s'il n'en connaît pas le langage.";
				mes "Donc, revenez me voir si vous réussissez à le lire.";
				close;
			}
			mes "[Fayruz]";
			mes "Si par chance, vous veniez un jour à traverser Juperos, me le feriez-vous savoir si vous trouviez quoi que ce soit qui pourrait m'aider dans mes recherches?";
			mes "Je vous en serais très reconnaissante.";
			close;

		case 3:
			mes "[Fayruz]";
			mes "Hé bien, vous paraissez plutôt content.";
			mes "Puis-je vous demander ce qui est arrivé pour que votre visage affiche une telle expression?";
			next;
			switch( select( "J'ai trouvé quelque chose à Juperos.","Rien de spécial." ) )
			{
		
				case 1:
					mes "[" +strcharinfo(0)+"]";
					mes "Je suis allé à Juperos comme vous me l'aviez demandé, et j'ai trouvé cette statue de pierre dont vous parliez.";
					mes "Comme vous l'aviez dit, il y avait un message gravé dessus.";
					next;
					mes "[Fayruz]";
					mes "Fascinant!";
					mes "Ainsi, la statue est vraiment enchantée de manière à ce que toute personne puisse mémoriser le message?";
					mes "Qu-que dit le message?";
					next;
					mes "^3355FFVous récitez le message gravé sur la statue de pierre, incapable d'interpréter les sons que vous émettez. Mais assez étrangement, vous pouvez facilement vous en souvenir de mémoire.^000000";
					next;
					mes "[Fayruz]";
					mes "Ah, je vois! Attendez, donnez-moi un moment pour traduire correctement tout cela...";
					next;
					mes "...";
					mes "......";
					mes ".........";
					next;
					mes "[Fayruz]";
					mes "Ça signifie: 'Souhaitez-vous voir la fin de la folie? Il attend là où les trois colonnes furent détruites, là où deux cents illusions errent.'";
					next;
					mes "[Fayruz]";
					mes "'Vous le verrez, celui qui était vaniteux et excessif, avec vos propres yeux à l'endroit où passe la lumière.";
					set yuno_hist,4;
					next;
					mes "[Fayruz]";
					mes "Ah, d'habitude, les descriptions parlant d'une personne vaniteuse et excessive font référence au scientifique fou dont le bruit court qu'il aurait vécu dans cet ancien secteur.";
					mes "Mais si cela est vrai, je vais alors devoir retravailler ma thèse...";
					next;
					mes "[Fayruz]";
					mes "J'ai une autre faveur à vous demander.";
					mes "Si vous trouvez des objets d'importance historique à Juperos, rapportez-les moi.";
					mes "Je vous récompenserai, bien entendu.";
					next;
					mes "[Fayruz]";
					mes "Ça serait des plus utiles si vous réussissiez à trouver des documents provenant de ce secteur.";
					mes "Heureusement, ils ont fait toutes leurs archives sur un matériau plus durable que le papier.";
					close;

				case 2:
					mes "[Fayruz]";
					mes "Rien, huh?";
					mes "Ma vie est déjà assez paisible, mais d'une certaine manière, je ne me sens pas très contente.";
					close;		
			}

		case 4:	
			mes "[Fayruz]";
			mes "Oh bonjour, "+strcharinfo(0)+".";
			mes "Alors, qu'est-ce qui vous amène à la Bibliothèque de Yuno aujourd'hui?";
			next;
			switch( select ( "Il fait beau temps aujourd'hui, n'est-ce pas?","J'ai trouvé quelque chose à Juperos.","Rien de spécial.") )
			{
				case 1:
					mes "[Fayruz]";
					mes "A dire vrai, je ne l'aurais pas su.";
					mes "Il est tard quand je sors, donc en général je rate toute lueur du soleil.";
					mes "Le beau temps me manque parfois, vous savez?";
					close;
			
				case 2:
					if((countitem(7352)) || (countitem(7353)) || (countitem(7354)) || (countitem(7355)))
					{
						mes "[Fayruz]";
						mes "Oh, vraiment?!";
						mes "Quelles bonnes nouvelles!";
						mes "Q-qu'avez-vous trouvé?";
						next;
						mes "^3355FFDans son excitation, Fayruz commence à fouiller parmi vos objets avant que vous n'ayez le temps de lui répondre.^000000";
						next;
						mes "[Fayruz]";
						mes "Oh, ça doit être ça!";
						mes "Cela ne vous dérange pas si je garde cette plaque transparente pour mes recherches?";
						mes "En retour, je vous raconterai quelques histoires que j'ai apprises à propos de Juperos.";
						next;
						switch( select ("Je vous en prie, servez-vous.","Pas question, je refuse de vous la donner.") )
						{
							case 1:
								if(countitem(7352)) callfunc "Func_JupHist",7352,1;
								else if(countitem(7353)) callfunc "Func_JupHist",7353,2;
								else if(countitem(7354)) callfunc "Func_JupHist",7354,4;
								else if(countitem(7355)) callfunc "Func_JupHist",7352,8;

		
							case 2:
								mes "[Fayruz]";
								mes "Mm? Êtes-vous sérieux?";
								mes "Cet objet est très précieux pour un chercheur comme moi, mais je n'ai pas la moindre idée de l'usage que pourrait en faire un aventurier.";
								mes "Soit, vous avez vos raisons...";
								close;
						}
					}
					mes "[Fayruz]";
					mes "Oh, vraiment?!";
					mes "Quelles bonnes nouvelles!";
					mes "Q-qu'avez-vous trouvé?";
					next;
					mes "^3355FFDans son excitation, Fayruz commence à fouiller parmi vos objets avant que vous n'ayez le temps de lui répondre.^000000";
					next;
					mes "[Fayruz]";
					mes "Oh. Il n'y a rien là dedans qui m'aiderait dans mes recherches, mais merci quand même";
					mes "Si vous trouvez autre chose tandis que vous serez à Juperos, revenez et montrez-le moi, d'accord?";
					close;
		
				case 3:
					mes "[Fayruz]";
					mes "Ah, je vois. Bien, puisque vous êtes ici, pourquoi ne lisez-vous pas quelque chose?";
					mes "Il y a beaucoup de livres qui traitent de divers sujets intéressants, comme l'Economie de Schwaltzvalt...";
					next;
					mes "[Fayruz]";
					mes "Oh, dans tous les cas, n'oubliez pas la faveur que je vous ai demandée.";
					mes "Si, à Juperos, vous trouvez quoi que ce soit avec une signification historique, j'apprécierais que vous me le rapportiez immédiatement.";
					close;
				
			}

		case 5:
			mes "[Fayruz]";
			mes "Oh, "+strcharinfo(0)+"!";
			mes "Êtes-vous revenu avec quelque chose provenant de Juperos?";
			mes "J'ai espéré que vous reveniez avec quelque chose d'utile pour mes recherches!";
			next;
			switch( select( "Jetez un coup d'oeil à ça.","Oh, je suis désolé...") )
			{
				case 1:	
					switch(jupe_hist)
					{
						case 1:
							callfunc "Func_JupHist",7353,7354,7355,7352;

						case 2:
							callfunc "Func_JupHist",7352,7354,7355,7353;

						case 4:
							callfunc "Func_JupHist",7352,7353,7355,7354;

						case 8:
							callfunc "Func_JupHist",7352,7353,7354,7355;
					}

				case 2:
					mes "[Fayruz]";
				mes "Ah, je vois. Bien, puisque vous êtes ici, pourquoi ne lisez-vous pas quelque chose?";
				mes "Il y a beaucoup de livres qui traitent de divers sujets intéressants, comme... l'Honnêteté Pour Soi-Même.";
				next;
				mes "[Fayruz]";
				mes "Oh, dans tous les cas, n'oubliez pas la faveur que je vous ai demandée.";
				mes "Si, à Juperos, vous trouvez quoi que ce soit avec une signification historique, j'apprécierais que vous me le rapportiez immédiatement.";
				close;
			}

		case 6:
			mes "[Fayruz]";	
			mes "Oh, "+strcharinfo(0)+"!";
			mes "La plaque transparente que vous m'avez apportée la dernière fois m'est vraiment d'une grande aide dans mes recherches.";
			mes "Si vous en avez l'occasion, s'il vous plaît, apportez-m'en plus!";
			set yuno_hist,7;
			next;
			mes "[Fayruz]";
			mes "Ces nouvelles données sont en train d'ajouter bien plus de crédibilité à ma thèse.";
			mes "Oh, je serai avec vous dans un moment, laissez-moi finir de traduire ce dernier passage vraiment rapidement...";
			close;

		case 7:
			mes "[Fayruz]";
			mes "Bonjour, "+strcharinfo(0)+"~";
			mes "Oh, avez-vous été capable d'aller voir à Juperos pour toute chose qui pourrait m'aider dans mes recherches?";
			next;
			switch( select( "Oui, jetez un coup d'oeil à ça.","Non, je suis désolé...") )
			{
				case 1:
					switch(jupe_hist)
					{
						case 3:
							callfunc "Func_JupHist",7354,7355,7352,7353;

						case 5:
							callfunc "Func_JupHist",7353,7355,7352,7354;

						case 6:
							callfunc "Func_JupHist",7352,7355,7353,7354;

						case 9:
							callfunc "Func_JupHist",7353,7354,7352,7355;

						case 10:
							callfunc "Func_JupHist",7352,7354,7353,7355;

						case 12:
							callfunc "Func_JupHist",7352,7353,7354,7355;
					}

				case 2:
					mes "[Fayruz]";
					mes "Oh, c'est bon.";
					mes "De toute façon, je n'ai pas vraiment de date limite pour terminer ce projet de recherche. ";
					mes "Malgré tout, je veux juste que vous sachiez que j'apprécie réellement votre aide.";
					close;
			}

		case 8:
			mes "[Fayruz]";
			mes ""+strcharinfo(0)+"...";
			mes "J'ai de grandes difficultés à traduire cette plaque transparente que vous m'avez apportée la dernière fois. Je suis si frustrée...";
			next;
			mes "[Fayruz]";
			mes "Attendez une minute...";
			mes "Ceci ici signifie...";
			mes "Très bien. D'accord. Oui.";
			mes "Oui! Bien sûr, comment n'ai-je pas pu le voir avant!";
			set yuno_hist,9;
			next;
			mes "[Fayruz]";
			mes "Je suis à vous dans juste une seconde!";
			mes "Je pense que je viens juste de faire un vrai bond dans la compréhension de tout cela...!";
			next;

		case 9:
			mes "[Fayruz]";
			mes "Ah, je vous attendais, "+strcharinfo(0)+".";
			mes "Alors, êtes-vous retourné à Juperos? J'espère réellement que vous avez été capable de trouver quelque chose de nouveau qui m'aidera dans mes recherches...";
			next;
			switch( select("En réalité, j'ai trouvé cela...","Je suis désolé, mais non...") )
			{
				case 1:
					switch(jupe_hist)
					{
						case 7:
							callfunc "Func_JupHist",7355,7352,7353,7354;

						case 11:
							callfunc "Func_JupHist",7354,7352,7353,7355;

						case 13:
							callfunc "Func_JupHist",7353,7352,7354,7355;

						case 14:
							callfunc "Func_JupHist",7352,7353,7354,7355;
					}

				case 2:
					mes "[Fayruz]";
					mes "Ah, je vois. Bien, puisque vous êtes ici, pourquoi ne lisez-vous pas quelque chose?";
					mes "Il y a beaucoup de livres qui traitent de divers sujets intéressants, comme Histoire d'Aventure Moderne.";
					next;
					mes "[Fayruz]";
					mes "Oh, dans tous les cas, n'oubliez pas la faveur que je vous ai demandée.";
					mes "Si, à Juperos, vous trouvez quoi que ce soit avec une signification historique, j'apprécierais que vous me le rapportiez immédiatement.";
					close;
			}

		case 10:
			mes "[Fayruz]";
			mes "Oh bonjour, "+strcharinfo(0)+"...";
			mes "Donc, qu'est-ce qui vous amène exactement à la Bibliothèque de Yuno cette fois?";
			next;
			switch( select("J'ai trouvé une autre plaque transparente.","Je viens juste pour visiter.") )
			{
				case 1:
					if((countitem(7352)) || (countitem(7353)) || (countitem(7354)) || (countitem(7355)))
					{
						mes "[Fayruz]";
						mes "Hum, bien, nous avons progressé autant que nous le pouvions avec les Plaques Transparentes que vous m'avez déjà données, mais cela ne peut pas faire de mal d'avoir trop d'archives pour soutenir mes théories.";
						next;
						mes "[Fayruz]";
						mes "J'apprécie réellement vos efforts continus pour me venir en aide.";
						mes "Je vous prie de bien vouloir prendre ceci en gage de mes remerciements.";
						mes "Vous avez été génial, "+strcharinfo(0)+"... ";
						if(countitem(7352)) delitem 7352,1;
						else if(countitem(7353)) delitem 7353,1;
						else if(countitem(7354)) delitem 7354,1;
						else delitem 7355,1;
						getitem 644,1;
						close;
					}
					mes "[Fayruz]";
					mes "Mmm...?";
					mes "Il semble que vous n'ayez pas apporté d'autres Plaques Transparentes.";
					mes "Êtes-vous sûr de ne pas les avoir égarées?";
					close;

				case 2:
					mes "[Fayruz]";
					mes "Ah, je vois. Bien, merci de votre aide, j'ai bien progressé dans ma thèse.";
					mes "J'apprécie réellement ce que vous avez fait pour moi, aventurier.";
					close;
			}
	}


}

function	script	Func_JupHist	{

	switch(yuno_hist)
	{
		case 4:
			mes "[Fayruz]";
			mes "Merci infiniment, vous ne savez pas ce que cela représente pour moi!";
			mes "Très bien, relaxez-vous, prenez un siège.";
			mes "Fermez les yeux pendant que je vous raconte cette vieille histoire.";
			next;
			mes "^3355FFFayruz commence à relater un vieux récit à propos de Juperos qui semble typique pour une histoire classique, mais sa manière de conter vous tire soudainement dans une pieuse, mais extrêmement vivide expérience.";
			next;
			mes "^3355FFVous ressentez les gloires et les tragédies du protagoniste comme si vous étiez vraiment là avec le héros dans ses voyages.";
			mes "Le conte touche finalement à sa fin et vous vous réveillez d'un état de transe, doucement ramené à la réalité.^000000";
			delitem getarg(0),1;
			set yuno_hist,5;
			set jupe_hist,getarg(1);
			getexp 100000,0;
			next;
			mes "[Fayruz]";
			mes "Chacun peut s'identifier à ces vieilles histoires classiques.";
			mes "J'espère que ce conte aura été aussi significatif pour vous qu'il ne l'a été pour moi lorsque je l'ai entendu pour la première fois.";
			next;
			mes "[Fayruz]";
			mes "Si vous pouvez me trouver un autre artéfact provenant de Juperos, je partagerai un autre conte comme celui-ci avec vous.";
			mes "Alors, qu'en dites-vous?";
			mes "D'accord, donc je vous reverrai, aventurier~";
			close;

		case 5:
			if((countitem(getarg(0))) || (countitem(getarg(1))) || (countitem(getarg(2))))
			{
				mes "[Fayruz]";
				mes "Oh, c'est inattendu.";
				mes "Cette plaque transparente semble avoir été fabriquée à une époque différente de celle que vous m'avez donnée plus tôt.";
				mes "C'est fascinant...";
				next;
				mes "[Fayruz]";
				mes "*Soupir* J'aimerais vraiment pouvoir explorer Juperos par moi-même, mais je ne suis pas assez forte.";
				mes "Dans un sens, je suis plutôt jalouse de vous. Mais nous n'y pouvons rien...";
				next;
				mes "[Fayruz]";
				mes "Vous savez, cela me rappelle cette grande histoire d'un héros tragique que j'aimerais partager avec vous.";
				mes "Laissez votre esprit vagabonder tandis que je raconte ce conte toujours d'actualité, mais doux et amer...";
				next;
				mes "^3355FFFayruz vous raconte une histoire avec un début très gai, rempli d'espoir, qui vous imprègne de la béatitude des cieux, mais qui ensuite vous fait tomber subitement dans tout le désespoir et le tourment de l'enfer.^000000";
				next;
				mes "^3355FFL'histoire atteint finalement sa fin et vous êtes surpris de vous trouver assis dans la Bibliothèque de Yuno.^000000";
				next;
				mes "[Fayruz]";
				mes "Je sais que c'est une histoire vraiment déprimante, mais j'espère que vous l'avez aimée.";
				mes "Je pense que vous serez d'accord sur le fait qu'elle contient une vérité à propos du genre humain qui ne peut être ignorée.";
				if(countitem(getarg(0)))
				{
					delitem getarg(0),1;
					if(getarg(0) == 7352) set jupe_hist,jupe_hist +1;
					else set jupe_hist,jupe_hist +2;
				}
				else if(countitem(getarg(1)))
				{
					delitem getarg(1),1;
					if(getarg(1) == 7353) set jupe_hist,jupe_hist +2;
					else set jupe_hist,jupe_hist +4;
				}
				else
				{
					delitem getarg(2),1;
					if(getarg(2) == 7354) set jupe_hist,jupe_hist +4;
					else set jupe_hist,jupe_hist +8;
				}
				set yuno_hist,6;
				getexp 100000,0;
				next;
				mes "[Fayruz]";
				mes "Maintenant je suis sûre que vous pensez que ces contes classiques sont comme des expériences condensées, des vérités perfectionnées que l'on ne peut taire et que l'on retrouve dans notre propre réalité.";
				next;
				mes "[Fayruz]";
				mes "Si vous trouvez d'autres de ces Plaques Transparentes à Juperos, je serais vraiment heureuse de partager une autre histoire avec vous, "+strcharinfo(0)+"";
				close;
			}
			else if(countitem(getarg(3)))
			{
				mes "[Fayruz]";
				mes "Oh, celle-ci semble avoir été fabriquée à une époque semblable à celle que vous m'avez apportée plus tôt.";
				mes "Je ne suis pas sûre de pouvoir en tirer de nouvelles informations...";
				next;
				mes "[Fayruz]";
				mes "Néanmoins, je suis sûre que cela m'aidera dans mes recherches.";
				mes "Je ne ferai juste pas autant de progrès que prévu.";
				mes "S'il vous plaît, j'aimerais que vous preniez ceci en gage de ma gratitude.";
				delitem getarg(3),1;
				getitem 644,1;
				next;
				mes "[Fayruz]";
				mes "Maintenant, si vous voulez bien m'excuser, j'ai besoin de retourner à la composition de mes recherches...";
				mes "Merci infiniment pour votre aide, "+strcharinfo(0)+".";
				close;
			}
			else
			{
				mes "[Fayruz]";
				mes "Oh. Il n'y a rien là dedans qui m'aiderait dans mes recherches, mais merci quand même.";
				mes "Si vous trouvez autre chose tandis que vous serez à Juperos, revenez et montrez-le moi, d'accord?";
				close;
			}

		case 7:
			if((countitem(getarg(0))) || (countitem(getarg(1))))
			{
				mes "[Fayruz]";
				mes "Est-ce une autre plaque transparente?";
				mes "Oui, elle est légèrement différente de la dernière que vous m'avez apportée...";
				mes "C'est si excitant!";
				next;
				mes "[Fayruz]";
				mes "Oh. Vous pensez probablement que je suis une académicienne complètement accro.";
				mes "Hé bien, ma vie n'est pas très mouvementée, mais il y a d'autres choses auxquelles je pense!";
				mes "Comme, hé bien... C'est bizarre mais...";
				next;
				mes "[Fayruz]";
				mes "Vous voyez, il y a ce gars que j'aime bien.";
				mes "Je ne suis pas sûre d'où il peut bien se trouver maintenant, mais son nom est Nadim Amal.";
				mes "C'est un ami de mon frère, je l'ai rencontré pour la première fois il y a 10 ans. ^333333*Soupir...*^000000";
				next;
				mes "[Fayruz]";
				mes "Tout récemment, je l'ai vu avec sa soeur, mon amie de Morroc.";
				mes "C'est étrange de penser que je puisse encore ressentir ces sentiments pour lui après tout ce temps, n'est-ce pas? Oh...!";
				next;
				mes "[Fayruz]";
				mes "Je devrais vraiment vous récompenser pour cette plaque transparente.";
				mes "Et si je vous racontais la plus effrayante des histoires que je connaisse?";
				next;
				mes "^3355FFFayruz vous raconte une histoire d'horreur à vous glacer le sang qui vous fait trembler de peur.";
				mes "Vous avez déjà entendu d'autres histoires de fantômes, mais vous n'avez jamais été aussi profondément immergé dans ce genre de conte auparavant.^000000";
				next;
				mes "C'est seulement lorsque l'histoire se termine et que vous reprenez clairement vos esprits que vous remarquez être en pleine sueurs froides.^000000";
				next;
				mes "[Fayruz]";
				mes "Ça doit être une réaction naturelle, tout le monde craint l'inconnu dans un sens ou un autre.";
				mes "Les histoires d'épouvante sont attractives parce qu'en réalité nous aimons l'étrange et le grotesque.";
				if(countitem(getarg(0)))
				{
					delitem getarg(0),1;
					if(getarg(0) == 7352) set jupe_hist,jupe_hist +1;
					else if(getarg(0) == 7353) set jupe_hist,jupe_hist +2;
					else set jupe_hist,jupe_hist +4;
				}
				else if(countitem(getarg(1)))
				{
					delitem getarg(1),1;
					if(getarg(1) == 7353) set jupe_hist,jupe_hist +2;
					else if(getarg(1) == 7354) set jupe_hist,jupe_hist +4;
					else set jupe_hist,jupe_hist +8;
				}
				set yuno_hist,8;
				getexp 100000,0;
				next;
				mes "[Fayruz]";
				mes "Bien... C'est juste mon opinion.";
				mes "En tout cas, si vous trouvez quoi que ce soit d'autre à Juperos qui pourrait m'aider dans mes recherches, revenez et montrez-le moi, d'accord? A plus tard~";
				close;
			}
			else if((countitem(getarg(2))) || (countitem(getarg(3))))
			{
				mes "[Fayruz]";
				mes "Oh, celle-ci semble avoir été fabriquée à une époque semblable à celle que vous m'avez apportée plus tôt.";
				mes "Je ne suis pas sûre de pouvoir en tirer de nouvelles informations...";
				next;
				mes "[Fayruz]";
				mes "Néanmoins, je suis sûre que cela m'aidera dans mes recherches.";
				mes "Je ne ferai juste pas autant de progrès que prévu.";
				mes "S'il vous plaît, j'aimerais que vous preniez ceci en gage de ma gratitude.";
				next;
				mes "[Fayruz]";
				mes "Maintenant, si vous voulez bien m'excuser, j'ai besoin de retourner à la composition de mes recherches...";
				mes "Merci infiniment pour votre aide, "+strcharinfo(0)+".";
				if(countitem(getarg(2))) delitem getarg(2),1;
				else if(countitem(getarg(3))) delitem getarg(3),1;
				getitem 644,1;
				close;
			}
			else
			{
				mes "[Fayruz]";
				mes "Oh. Il n'y a rien là dedans qui m'aiderait dans mes recherches, mais merci quand même";
				mes "Si vous trouvez autre chose tandis que vous serez à Juperos, revenez et montrez-le moi, d'accord?";
				close;
			}

		case 9:
			if(countitem(getarg(0)))
			{
				mes "[Fayruz]";
				mes "Oooh...! Celle-ci est très différente de celles que vous m'avez données auparavant.";
				mes "Ceci devrait me fournir une profusion de tous nouveaux aperçus de la civilisation de Juperos!";
				next;
				mes "[Fayruz]";
				mes "Toutes les Plaques Transparentes que vous m'avez données devraient contenir plus de données que nécessaire pour compléter les recherches relatives à ma thèse.";
				mes "Encore une fois, merci beaucoup~";
				next;
				mes "[Fayruz]";
				mes "Néanmoins, cela ne signifie pas que j'arrêterai de collecter des données pour mes recherches.";
				mes "En plus, j'ai une dernière histoire à vous conter: à propos d'un jeune homme au coeur pur élu par les dieux pour servir et protéger le genre humain.";
				next;
				mes "[Fayruz]";
				mes "Dans ce but, il lui a été donné une armure voyante renfermant d'extraordinaires pouvoirs, ainsi qu'un livre détaillant les instructions pour l'utiliser.";
				mes "Cependant, il perdit rapidement ces instructions...";
				next;
				mes "^3355FFL'histoire relatant du plus grand héros de Juperos que raconte Fayruz est vraiment très drôle en premier lieu, mais ensuite elle recouvre le spectre entier de l'émotion et de l'humanité...";
				next;
				mes "^3355FFL'histoire se termine et vous restez imprégné du formidable sentiment que votre espoir et votre inspiration sont indéfectibles.";
				mes "Vous pouvez le faire si vous essayez!^000000";
				if(getarg(0) == 7352) set jupe_hist,jupe_hist+1;
				else if(getarg(0) == 7353) set jupe_hist,jupe_hist+2;
				else if(getarg(0) == 7354) set jupe_hist,jupe_hist+4;
				else set jupe_hist,jupe_hist+8;
				set yuno_hist,10;
				delitem getarg(0),1;
				getexp 100000,0;
				next;
				mes "[Fayruz]";
				mes "Voilà, c'était la dernière et la meilleure histoire que j'avais à partager avec vous.";
				mes "Peut-être que la prochaine fois, je vous informerai de la progression de mes recherches~";
				close;
			}
			else if((countitem(getarg(1))) || (countitem(getarg(2))) || (countitem(getarg(3))))
			{
				mes "[Fayruz]";
				mes "Hum...";
				mes "Celle-ci semble avoir été fabriquée à une époque similaire à la précédente.";
				next;
				mes "[Fayruz]";
				mes "Ne vous inquiétez pas..";
				mes "Cela m'aidera quand même dans mes recherches, bien que je ne pense pas pouvoir progresser aussi rapidement qu'avec l'autre.";
				next;
				mes "[Fayruz]";
				mes "Veuillez prendre ceci en gage de ma gratitude.";
				next;
				mes "[Fayruz]";
				mes "Maintenant, excusez-moi. Je dois retourner à mes recherches.";
				if(countitem(getarg(1))) delitem getarg(1),1;
				else if(countitem(getarg(2))) delitem getarg(2),1;
				else delitem getarg(3),1;
				getitem 644,1;
				close;
			}
			else
			{
				mes "[Fayruz]";
				mes "Oh. Il n'y a rien là dedans qui m'aiderait dans mes recherches, mais merci quand même";
				mes "Si vous trouvez autre chose quand vous serez à Juperos, revenez et montrez-le moi, d'accord?";
				close;
			}
	}
}

yuno_in04,186,125,4	script	Gros Manuscrit	111,{

	mes "^8B6914*Thèse: La Chute de Juperos*";
	mes "Par Fayruz Khrhiyha";
	mes "Chercheuse du Château des Sages^000000";
	next;
	switch( select("Table des matières.","Ne pas y toucher.") )
	{
		case 1:
			if(yuno_hist > 4)
			{
				mes "^8B6914 1. Préface";
				mes " 2. L'avènement de Juperos";
				mes " 3. Théorie sur la Chute de Juperos^000000";
				next;
				switch( select("Préface.","L'avènement de Juperos.","Théorie sur la Chute de Juperos.","Ne pas y toucher.") )
				{
					case 1:
						mes "^8B6914Les érudits sont persuadés que la civilisation de Juperos était autrefois située en surface et qu'elle est désormais ensevelie sous le Plateau d'Elmeth.";
						mes "Les raisons qui ont causé la ruine de la";
						if(yuno_hist < 9)
						{
							mes "cité restent encore nébuleuses aujourd'hui...^000000";
							next;
							mes "^8B6914De nombreuses spéculations pourraient justifier la déchéance de Juperos, mais il est dur de trouver de la documentation provenant de cette époque.";
							mes "Quant aux témoignages que nous possédons actuellement sur Juperos, ils sont peu convaincants.^000000";
							next;
							mes "^8B6914Malgré un manque de données empiriques ou même concrètes sur la civilisation de Juperos, notre monde moderne peut apprendre beaucoup des ruines de cette ancienne cité...^000000";
							if(yuno_hist < 7)
							{
								next;
								mes "["+strcharinfo(0)+"]";
								mes "Humm...";
								mes "Un chapitre entier pour dire: 'Nous ne savons absolument rien à propos de quelque chose'.";
								mes "Je devrais écrire un livre moi aussi, tiens~";
							}
							close;
						}
						mes "cité sont encore à discuter...^000000";
						next;
						mes "^8B6914Cependant, de nouvelles découvertes concernant l'histoire de Juperos nous ont permis de tirer quelques conclusions.^000000";
						close;			
				
					case 2:
						if(yuno_hist < 9)
						{
							mes "^8B6914...";
							mes "......";
							mes "..........^000000";
							next;
							mes "["+strcharinfo(0)+"]";
							mes "Tout ceci ne sont que des hypothèses sans fondements!";
							mes "Ce papier n'est pas encore assez développé pour être une vraie thèse...";
							close;
						}
						else if(yuno_hist == 9)
						{
							mes "^8B6914Juperos fût construite il y a plus d'un millier d'années dans une époque de paix, juste après une guerre majeure.";
							mes "Contrairement à ce que disent les croyances populaires, il n'y a aucun témoignage qui prouve que Yuno descendrait de Juperos.^000000";
							next;
							mes "^8B6914En fait, il y a une forte chance qu'une autre guerre, entre Yuno et Juperos, eût pour résultat l'indépendance de Yuno par rapport à Juperos et la destruction de toute documentation existante provenant de cette époque.^000000";
							next;
							mes "["+strcharinfo(0)+"]";
							mes "Oui... Bien sûr!";
							mes "Ça prend tout son sens maintenant!";
							close;
						}
						mes "^8B6914Juperos fût construite il y a plus d'un millier d'années dans une époque de paix, juste après une guerre majeure.";
						mes "Il y a maintenant une preuve indéniable liant Yuno à Juperos, qui prouve alors que Yuno n'était qu'une partie de Juperos.^000000";
						next;
						mes "^8B6914Tout comme Yuno, Juperos était une société qui était fière de son avancée dans les sciences, lesquelles tenaient une place importante dans la vie civilisée.";
						mes "La Science fût responsable de la croissance de Juperos, mais aussi de sa ruine.";
						close;

					case 3:
						if(yuno_hist < 10)
						{
							mes "^8B6914...";
							mes "......";
							mes "..........^000000";
							next;				
							mes "["+strcharinfo(0)+"]";
							mes "Hum. Cet auteur ne fait qu'évoquer des théories, mais plus j'avance dans ma lecture, moins je comprends ce qu'est réellement sa théorie.";
							mes "Je ne pense pas qu'il y en ait une...";
							emotion 4,1;
							close;
						}
						mes "^8B6914Ce qui est le plus perturbant, ce sont les récents témoignages, dont un en particulier qui n'a subi aucune modification, évoquant le rôle qu'a joué l'un des scientifiques les plus en vue de Juperos dans la croissance et la chute de cette cité.";
						next;
						mes "^8B6914Si ces écrits sont authentiques, alors ce qui est réellement arrivé c'est qu'une révolution scientifique explosa suite aux efforts d'un savant pour manipuler les énergies de l'artéfact connu sous le nom de Coeur d'Ymir.";
						next;
						mes "^8B6914On attribue à cet unique homme et au Coeur d'Ymir le succès et la prospérité qu'a connu la civilisation de Juperos.";
						mes "Divers comptes-rendus datant d'avant la chute de Juperos exposent en détail son travail avec des chimères...^000000";
						next;
						mes "^8B6914Ce savant, qui exerçait sa passion en cherchant une méthode scientifique pour atteindre l'immortalité, soi-disant pour aider son peuple, en utilisait des chimères comme cobayes, était devenu fou.^000000";
						next;
						mes "^8B6914Il finit par se servir de sa propre personne pour ses expériences, mais ne parvînt qu'à de désastreux résultats.^000000";
						next;
						mes "^8B6914Il y eût une erreur dans la calibration de l'énergie du Coeur d'Ymir et le savant se transforma en ce monstre que nous connaissons aujourd'hui sous le nom de Chimère.";
						mes "Lui et ses cobayes furent lâchés dans la cité de Juperos.^000000";
						next;
						mes "^8B6914Ces Chimères immortelles rasèrent la cité entière, tuant d'innombrables personnes.";
						mes "Apparemment, une équipe de scientifiques fût capable de récupérer un fragment du Coeur d'Ymir, et l'utilisa pour lancer une partie de Juperos dans le ciel.^000000";
						next;
						mes "^8B6914Cette partie de Juperos se développa, pour finalement donner la cité de Yuno.";
						mes "Les scientifiques ayant lancé Yuno dans le ciel moururent de causes inconnues immédiatement après. Ils n'ont laissé aucune documentation.^000000";
						next;
						mes "^8B6914On dit que les Chimères et le laboratoire dans lequel elles avaient été conçues reposent sous les ruines de la cité de Juperos qui fût, jadis, toute puissante.^000000";
						close;

					case 4:
						mes "["+strcharinfo(0)+"]";
						mes "Pouah... Ma tête me fait atrocement souffrir après avoir lu ce livre pour intellectuels.";
						mes "Je sais! Je vais jouer aux jeux vidéo!";
						close;
				}
			}
			switch( select( "Préface","Fermer le dossier.") )
			{
				case 1:
					mes "^8B6914Les érudits sont persuadés que la civilisation de Juperos était autrefois située en surface et qu'elle est désormais ensevelie sous le Plateau d'Elmeth.";
					mes "Les raisons qui ont causé la ruine de la cité restent encore nébuleuses aujourd'hui...^000000";
					next;
					mes "^8B6914De nombreuses spéculations pourraient justifier la déchéance de Juperos, mais il est dur de trouver de la documentation provenant de cette époque.";
					mes "Quant aux témoignages que nous possédons actuellement sur Juperos, ils sont peu convaincants.^000000";
					next;
					mes "^8B6914Malgré un manque de données empiriques, ou même concrètes, sur la civilisation de Juperos, notre monde moderne peut apprendre beaucoup des ruines de cette ancienne cité...^000000";
					if(!yuno_hist) set yuno_hist,1;
					next;
					mes "["+strcharinfo(0)+"]";
					mes "Ceci...";
					mes "Ceci est supposé être une thèse de recherches?";
					mes "Il n'y a quasiment aucune recherche là dedans...";
					close;
				
				case 2:
					mes "["+strcharinfo(0)+"]";
					mes "Hum...";
					mes "Ce n'est pas assez gros pour être un vrai devoir d'académie.";
					mes "Ça ne doit pas encore être terminé.";
					close;
			}
		case 2:
			if(yuno_hist < 5)
			{		
				mes "["+strcharinfo(0)+"]";
				mes "Nah...";
				mes "Je suis fatigué de lire.";
				mes "C'est assez ironique.";
				close;
			}
			else if(yuno_hist < 7)
			{
				mes "["+strcharinfo(0)+"]";
				mes "Je n'ai pas trop envie de le lire.";
				mes "Y'a pas assez d'images...";
				close;
			}
			else if(yuno_hist < 9)
			{
				mes "["+strcharinfo(0)+"]";
				mes "Ça paraît vraiment très sophistiqué...";
				close;
			}
			else if(yuno_hist < 10)
			{
				mes "["+strcharinfo(0)+"]";
				mes "Je connais ce bouquin...";
				mes "Mais je n'ai pas envie de le lire pour le moment.";
				close;
			}
			else
			{
				mes "["+strcharinfo(0)+"]";
				mes "Cette thèse n'est pas trop mal~";
				mes "Bien sûr, j'ai quelque chose à y voir dedans...";
				close;
			}
	}
}

yuno_in04,188,118,4	script	Livre#juperos	111,{

	if(yuno_hist > 7)
	{
		mes "^8B6914*Honnêteté pour Soi-Même*";
		mes "*'Avantages Pour la Vie!'*";
		mes "Par Stephen Oyoung";
		mes " ";
		mes " ";
		mes "Editeur:";
		mes "Editions Wushu, Co.^000000";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "W-whoa!";
		mes "Ce livre n'était pas là avant!";
		mes "Il a l'air assez intéressant...";
		close;
	}
	mes "["+strcharinfo(0)+"]";
	mes "Vous savez quoi?";
	mes "Je pense que je vais juste feuilleter quelques pages d'un livre au hasard.";
	mes "Humm, voyons voir...";
	next;
	mes "^8B6914'Amiral, les Kyloriens continuent d'avancer!' annonça le Commandant McKenrick inhabituellement détaché de son constant air fanfaron.";
	mes "'Ils ne... Ils ne s'arrêtent pas!' Mais les yeux de l'Amiral Leh étaient froids et d'une insensible ombre de sévérité.^000000";
	next;
	mes "^8B6914'Laissez venir ces foutus aliens de l'espace,' siffla Leh.";
	mes "'Nous n'avons aucune chance sans l'Epée Zenoi pour invoquer le pouvoir du POING de DIEU.";
	mes "C'est... C'est trop tard. Qu'ils soient tous damnés...'^000000";
	next;
	mes "^8B6914Les portes s'ouvrirent violemment pour laisser entrer Bucky qui traça dans la pièce.";
	mes "'L'Epée Zenoi! L'Epée Zenoi! Quelqu'un l'a trouvée!' hurlait le garçon.";
	mes "'Vraiment?! Nous ferions mieux de nous dépêcher: la Terre n'a plus beaucoup de temps!'^000000";
	next;
	mes "["+strcharinfo(0)+"]";
	mes "...";
	mes "......";
	mes "Whoa. J'aurais vraiment dû lire ce chef-d'oeuvre depuis le début...";
	close;
}

// Bronze Statue - juperos_01 99 112

juperos_01,99,112,4	script	Statue de Bronze#1	844,{

	if(yuno_hist > 3)
	{
		mes "^3355FFSouhaitez-vous voir la fin de la folie? Il attend là où les trois colonnes furent détruites, là où deux cents illusions errent.^000000";
		close;
	}
	else if(yuno_hist == 3)
	{
		mes "["+strcharinfo(0)+"]";
		mes "Je ferais mieux de partir et d'aller voir Fayruz dans la Bibliothèque de Yuno pour lui parler de l'inscription.";
		close;
	}
	else
	{
		mes "^3355FFIl y a une étrange gravure sur la baguette de la Statue de Bronze.^000000";
		next;
		switch( select( "L'étudier.","L'ignorer." ) )
		{
			case 1 :
				mes "^3355FFC'est une inscription écrite dans un vieux langage que vous ne pouvez comprendre, mais vous n'avez aucun mal à le lire et à en prononcer les sons pour quelque étrange raison.^000000";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "Ça donne la chair de poule!";
				mes "Je sais que je ne suis pas supposé pouvoir le lire, et pourtant j'y arrive.";
				mes "Je sais quels sons toutes ces lettres produisent...";
				next;
				if(yuno_hist == 2)
				{
					mes "["+strcharinfo(0)+"]";
					mes "Fayruz m'a dit que la statue était enchantée.";
					mes "D'accord, je suppose que je dois retourner à la Bibliothèque de Yuno et lui dire ce que j'ai trouvé.";
					set yuno_hist,3;
					close;
				}
				mes "["+strcharinfo(0)+"]";
				mes "Hum. Seul un érudit, peut-être quelqu'un à Yuno, pourrait donner du sens à ce que dit ce truc.";
				close;
			
			case 2 : 
				close;
		}
	}
}

yuno_in04,169,109,1	script	Hollgrehenn l'Ambitieux	111,{

	mes "*Hollgrehenn l'Ambitieux*";
	mes "Par Aragham Caul*";
	mes "";
	mes "";
	mes "";
	mes "";
	mes "Editeur:";
	mes "Livres Muha, Co.";
	next;
	mes "...";
	mes "Il ne s'arrêtera devant rien pour avoir la meilleure arme du monde en sa possession.";
	mes "Il est devenu forgeron afin de pouvoir discerner quelles armes étaient les plus puissantes...";
	next;
	mes "[" + strcharinfo(0) + "]";
	mes "C'est étrange... La page suivante a été arrachée";
	close;
}

yuno_in04,174,111,1	script	Hollgrehenn Sans Le Sou	111,{

	mes "^8B6914*Hollgrehenn Sans Le Sou*";
	mes " * Hollgrehenn sans le sou * ";
	mes "Par Hollgrehenn";
	mes " ";
	mes " ";
	mes "Editeur:";
	mes "Livres Muha, Co.^000000";
	next;
	mes "["+strcharinfo(0)+"]";
	mes "Ce livre fait penser à un ramassis d'imbécillité.";
	mes "Je m'amuserais davantage chez un dentiste aux yeux bandés qui me charcuterait les dents avec sa roulette.";
	close;
}

yuno_in04,102,106,1	script	Festins Populaires	111,{

	mes "^8B6914*Festins Populaires*";
	mes "Par la Communauté de la Marinade du Chou.";
	mes " ";
	mes " ";
	mes " ";
	mes "Editeur:";
	mes "Livres Muha, Co.^000000";
	next;
	switch( select( " 1. Queues de Yoyo frites"," 14. Salade de Poring"," 252. Soupe de Becs de Volatiles" ) )
	{
		case 1:
			mes "^8B6914...";
			mes "Si possible, essayez d'utiliser des queues coupées à partir de Yoyos vivants.";
			mes "Maintenant, pour enlever la peau...^000000";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Um...";
			mes "Berk?";
			close;

		case 2:
			mes "["+strcharinfo(0)+"]";
			mes "Hé, cette page n'y est plus!";
			mes "Je suppose que la Salade de Poring est la recette la plus populaire du livre.";

		case 3:
			mes "^8B6914...";
			mes "Faire frire les becs coupés en utilisant de l'huile végétale jusqu'à ce qu'ils soient croustillants.";
			mes "Ensuite, versez les plumes dans un mixeur...^000000";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Hum...";
			mes "Ça semble un peu trop gourmet pour mon palais.";
			mes "Et par 'gourmet', j'entends 'dégueulasse', évidemment.";
			close;
	}
}

yuno_in04,111,108,1	script	Hamerun Chasseur de Rats	111,{

	mes "["+strcharinfo(0)+"]";
	mes "Je ne peux pas...";
	mes "l'atteindre...!";
	close;
}

yuno_in04,167,127,1	script	Livre Rouge	111,{

	mes "^3355FFVous trouvez un livre avec une reliure rouge.^000000";
	next;
	switch( select( "Lire.","Ne pas y toucher." ) )
	{
		case 1:
			mes "^8B6914...^000000";
			next;
			mes "^8B6914...";
			mes "......^000000";
			next;
			mes "^8B6914...";
			mes "......";
			mes ".........^000000";
			next;
			mes "^8B6914...";
			mes "......";
			mes ".........";
			mes "............^000000";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "C'est... Une compilation de Shakespeare sous forme d'un album à colorier?";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Attendez... Pourquoi des fans de Shakespeare pourraient avoir envie d'un album à colorier?";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Hum... Bien... Je suppose que les jeunes enfants qui lisent Shakespeare apprécieront un truc de ce genre.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Mais en fait... Est-ce que des jeunes enfants capables de lire les oeuvres de Shakespeare existent? J'espère que non...";
			close;

		case 2:
			mes "["+strcharinfo(0)+"]";
			mes "Quel étrange et mystérieux livre.";
			mes "Je ne saurai jamais ce qu'il y a dedans, sauf si je le lis!";
			mes "Allez! la reliure rouge ne signifie-t-elle pas quelque chose?";
			close;
	}
}

yuno_in04,121,109,1	script	Parchemin	111,{

	mes "^3355FFVous trouvez un antique manuscrit recouvert d'une étendue de fine poussière.^000000";
	next;
	switch( select( "Lire.","Ne pas y toucher." ) )
	{
		case 1:
			mes "^8B6914Introduction au Raffinement d'Objets.";
			mes " ";
			mes " ";
			mes " ";
			mes "1. Définition du Raffinement d'Objets";
			mes " ";
			mes "La clef du succès quand vous raffinez des objets n'est autre que votre esprit.";
			mes " ";
			mes " ";
			mes " ";
			mes "2. Le Pouvoir de la Positive Attitude";
			mes "Avant d'essayer de raffiner un objet, prévoyez à l'avance jusqu'à combien vous voulez le raffiner, et combien vous dépenserez pour cela.";
			mes "Mais comme toutes les demoiselles, Mademoiselle Chance vous sourit quand vous faîtes des folies de votre argent pour elle.^000000";
			mes " ";
			mes " ";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Attendez, attendez...";
			mes "Ce truc date.";
			mes "Je veux dire, c'est manifestement écrit d'un point de vue patriarcal qui promeut le bipartisme du rôle des genres.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Je suis...";
			mes "Je suis offensé!";
			close;

		case 2:
			mes "["+strcharinfo(0)+"]";
			mes "Ce manuscrit est de loin trop primitif.";
			mes "Il y a eu toutes sortes d'avancées technologiques en matière de lecture avec lesquelles je ne peux vivre sans... Comme les pages.";
			close;
	}
}

yuno_in04,118,116,4	script	Morceau de Papier	111,{

	mes "^3355FFC'est un morceau de papier qui ressemble à une lettre.^000000";
	next;
	switch( select("Lire.","Ne pas y toucher.") )
	{
		case 1:
			if(yuno_hist > 7)
			{
				mes "^8B6914P.S.";
				mes "S'il te plaît...";
				mes "Reviens à moi.";
				mes " ";
				mes " ";		  
				mes "Avec amour, Fayruz^000000";
				close;
			}
			mes "^8B6914...";
			mes "Je ne peux oublier ton sourire.";
			mes "Peu importe si tu me détestes, j'aurai toujours des sentiments pour toi.";
			mes "Tu es les plus important... celui qui compte le plus à mes yeux, à mon coeur.^000000";
			next;
			mes "^8B6914Je sais que nous avons eu des différents mais je t'en prie, ne refuse pas mon amour.";
			mes "J'espère que tu pourras me pardonner... pour nous.";
			mes "- Avec amour, Fayruz^000000";
			next;
			if(getpartnerid())
			{
				mes "["+strcharinfo(0)+"]";
				mes "Ahhhhhh~";
				mes "L'amour c'est magnifique!";
				close;
			}
			mes "["+strcharinfo(0)+"]";
			mes "Qu'est-ce qu--?!";
			mes "Hooooouuuuu!";
			mes "L'amour ça pue!";
			close;
	
		case 2:
			mes "["+strcharinfo(0)+"]";
			mes "J'imagine que je ferais mieux de ne pas lire cela.";
			mes "Autrement je pourrais bien regretter de l'avoir lu.";
			close;
	}
}

juperos_01,123,92,4	script	Statue de Pierre	844,{
	
	if(yuno_hist)
	{
		mes "^3355FFC'est une statue de pierre qui ressemble trait pour trait à celle de la Bibliothèque de Yuno.";
		mes "Cependant, ce sont des sculptures de livres qu'il y a dessus, à la place des vrais livres.^000000";
		next;
		mes "^3355FFIl est possible que la statue dans la Bibliothèque de Yuno ait été construite après celle-ci.";
		mes "Mais qui peut en être sûr?^000000";
		close;
	}
	mes "^3355FFC'est une vieille statue sculptée dans la pierre.^000000";
	close;
}

juperos_01,99,71,4	script	Statue de Bronze#2	844,{

	mes "^3355FFC'est une statue de bronze très élaborée qui fait deux fois la taille d'un humain normal.^000000";
	close;
}

juperos_01,79,92,4	script	Sculpture	844,{

	mes "^3355FFC'est une sculpture qui vous paraît familière.^000000";
	close;
}

juperos_01,215,127,4	script	Statue Etrange	844,{

	mes "^3355FFC'est le buste d'une machine humanoïde avec un morceau d'armoirie qui ne vous est pas inconnu et d'étranges caractères gravé au milieu.^000000";
	next;
	mes "^3355FFLa forme entière de la statue est ahurissante, mais vous remarquez que son bras allongé pointe vers l'Ouest.^000000";
	close;
}

//============================================================
// Jupers Core access Story Event
//============================================================
//============================================================
// 3rd Floor Entrance Guards
//============================================================
juperos_01,100,91,0	script	jupe_goto#1	-1,2,2,{
	end;

OnTouch:
	initnpctimer;
	mes "^777777["+ strcharinfo(0) +"]^000000";
	mes "This light...";
	mes "It feels like...";
	mes "Its warmth is...";
	mes "Wrapping all over me...";
	next;
	switch(select("Ah, it's so nice...:No! This is wrong!")) {
	case 1:
		mes "^777777["+ strcharinfo(0) +"]^000000";
		mes "Ahhhh...";
		mes "It feels like";
		mes "I'm floating...";
		specialeffect2 348; // EF_LIGHTSPHERE
		next;
		stopnpctimer;
		warp "juperos_02",128,278;
		close;
	case 2:
		mes "^777777["+ strcharinfo(0) +"]^000000";
		mes "N-No! This is";
		mes "wrong! Something";
		mes "weird's happening!";
		mes "I gotta get away!";
		next;
		warp "juperos_01",96,91;
		stopnpctimer;
		close;
	}
	close;

OnTimer10000:
	warp "juperos_02",128,278;
	enablenpc "jupe_goto#2";
	disablenpc "jupe_goto#1";
	end;
}

juperos_01,100,91,0	script	jupe_goto#2	-1,2,2,{
OnInit:
	disablenpc "jupe_goto#2";
	end;

OnEnable:
	enablenpc "jupe_goto#2";
	initnpctimer;
	end;

OnTouch:
	warp "juperos_02",128,278;
	end;

OnTimer2000:
	enablenpc "jupe_goto#1";
	disablenpc "jupe_goto#2";
	end;
}

juperos_02,97,70,0	script	3F Gate Switch#jupe	-1,{
OnInit:
	initnpctimer;
	end;

Onreset:
	killmonster "juperos_02","3F Gate Switch#jupe::OnMyMobDead";
	end;

OnEnable:
	enablenpc "3F Gate Switch#jupe";
	initnpctimer;
	end;

OnTimer5000:
	set .MyMobs,3;
	monster "juperos_02",24,275,"1st Gate Switch",1674,1,"3F Gate Switch#jupe::OnMyMobDead";
	monster "juperos_02",240,29,"2nd Gate Switch",1674,1,"3F Gate Switch#jupe::OnMyMobDead";
	monster "juperos_02",282,183,"3rd Gate Switch",1674,1,"3F Gate Switch#jupe::OnMyMobDead";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs == 2)
		mapannounce "juperos_02","Who are you to come here?",bc_map,"0xFF0000";
	else if (.MyMobs == 1)
		mapannounce "juperos_02","Have you come seeking Juperos?! It no longer exists...",bc_map,"0xFF0000";
	else if (.MyMobs == 0) {
		mapannounce "juperos_02","Have you come to see me? Fine! Find me first!",bc_map,"0xFF0000";
		specialeffect2 563; // 563
		soundeffectall "earth_quake.wav",0;
		disablenpc "3F Gate Switch#jupe";
		donpcevent "Restricted Area#jupe::OnEnable";
	}
	end;
}


juperos_02,130,149,0	script	Restricted Area#jupe	139,2,2,{
OnInit:
	disablenpc "Restricted Area#jupe";
	end;

OnEnable:
	enablenpc "Restricted Area#jupe";
	initnpctimer;
	end;

OnTimer5000:
	mapannounce "juperos_02","Vroom! Vroom!",bc_map,"0xE559A2";
	end;

OnTimer7000:
	mapannounce "juperos_02","Attention, visitors.",bc_map,"0xE559A2";
	end;

OnTimer9000:
	mapannounce "juperos_02","You are allowed to enter the next zone for a short period of time. Please use the portal in the center of the map.",bc_map,"0xE559A2";
	end;

OnTimer9001:
OnTimer23000:
OnTimer46000:
OnTimer69000:
OnTimer92000:
OnTimer115000:
OnTimer161000:
OnTimer184000:
OnTimer207000:
OnTimer230000:
OnTimer253000:
OnTimer276000:
OnTimer299000:
OnTimer322000:
OnTimer345000:
OnTimer368000:
OnTimer391000:
OnTimer414000:
OnTimer460000:
OnTimer483000:
OnTimer506000:
OnTimer529000:
OnTimer552000:
	specialeffect 561; //"Restricted Area#jupe" 561
	end;

OnTimer556000:
	mapannounce "juperos_02","Attention, visitors. The gate to the next zone will close shortly.",bc_map,"0xE559A2";
	end;

OnTimer561000:
	mapannounce "juperos_02","1 minute remaining until Gate Closure. ",bc_map,"0xE559A2";
	end;

OnTimer598000:
	specialeffect 561; //"Restricted Area#jupe" 561
	end;

OnTimer600000:
	mapannounce "juperos_02","The gate is being closed...",bc_map,"0xE559A2";
	end;

OnTimer603000:
	mapannounce "juperos_02"," Switches will reactivate shortly.",bc_map,"0xE559A2";
	end;

OnTimer621000:
	disablenpc "Restricted Area#jupe";
	end;

OnTimer1200000:
	donpcevent "3F Gate Switch#jupe::OnEnable";
	end;

OnTouch:
	warp "jupe_gate",50,167;
	end;
}

//============================================================
// Security Checkpoint 1-1
//============================================================
jupe_area1,88,224,0	script	#hole#1-1	844,{
	cutin "1",2;
	if ($@JupreArea1InUse == 1) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "1",255;
		end;
	}
	else if (countitem(7356) > 0 || countitem(7359) > 0 || countitem(7357) > 0 || countitem(7358) > 0) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		next;
		switch(select("Insert a Crest Piece.:Cancel.")) {
		case 1:
			if (countitem(7356) > 0) {
				mes "^3355FFYou take out your";
				mes "Crest Piece and place";
				mes "it into the slot where it";
				mes "happens to fit perfectly.^000000";
				specialeffect 159; //"#hole#1-1" EF_TOPRANK
				cutin "1-1",2;
				next;
				if ($@JupreArea1InUse == 1) {
					mes "^3355FFNothing happens.";
					mes "Perhaps an alarm or";
					mes "some other safety measure";
					mes "was activated to keep the";
					mes "Crest Piece from activating";
					mes "this transportation device.";
					mes "You retrieve the Crest Piece.^000000";
					close2;
					cutin "1-1",255;
					end;
				}
				else {
					mes "^3355FFThe slot rotates and";
					mes "the Crest Piece moves as";
					mes "if it were turning a key. You";
					mes "feel a weak tremor as a Warp";
					mes "Portal to the other side is";
					mes "activated. You then retrieve";
					mes "your Crest Piece.^000000";
					initnpctimer;
					donpcevent "Warp#1-1::OnEnable";
					enablenpc "Red Alarm#1-1";
					disablenpc "#hole#1-1";
					close2;
					cutin "1-1",255;
					end;
				}
			}
			else {
				mes "^3355FFUnfortunately, you're";
				mes "not carrying anything";
				mes "that might be able to fit";
				mes "into the slot and activate";
				mes "this mechanical device.^000000";
				close2;
				cutin "1",255;
				end;
			}
		case 2:
			mes "[" + strcharinfo(0) + "]";
			mes "Hmmm...";
			mes "Do I have anything";
			mes "that might make this";
			mes "weird machine work?";
			close2;
			cutin "1",255;
			end;
		}
		close;
	}
	else {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "1",255;
		end;
	}

Onstop_timer:
	stopnpctimer;
	end;

OnTimer22500:
	enablenpc "#hole#1-1";
	disablenpc "Red Alarm#1-1";
	end;
}

jupe_area1,83,221,0	script	Warp#1-1	139,2,2,{
OnInit:
	disablenpc "Warp#1-1";
	end;

OnEnable:
	enablenpc "Warp#1-1";
	specialeffect 561; //"Warp#1-1" 561
	soundeffectall "jupe_warp.wav",0;
	initnpctimer;
	end;

OnTouch:
	warp "jupe_area1",47,259;
	end;

OnTimer22500:
	disablenpc "Warp#1-1";
	end;
}

jupe_area1,47,259,0	script	Red Alarm#1-1	-1,2,2,{
OnInit:
	disablenpc "Red Alarm#1-1";
	end;

OnTouch:
	set $@JupreArea1InUse,1;
	donpcevent "Red Alarm On#1-1::OnEnable";
	disablenpc "Red Alarm#1-1";
	donpcevent "#hole#1-1::Onstop_timer";
	end;
}

-	script	Red Alarm On#1-1	-1,{
OnInit:
	disablenpc "Red Alarm On#1-1";
	end;

OnEnable:
	enablenpc "Red Alarm On#1-1";
	initnpctimer;
	end;

OnTimer1000:
	mapannounce "jupe_area1","Those of you who have come here...",bc_map,"0xFF0000";
	end;

OnTimer3000:
	mapannounce "jupe_area1","I do not intend to stop you.",bc_map,"0xFF0000";
	soundeffectall "jupe_warning.wav",0,"jupe_area1";
	soundeffectall "jupe_warning.wav",0,"jupe_area1";
	disablenpc "#hole#1-1";
	end;

OnTimer5000:
	mapannounce "jupe_area1","But I assume you are prepared for a few obstacles...",bc_map,"0xFF0000";
	donpcevent "Monster1#1-1::OnEnable";
	end;

OnTimer7000:
	mapannounce "jupe_area1","After all, you are venturing through a forbidden area!",bc_map,"0xFF0000";
	end;

OnTimer8000:
	disablenpc "Red Alarm On#1-1";
	soundeffectall "jupe_warning.wav",0,"jupe_area1";
	soundeffectall "jupe_warning.wav",0,"jupe_area1";
	end;
}

-	script	Monster1#1-1	-1,{
OnInit:
	disablenpc "Monster1#1-1";
	end;

Onreset:
	killmonster "jupe_area1","Monster1#1-1::OnMyMobDead";
	end;

OnEnable:
	enablenpc "Monster1#1-1";
	initnpctimer;
	set .MyMobs,8;
	monster "jupe_area1",30,263,"Security Guard",1675,1,"Monster1#1-1::OnMyMobDead";
	monster "jupe_area1",30,262,"Security Guard",1669,1,"Monster1#1-1::OnMyMobDead";
	monster "jupe_area1",30,261,"Security Guard",1675,1,"Monster1#1-1::OnMyMobDead";
	monster "jupe_area1",30,260,"Security Guard",1669,1,"Monster1#1-1::OnMyMobDead";
	monster "jupe_area1",30,259,"Security Guard",1675,1,"Monster1#1-1::OnMyMobDead";
	monster "jupe_area1",30,258,"Security Guard",1669,1,"Monster1#1-1::OnMyMobDead";
	monster "jupe_area1",30,257,"Security Guard",1675,1,"Monster1#1-1::OnMyMobDead";
	monster "jupe_area1",30,256,"Security Guard",1669,1,"Monster1#1-1::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area1","Do you realize this is a hallucination?",bc_map,"0xFF0000";
	set $@JupreArea1InUse,0;
	end;

OnTimer300002:
	disablenpc "Monster1#1-1";
	enablenpc "#hole#1-1";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		donpcevent "Monster2#1-1::OnEnable";
		disablenpc "Monster1#1-1";
		stopnpctimer;
	}
	end;
}

-	script	Monster2#1-1	-1,{
OnInit:
	disablenpc "Monster2#1-1";
	end;

Onreset:
	killmonster "jupe_area1","Monster2#1-1::OnMyMobDead";
	end;

OnEnable:
	enablenpc "Monster2#1-1";
	initnpctimer;
	end;

OnTimer2000:
	mapannounce "jupe_area1","How about now?",bc_map,"0xFF0000";
	soundeffectall "jupe_warning.wav",0,"jupe_area1";
	soundeffectall "jupe_warning.wav",0,"jupe_area1";
	end;

OnTimer4000:
	mapannounce "jupe_area1","Let me see...",bc_map,"0xFF0000";
	end;

OnTimer7000:
	mapannounce "jupe_area1","Just how strong you are!",bc_map,"0xFF0000";
	soundeffectall "jupe_warning.wav",0,"jupe_area1";
	soundeffectall "jupe_warning.wav",0,"jupe_area1";
	set .MyMobs,8;
	monster "jupe_area1",30,238,"Security Guard",1675,1,"Monster2#1-1::OnMyMobDead";
	monster "jupe_area1",31,238,"Security Guard",1669,1,"Monster2#1-1::OnMyMobDead";
	monster "jupe_area1",32,238,"Security Guard",1675,1,"Monster2#1-1::OnMyMobDead";
	monster "jupe_area1",33,238,"Security Guard",1669,1,"Monster2#1-1::OnMyMobDead";
	monster "jupe_area1",34,238,"Security Guard",1675,1,"Monster2#1-1::OnMyMobDead";
	monster "jupe_area1",35,238,"Security Guard",1669,1,"Monster2#1-1::OnMyMobDead";
	monster "jupe_area1",36,238,"Security Guard",1675,1,"Monster2#1-1::OnMyMobDead";
	monster "jupe_area1",37,238,"Security Guard",1669,1,"Monster2#1-1::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area1","Bwahaha! You're only good at running away!",bc_map,"0xFF0000";
	disablenpc "Monster2#1-1";
	enablenpc "#hole#1-1";
	disablenpc "Red Alarm#1-1";
	set $@JupreArea1InUse,0;
	end;

OnTimer300002:
	donpcevent "Monster2#1-1::OnDisable";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		mapannounce "jupe_area1","Zzzzt. Zzzzt..... ",bc_map,"0xFF0000";
		disablenpc "Monster2#1-1";
		enablenpc "#hole#1-1";
		disablenpc "Red Alarm#1-1";
		set $@JupreArea1InUse,0;
		stopnpctimer;
	}
	end;
}

//============================================================
// Security Checkpoint 1-2
//============================================================
jupe_area1,25,238,0	script	#hole#1-2	844,{
	cutin "2",2;
	if ($@JupreArea1InUse == 1) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "2",255;
		end;
	}
	else if (countitem(7356) > 0 || countitem(7359) > 0 || countitem(7357) > 0 || countitem(7358) > 0) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		next;
		switch(select("Insert a Crest Piece.:Cancel.")) {
		case 1:
			if (countitem(7357) > 0) {
				mes "^3355FFYou take out your";
				mes "Crest Piece and place";
				mes "it into the slot where it";
				mes "happens to fit perfectly.^000000";
				specialeffect 159; //"#hole#1-2" EF_TOPRANK
				cutin "2-1",2;
				next;
				if ($@JupreArea1InUse == 1) {
					mes "^3355FFNothing happens.";
					mes "Perhaps an alarm or";
					mes "some other safety measure";
					mes "was activated to keep the";
					mes "Crest Piece from activating";
					mes "this transportation device.";
					mes "You retrieve the Crest Piece.^000000";
					close2;
					cutin "2-1",255;
					end;
				}
				else {
					mes "^3355FFThe slot rotates and";
					mes "the Crest Piece moves as";
					mes "if it were turning a key. You";
					mes "feel a weak tremor as a Warp";
					mes "Portal to the other side is";
					mes "activated. You then retrieve";
					mes "your Crest Piece.^000000";
					initnpctimer;
					donpcevent "Warp#1-2::OnEnable";
					enablenpc "Red Alarm#1-2";
					disablenpc "#hole#1-2";
					close2;
					cutin "2-1",255;
					end;
				}
			}
			else {
				mes "^3355FFUnfortunately, you're";
				mes "not carrying anything";
				mes "that might be able to fit";
				mes "into the slot and activate";
				mes "this mechanical device.^000000";
				close2;
				cutin "2",255;
				end;
			}
			break;
		case 2:
			mes "[" + strcharinfo(0) + "]";
			mes "Hmmm...";
			mes "Do I have anything";
			mes "that might make this";
			mes "weird machine work?";
			close2;
			cutin "2",255;
			end;
		}
		close;
	}
	else {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "2",255;
		end;
	}
	end;

Onstop_timer:
	stopnpctimer;
	end;

OnTimer22500:
	enablenpc "#hole#1-2";
	disablenpc "Red Alarm#1-2";
	end;
}

jupe_area1,21,225,0	script	Warp#1-2	139,2,2,{
OnInit:
	disablenpc "Warp#1-2";
	end;

OnEnable:
	enablenpc "Warp#1-2";
	specialeffect 561; //"Warp#1-2" 561
	soundeffectall "jupe_warp.wav",0;
	initnpctimer;
	end;

OnTouch:
	warp "jupe_area1",21,191;
	end;

OnTimer22500:
	disablenpc "Warp#1-2";
	end;
}

jupe_area1,21,191,0	script	Red Alarm#1-2	-1,2,2,{
OnInit:
	disablenpc "Red Alarm#1-2";
	end;

OnTouch:
	set $@JupreArea1InUse,1;
	donpcevent "Red Alarm On#1-2::OnEnable";
	disablenpc "Red Alarm#1-2";
	disablenpc "#hole#1-2";
	end;
}

-	script	Red Alarm On#1-2	-1,{
OnInit:
	disablenpc "Red Alarm On#1-2";
	end;

OnEnable:
	enablenpc "Red Alarm On#1-2";
	initnpctimer;
	end;

OnTimer1000:
	mapannounce "jupe_area1","Come on, come on!",bc_map,"0xFF0000";
	end;

OnTimer3000:
	mapannounce "jupe_area1","Yes. Run... Right into my hands!",bc_map,"0xFF0000";
	disablenpc "#hole#1-2";
	end;

OnTimer5000:
	mapannounce "jupe_area1","Do you want to know who I am?",bc_map,"0xFF0000";
	donpcevent "Monster1#1-2::OnEnable";
	end;

OnTimer7000:
	mapannounce "jupe_area1","You will know, once you defeat all of my minions!",bc_map,"0xFF0000";
	end;

OnTimer8000:
	disablenpc "Red Alarm On#1-2";
	end;
}

-	script	Monster1#1-2	-1,{
OnInit:
	disablenpc "Monster1#1-2";
	end;

Onreset:
	killmonster "jupe_area1","Monster1#1-2::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	enablenpc "Monster1#1-2";
	set .MyMobs,8;
	monster "jupe_area1",30,176,"High Guard",1669,1,"Monster1#1-2::OnMyMobDead";
	monster "jupe_area1",31,176,"High Guard",1675,1,"Monster1#1-2::OnMyMobDead";
	monster "jupe_area1",32,176,"High Guard",1669,1,"Monster1#1-2::OnMyMobDead";
	monster "jupe_area1",33,176,"High Guard",1675,1,"Monster1#1-2::OnMyMobDead";
	monster "jupe_area1",34,176,"High Guard",1669,1,"Monster1#1-2::OnMyMobDead";
	monster "jupe_area1",35,176,"High Guard",1675,1,"Monster1#1-2::OnMyMobDead";
	monster "jupe_area1",36,176,"High Guard",1669,1,"Monster1#1-2::OnMyMobDead";
	monster "jupe_area1",37,176,"High Guard",1675,1,"Monster1#1-2::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area1","I can't believe how cowardly you really are...",bc_map,"0xFF0000";
	set $@JupreArea1InUse,0;
	end;

OnTimer300002:
	disablenpc "Monster1#1-2";
	enablenpc "#hole#1-2";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		donpcevent "Monster2#1-2::OnEnable";
		disablenpc "Monster1#1-2";
		stopnpctimer;
	}
	end;
}

-	script	Monster2#1-2	-1,{
OnInit:
	disablenpc "Monster2#1-2";
	end;

Onreset:
	killmonster "jupe_area1","Monster2#1-2::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	end;

OnTimer2000:
	mapannounce "jupe_area1","I was the head of this underground laboratory.",bc_map,"0xFF0000";
	end;

OnTimer4000:
	mapannounce "jupe_area1","But that was a long time ago, back when I was merely a human.",bc_map,"0xFF0000";
	end;

OnTimer6000:
	mapannounce "jupe_area1","I was called Vesper Newton. Hahah, they called me a mad man back then.",bc_map,"0xFF0000";
	enablenpc "Monster2#1-2";
	set .MyMobs,13;
	monster "jupe_area1",30,152,"Security Guard",1669,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",31,152,"Security Guard",1675,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",32,152,"Security Guard",1669,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",33,152,"Security Guard",1675,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",34,152,"Security Guard",1669,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",35,152,"Security Guard",1675,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",36,152,"Security Guard",1669,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",37,152,"Security Guard",1675,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",30,150,"Security Guard",1669,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",31,150,"Security Guard",1675,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",32,150,"Security Guard",1669,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",33,150,"Security Guard",1675,1,"Monster2#1-2::OnMyMobDead";
	monster "jupe_area1",34,150,"Security Guard",1669,1,"Monster2#1-2::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area1","...Not yet.",bc_map,"0xFF0000";
	disablenpc "Monster2#1-2";
	enablenpc "#hole#1-2";
	disablenpc "Red Alarm#1-2";
	set $@JupreArea1InUse,0;
	end;

OnTimer300002:
	donpcevent "Monster2#1-2::OnDisable";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		mapannounce "jupe_area1","Not yet!",bc_map,"0xFF0000";
		disablenpc "Monster2#1-2";
		enablenpc "#hole#1-2";
		disablenpc "Red Alarm#1-2";
		set $@JupreArea1InUse,0;
		stopnpctimer;
	}
	end;
}

//============================================================
// Security Checkpoint 1-3
//============================================================
jupe_area1,36,146,0	script	#hole#1-3	844,{
	cutin "3",2;
	if ($@JupreArea1InUse == 1) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "3",255;
		end;
	}
	else if (countitem(7356) > 0 || countitem(7359) > 0 || countitem(7357) > 0 || countitem(7358) > 0) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		next;
		switch(select("Insert a Crest Piece.:Cancel.")) {
		case 1:
			if (countitem(7358) > 0) {
				mes "^3355FFYou take out your";
				mes "Crest Piece and place";
				mes "it into the slot where it";
				mes "happens to fit perfectly.^000000";
				specialeffect 159; //"#hole#1-3" EF_TOPRANK
				cutin "3-1",2;
				next;
				if ($@JupreArea1InUse == 1) {
					mes "^3355FFNothing happens.";
					mes "Perhaps an alarm or";
					mes "some other safety measure";
					mes "was activated to keep the";
					mes "Crest Piece from activating";
					mes "this transportation device.";
					mes "You retrieve the Crest Piece.^000000";
					close2;
					cutin "3-1",255;
					end;
				}
				else {
					mes "^3355FFThe slot rotates and";
					mes "the Crest Piece moves as";
					mes "if it were turning a key. You";
					mes "feel a weak tremor as a Warp";
					mes "Portal to the other side is";
					mes "activated. You then retrieve";
					mes "your Crest Piece.^000000";
					initnpctimer;
					donpcevent "Warp#1-3::OnEnable";
					enablenpc "Red Alarm#1-3";
					disablenpc "#hole#1-3";
					close2;
					cutin "3-1",255;
					end;
				}
			}
			else {
				mes "^3355FFUnfortunately, you're";
				mes "not carrying anything";
				mes "that might be able to fit";
				mes "into the slot and activate";
				mes "this mechanical device.^000000";
				close2;
				cutin "3",255;
				end;
			}
		case 2:
			mes "[" + strcharinfo(0) + "]";
			mes "Hmmm...";
			mes "Do I have anything";
			mes "that might make this";
			mes "weird machine work?";
			close2;
			cutin "3",255;
			end;
		}
	}
	else {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "3",255;
		end;
	}
	end;

Onstop_timer:
	stopnpctimer;
	end;

OnTimer22500:
	enablenpc "#hole#1-3";
	disablenpc "Red Alarm#1-3";
	end;
}

jupe_area1,33,137,0	script	Warp#1-3	139,2,2,{
OnInit:
	disablenpc "Warp#1-3";
	end;

OnEnable:
	enablenpc "Warp#1-3";
	specialeffect 561; //"Warp#1-3" 561
	soundeffectall "jupe_warp.wav",0;
	initnpctimer;
	end;

OnTouch:
	warp "jupe_area1",33,105;
	end;

OnTimer22500:
	disablenpc "Warp#1-3";
	end;
}

jupe_area1,33,105,0	script	Red Alarm#1-3	-1,0,4,{
OnInit:
	disablenpc "Red Alarm#1-3";
	end;

OnTouch:
	set $@JupreArea1InUse,1;
	donpcevent "Red Alarm On#1-3::OnEnable";
	disablenpc "Red Alarm#1-3";
	disablenpc "#hole#1-3";
	end;
}

-	script	Red Alarm On#1-3	-1,{
OnInit:
	disablenpc "Red Alarm On#1-3";
	end;

OnEnable:
	enablenpc "Red Alarm On#1-3";
	initnpctimer;
	end;

OnTimer1000:
	mapannounce "jupe_area1","These security systems...",bc_map,"0xFF0000";
	end;

OnTimer3000:
	mapannounce "jupe_area1","They're not really for protection.",bc_map,"0xFF0000";
	disablenpc "#hole#1-3";
	end;

OnTimer5000:
	mapannounce "jupe_area1","It's sort of just a hobby to pass the time...",bc_map,"0xFF0000";
	donpcevent "Monster1#1-3::OnEnable";
	end;

OnTimer7000:
	mapannounce "jupe_area1","Being immortal, I have a lot of time on my hands...",bc_map,"0xFF0000";
	end;

OnTimer8000:
	disablenpc "Red Alarm On#1-3";
	end;
}

-	script	Monster1#1-3	-1,{
OnInit:
	disablenpc "Monster1#1-3";
	end;

Onreset:
	killmonster "jupe_area1","Monster1#1-3::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	enablenpc "Monster1#1-3";
	set .MyMobs,8;
	monster "jupe_area1",30,89,"Security Guard",1675,1,"Monster1#1-3::OnMyMobDead";
	monster "jupe_area1",31,89,"Security Guard",1669,1,"Monster1#1-3::OnMyMobDead";
	monster "jupe_area1",32,89,"Security Guard",1675,1,"Monster1#1-3::OnMyMobDead";
	monster "jupe_area1",33,89,"Security Guard",1669,1,"Monster1#1-3::OnMyMobDead";
	monster "jupe_area1",34,89,"Security Guard",1675,1,"Monster1#1-3::OnMyMobDead";
	monster "jupe_area1",35,89,"Security Guard",1669,1,"Monster1#1-3::OnMyMobDead";
	monster "jupe_area1",36,89,"Security Guard",1675,1,"Monster1#1-3::OnMyMobDead";
	monster "jupe_area1",37,89,"Security Guard",1669,1,"Monster1#1-3::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area1","Zzzzt...Zzzzt....",bc_map,"0xFF0000";
	set $@JupreArea1InUse,0;
	end;

OnTimer300002:
	disablenpc "Monster1#1-3";
	enablenpc "#hole#1-3";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		donpcevent "Monster2#1-3::OnEnable";
		disablenpc "Monster1#1-3";
		stopnpctimer;
	}
	end;
}

-	script	Monster2#1-3	-1,{
OnInit:
	disablenpc "Monster2#1-3";
	end;

Onreset:
	killmonster "jupe_area1","Monster2#1-3::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	end;

OnTimer2000:
	mapannounce "jupe_area1","Why have you come?",bc_map,"0xFF0000";
	end;

OnTimer5000:
	mapannounce "jupe_area1","Were you hoping to find something wonderful? Something miraculous?",bc_map,"0xFF0000";
	end;

OnTimer8000:
	mapannounce "jupe_area1","You're wrong! Welcome to Hell!",bc_map,"0xFF0000";
	enablenpc "Monster2#1-3";
	set .MyMobs,15;
	monster "jupe_area1",42,64,"Security Guard",1669,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",43,64,"Security Guard",1675,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",44,64,"Security Guard",1669,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",45,64,"Security Guard",1675,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",46,64,"Security Guard",1669,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",47,64,"Security Guard",1675,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",48,64,"Security Guard",1669,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",49,64,"Security Guard",1675,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",42,62,"Security Guard",1669,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",43,62,"Security Guard",1675,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",44,62,"Security Guard",1669,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",45,62,"Security Guard",1675,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",46,62,"Security Guard",1669,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",47,62,"Security Guard",1675,1,"Monster2#1-3::OnMyMobDead";
	monster "jupe_area1",48,62,"Security Guard",1669,1,"Monster2#1-3::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area1","Do you still have your courage? Come. Prove it.",bc_map,"0xFF0000";
	disablenpc "Monster2#1-3";
	enablenpc "#hole#1-3";
	disablenpc "Red Alarm#1-3";
	set $@JupreArea1InUse,0;
	end;

OnTimer300002:
	donpcevent "Monster2#1-3::OnDisable";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		mapannounce "jupe_area1","Do you still have your courage? Come. Prove it.",bc_map,"0xFF0000";
		disablenpc "Monster2#1-3";
		enablenpc "#hole#1-3";
		disablenpc "Red Alarm#1-3";
		set $@JupreArea1InUse,0;
		stopnpctimer;
	}
	end;
}
	
//============================================================
// Security Checkpoint 1-4
//============================================================
jupe_area1,50,49,0	script	#hole#1-4	844,{
	cutin "4",2;
	if ($@JupreArea1InUse == 1) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "4",255;
		end;
	}
	else if (countitem(7356) > 0 || countitem(7359) > 0 || countitem(7357) > 0 || countitem(7358) > 0) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		next;
		switch(select("Insert a Crest Piece.:Cancel.")) {
		case 1:
			if (countitem(7359) > 0) {
				mes "^3355FFYou take out your";
				mes "Crest Piece and place";
				mes "it into the slot where it";
				mes "happens to fit perfectly.^000000";
				specialeffect 159; //"#hole#1-4" EF_TOPRANK
				cutin "4-1",2;
				next;
				if ($@JupreArea1InUse == 1) {
					mes "^3355FFNothing happens.";
					mes "Perhaps an alarm or";
					mes "some other safety measure";
					mes "was activated to keep the";
					mes "Crest Piece from activating";
					mes "this transportation device.";
					mes "You retrieve the Crest Piece.^000000";
					close2;
					cutin "4-1",255;
					end;
				}
				else {
					mes "^3355FFThe slot rotates and";
					mes "the Crest Piece moves as";
					mes "if it were turning a key. You";
					mes "feel a weak tremor as a Warp";
					mes "Portal to the other side is";
					mes "activated. You then retrieve";
					mes "your Crest Piece.^000000";
					initnpctimer;
					donpcevent "Warp#1-4::OnEnable";
					donpcevent "Red Alarm#1-4::OnEnable";
					disablenpc "#hole#1-4";
					close2;
					cutin "4-1",255;
					end;
				}
			}
			else {
				mes "^3355FFUnfortunately, you're";
				mes "not carrying anything";
				mes "that might be able to fit";
				mes "into the slot and activate";
				mes "this mechanical device.^000000";
				close2;
				cutin "4",255;
				end;
			}
			break;
		case 2:
			mes "[" + strcharinfo(0) + "]";
			mes "Hmmm...";
			mes "Do I have anything";
			mes "that might make this";
			mes "weird machine work?";
			close2;
			cutin "4",255;
			end;
		}
	}
	else {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "4",255;
		end;
	}
	end;

Onstop_timer:
	stopnpctimer;
	end;

OnTimer5000:
	enablenpc "#hole#1-4";
	disablenpc "Red Alarm#1-4";
	end;
}

jupe_area1,57,53,0	script	Warp#1-4	139,2,2,{
OnInit:
	disablenpc "Warp#1-4";
	end;

OnEnable:
	enablenpc "Warp#1-4";
	specialeffect 561; //"Warp#1-4" 561
	soundeffectall "jupe_warp.wav",0;
	initnpctimer;
	end;

OnTouch:
	warp "jupe_area1",83,157;
	end;

OnTimer5000:
	disablenpc "Warp#1-4";
	end;
}

jupe_area1,83,157,0	script	Red Alarm#1-4	-1,2,2,{
OnInit:
	disablenpc "Red Alarm#1-4";
	end;

OnEnable:
	enablenpc "Red Alarm#1-4";
	end;

OnTouch:
	set $@JupreArea1InUse,1;
	donpcevent "Red Alarm On#1-4::OnEnable";
	disablenpc "Red Alarm#1-4";
	disablenpc "#hole#1-4";
	end;
}

-	script	Red Alarm On#1-4	-1,{
OnInit:
	disablenpc "Red Alarm On#1-4";
	end;

OnEnable:
	enablenpc "Red Alarm On#1-4";
	initnpctimer;
	end;

OnTimer1000:
	mapannounce "jupe_area1","I've been waiting for someone strong enough to compete with me.",bc_map,"0xFF0000";
	end;

OnTimer3000:
	mapannounce "jupe_area1","If you hear this, I wish you will be the one...",bc_map,"0xFF0000";
	disablenpc "#hole#1-4";
	end;

OnTimer5000:
	mapannounce "jupe_area1","Perhaps, a mere shadow of my former self...",bc_map,"0xFF0000";
	donpcevent "Monster1#1-4::OnEnable";
	end;

OnTimer7000:
	mapannounce "jupe_area1","Is somewhere down here, wandering...",bc_map,"0xFF0000";
	end;

OnTimer8000:
	disablenpc "Red Alarm On#1-4";
	end;
}

-	script	Monster1#1-4	-1,{
OnInit:
	disablenpc "Monster1#1-4";
	end;

Onreset:
	killmonster "jupe_area1","Monster1#1-4::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	enablenpc "Monster1#1-4";
	set .MyMobs,8;
	monster "jupe_area1",92,154,"Security Guard",1669,1,"Monster1#1-4::OnMyMobDead";
	monster "jupe_area1",96,154,"Security Guard",1675,1,"Monster1#1-4::OnMyMobDead";
	monster "jupe_area1",100,154,"Security Guard",1669,1,"Monster1#1-4::OnMyMobDead";
	monster "jupe_area1",104,154,"Security Guard",1675,1,"Monster1#1-4::OnMyMobDead";
	monster "jupe_area1",92,161,"Security Guard",1669,1,"Monster1#1-4::OnMyMobDead";
	monster "jupe_area1",96,161,"Security Guard",1675,1,"Monster1#1-4::OnMyMobDead";
	monster "jupe_area1",100,161,"Security Guard",1669,1,"Monster1#1-4::OnMyMobDead";
	monster "jupe_area1",104,161,"Security Guard",1675,1,"Monster1#1-4::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area1","Zzzzt...Zzzzt....",bc_map,"0xFF0000";
	set $@JupreArea1InUse,0;
	end;

OnTimer300002:
	disablenpc "Monster1#1-4";
	enablenpc "#hole#1-4";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		donpcevent "Monster2#1-4::OnEnable";
		disablenpc "Monster1#1-4";
		stopnpctimer;
	}
	end;
}

-	script	Monster2#1-4	-1,{
OnInit:
	disablenpc "Monster2#1-4";
	end;

Onreset:
	killmonster "jupe_area1","Monster2#1-4::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	end;

OnTimer2000:
	mapannounce "jupe_area1","I can never rest in peace...",bc_map,"0xFF0000";
	end;

OnTimer4000:
	mapannounce "jupe_area1","I'll wait forever or until someone can put me out of my misery...",bc_map,"0xFF0000";
	end;

OnTimer6000:
	mapannounce "jupe_area1","I will be waiting for you!",bc_map,"0xFF0000";
	enablenpc "Monster2#1-4";
	set .MyMobs,10;
	monster "jupe_area1",104,161,"Security Guard",1675,1,"Monster2#1-4::OnMyMobDead";
	monster "jupe_area1",108,161,"Security Guard",1669,1,"Monster2#1-4::OnMyMobDead";
	monster "jupe_area1",111,161,"Security Guard",1675,1,"Monster2#1-4::OnMyMobDead";
	monster "jupe_area1",112,161,"Security Guard",1669,1,"Monster2#1-4::OnMyMobDead";
	monster "jupe_area1",115,161,"Security Guard",1675,1,"Monster2#1-4::OnMyMobDead";
	monster "jupe_area1",104,154,"Security Guard",1669,1,"Monster2#1-4::OnMyMobDead";
	monster "jupe_area1",108,154,"Security Guard",1675,1,"Monster2#1-4::OnMyMobDead";
	monster "jupe_area1",111,154,"Security Guard",1669,1,"Monster2#1-4::OnMyMobDead";
	monster "jupe_area1",112,154,"Security Guard",1675,1,"Monster2#1-4::OnMyMobDead";
	monster "jupe_area1",115,154,"Security Guard",1669,1,"Monster2#1-4::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area1","It's funny... Isn't it?",bc_map,"0xFF0000";
	disablenpc "Monster2#1-4";
	enablenpc "#hole#1-4";
	disablenpc "Red Alarm#1-4";
	set $@JupreArea1InUse,0;
	end;

OnTimer300002:
	disablenpc "Monster2#1-4";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		mapannounce "jupe_area1","It's funny... Isn't it?",bc_map,"0xFF0000";
		disablenpc "Monster2#1-4";
		enablenpc "#hole#1-4";
		disablenpc "Red Alarm#1-4";
		set $@JupreArea1InUse,0;
		stopnpctimer;
	}
	end;
}

//============================================================
// Move to Elevator
//============================================================
jupe_area1,112,162,0	script	Lever#ufe	844,{
	mes "^3355FFIt's a lever";
	mes "whose function";
	mes "is not known to you.^000000";
	next;
	switch(select("Pull.:Cancel.")) {
	case 1:
		initnpctimer;
		donpcevent "LeverWarp#ufe::OnEnable";
		disablenpc "Lever#ufe";
		close;
	case 2:
		mes "[" + strcharinfo(0) + "]";
		mes "Pull this lever?";
		mes "I don't even know";
		mes "what will happen...";
		close;
	}
	close;

Onstop_timer:
	stopnpctimer;
	end;

OnTimer3000:
	enablenpc "Lever#ufe";
	end;
}

jupe_area1,117,157,0	script	LeverWarp#ufe	139,2,2,{
OnInit:
	disablenpc "LeverWarp#ufe";
	end;

Onreset:
	disablenpc "LeverWarp#ufe";
	end;

OnEnable:
	enablenpc "LeverWarp#ufe";
	specialeffect 561; //"LeverWarp#ufe" 561
	soundeffectall "jupe_warp.wav",0;
	initnpctimer;
	end;

OnTouch:
	warp "jupe_gate",28,30;
	end;

OnTimer3000:
	disablenpc "LeverWarp#ufe";
	end;
}

//============================================================
// Security Checkpoint 2-1
//============================================================
jupe_area2,74,224,0	script	#hole#2-1	844,{
	cutin "1",2;
	if ($@JupreArea1InUse2 == 1) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "1",255;
		end;
	}
	else if (countitem(7356) > 0 || countitem(7359) > 0 || countitem(7357) > 0 || countitem(7358) > 0) {
		mes "^3355FFThis seems like";
		mes "some akind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		next;
		switch(select("Insert a Crest Piece.:Cancel.")) {
		case 1:
			if (countitem(7356) > 0) {
				mes "^3355FFYou take out your";
				mes "Crest Piece and place";
				mes "it into the slot where it";
				mes "happens to fit perfectly.^000000";
				specialeffect 159; //"#hole#2-1" EF_TOPRANK
				cutin "1-1",2;
				next;
				if ($@JupreArea1InUse2 == 1) {
					mes "^3355FFNothing happens.";
					mes "Perhaps an alarm or";
					mes "some other safety measure";
					mes "was activated to keep the";
					mes "Crest Piece from activating";
					mes "this transportation device.";
					mes "You retrieve the Crest Piece.^000000";
					close2;
					cutin "1-1",255;
					end;
				}
				else {
					mes "^3355FFThe slot rotates and";
					mes "the Crest Piece moves as";
					mes "if it were turning a key. You";
					mes "feel a weak tremor as a Warp";
					mes "Portal to the other side is";
					mes "activated. You then retrieve";
					mes "your Crest Piece.^000000";
					initnpctimer;
					donpcevent "Warp#2-1::OnEnable";
					enablenpc "Red Alarm#2-1";
					disablenpc "#hole#2-1";
					close2;
					cutin "1-1",255;
					end;
				}
			}
			else {
				mes "^3355FFUnfortunately, you're";
				mes "not carrying anything";
				mes "that might be able to fit";
				mes "into the slot and activate";
				mes "this mechanical device.^000000";
				close2;
				cutin "1",255;
				end;
			}
		case 2:
			mes "[" + strcharinfo(0) + "]";
			mes "Hmmm...";
			mes "Do I have anything";
			mes "that might make this";
			mes "weird machine work?";
			close2;
			cutin "1",255;
			end;
		}
		close;
	}
	else {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "1",255;
		end;
	}

Onstop_timer:
	stopnpctimer;
	end;

OnTimer22500:
	enablenpc "#hole#2-1";
	disablenpc "Red Alarm#2-1";
	end;
}

jupe_area2,80,221,0	script	Warp#2-1	139,2,2,{
OnInit:
	disablenpc "Warp#2-1";
	end;

OnEnable:
	enablenpc "Warp#2-1";
	specialeffect 561; //"Warp#2-1" 561
	soundeffectall "jupe_warp.wav",0;
	initnpctimer;
	end;

OnTouch:
	warp "jupe_area2",116,259;
	end;

OnTimer22500:
	disablenpc "Warp#2-1";
	end;
}

jupe_area2,116,259,0	script	Red Alarm#2-1	-1,2,2,{
OnInit:
	disablenpc "Red Alarm#2-1";
	end;

OnTouch:
	set $@JupreArea1InUse2,1;
	donpcevent "Red Alarm On#2-1::OnEnable";
	disablenpc "Red Alarm#2-1";
	donpcevent "#hole#2-1::Onstop_timer";
	end;
}

-	script	Red Alarm On#2-1	-1,{
OnInit:
	disablenpc "Red Alarm On#2-1";
	end;

OnEnable:
	enablenpc "Red Alarm On#2-1";
	initnpctimer;
	end;

OnTimer1000:
	mapannounce "jupe_area2","Those of you who have come here...",bc_map,"0xFF0000";
	end;

OnTimer3000:
	mapannounce "jupe_area2","I do not intend to stop you.",bc_map,"0xFF0000";
	soundeffectall "jupe_warning.wav",0,"jupe_area2";
	soundeffectall "jupe_warning.wav",0,"jupe_area2";
	disablenpc "#hole#2-1";
	end;

OnTimer5000:
	mapannounce "jupe_area2","But I assume you are prepared for a few obstacles...",bc_map,"0xFF0000";
	donpcevent "Monster1#2-1::OnEnable";
	end;

OnTimer7000:
	mapannounce "jupe_area2","After all, you are venturing through a forbidden area!",bc_map,"0xFF0000";
	end;

OnTimer8000:
	disablenpc "Red Alarm On#2-1";
	soundeffectall "jupe_warning.wav",0,"jupe_area2";
	soundeffectall "jupe_warning.wav",0,"jupe_area2";
	end;
}

-	script	Monster1#2-1	-1,{
OnInit:
	disablenpc "Monster1#2-1";
	end;

Onreset:
	killmonster "jupe_area2","Monster1#2-1::OnMyMobDead";
	end;

OnEnable:
	enablenpc "Monster1#2-1";
	initnpctimer;
	set .MyMobs,8;
	monster "jupe_area2",126,252,"Security Guard",1669,1,"Monster1#2-1::OnMyMobDead";
	monster "jupe_area2",127,252,"Security Guard",1675,1,"Monster1#2-1::OnMyMobDead";
	monster "jupe_area2",128,252,"Security Guard",1669,1,"Monster1#2-1::OnMyMobDead";
	monster "jupe_area2",129,252,"Security Guard",1675,1,"Monster1#2-1::OnMyMobDead";
	monster "jupe_area2",130,252,"Security Guard",1669,1,"Monster1#2-1::OnMyMobDead";
	monster "jupe_area2",131,252,"Security Guard",1675,1,"Monster1#2-1::OnMyMobDead";
	monster "jupe_area2",132,252,"Security Guard",1669,1,"Monster1#2-1::OnMyMobDead";
	monster "jupe_area2",133,252,"Security Guard",1675,1,"Monster1#2-1::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area2","Do you realize this is a hallucination?",bc_map,"0xFF0000";
	set $@JupreArea1InUse2,0;
	end;

OnTimer300002:
	disablenpc "Monster1#2-1";
	enablenpc "#hole#2-1";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		donpcevent "Monster2#2-1::OnEnable";
		disablenpc "Monster1#2-1";
		stopnpctimer;
	}
	end;
}

-	script	Monster2#2-1	-1,{
OnInit:
	disablenpc "Monster2#2-1";
	end;

Onreset:
	killmonster "jupe_area2","Monster2#2-1::OnMyMobDead";
	end;

OnEnable:
	enablenpc "Monster2#2-1";
	initnpctimer;
	end;

OnTimer2000:
	mapannounce "jupe_area2","How about now?",bc_map,"0xFF0000";
	soundeffectall "jupe_warning.wav",0,"jupe_area2";
	soundeffectall "jupe_warning.wav",0,"jupe_area2";
	end;

OnTimer4000:
	mapannounce "jupe_area2","Let me see...",bc_map,"0xFF0000";
	end;

OnTimer7000:
	mapannounce "jupe_area2","Just how strong you are!",bc_map,"0xFF0000";
	soundeffectall "jupe_warning.wav",0,"jupe_area2";
	soundeffectall "jupe_warning.wav",0,"jupe_area2";
	set .MyMobs,8;
	monster "jupe_area2",126,236,"Security Guard",1675,1,"Monster2#2-1::OnMyMobDead";
	monster "jupe_area2",127,236,"Security Guard",1669,1,"Monster2#2-1::OnMyMobDead";
	monster "jupe_area2",128,236,"Security Guard",1675,1,"Monster2#2-1::OnMyMobDead";
	monster "jupe_area2",129,236,"Security Guard",1669,1,"Monster2#2-1::OnMyMobDead";
	monster "jupe_area2",130,236,"Security Guard",1675,1,"Monster2#2-1::OnMyMobDead";
	monster "jupe_area2",131,236,"Security Guard",1669,1,"Monster2#2-1::OnMyMobDead";
	monster "jupe_area2",132,236,"Security Guard",1675,1,"Monster2#2-1::OnMyMobDead";
	monster "jupe_area2",133,236,"Security Guard",1669,1,"Monster2#2-1::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area2","Bwahaha! You're only good at running away!",bc_map,"0xFF0000";
	disablenpc "Monster2#2-1";
	enablenpc "#hole#2-1";
	disablenpc "Red Alarm#2-1";
	set $@JupreArea1InUse2,0;
	end;

OnTimer300002:
	donpcevent "Monster2#2-1::OnDisable";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		mapannounce "jupe_area2","Zzzzt. Zzzzt..... ",bc_map,"0xFF0000";
		disablenpc "Monster2#2-1";
		enablenpc "#hole#2-1";
		disablenpc "Red Alarm#2-1";
		set $@JupreArea1InUse2,0;
		stopnpctimer;
	}
	end;
}

//============================================================
// Security Checkpoint 2-2
//============================================================
jupe_area2,138,238,0	script	#hole#2-2	844,{
	cutin "2",2;
	if ($@JupreArea1InUse2 == 1) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "2",255;
		end;
	}
	else if (countitem(7356) > 0 || countitem(7359) > 0 || countitem(7357) > 0 || countitem(7358) > 0) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		next;
		switch(select("Insert a Crest Piece.:Cancel.")) {
		case 1:
			if (countitem(7357) > 0) {
				mes "^3355FFYou take out your";
				mes "Crest Piece and place";
				mes "it into the slot where it";
				mes "happens to fit perfectly.^000000";
				specialeffect 159; //"#hole#2-2" EF_TOPRANK
				cutin "2-1",2;
				next;
				if ($@JupreArea1InUse2 == 1) {
					mes "^3355FFNothing happens.";
					mes "Perhaps an alarm or";
					mes "some other safety measure";
					mes "was activated to keep the";
					mes "Crest Piece from activating";
					mes "this transportation device.";
					mes "You retrieve the Crest Piece.^000000";
					close2;
					cutin "2-1",255;
					end;
				}
				else {
					mes "^3355FFThe slot rotates and";
					mes "the Crest Piece moves as";
					mes "if it were turning a key. You";
					mes "feel a weak tremor as a Warp";
					mes "Portal to the other side is";
					mes "activated. You then retrieve";
					mes "your Crest Piece.^000000";
					initnpctimer;
					donpcevent "Warp#2-2::OnEnable";
					enablenpc "Red Alarm#2-2";
					disablenpc "#hole#2-2";
					close2;
					cutin "2-1",255;
					end;
				}
			}
			else {
				mes "^3355FFUnfortunately, you're";
				mes "not carrying anything";
				mes "that might be able to fit";
				mes "into the slot and activate";
				mes "this mechanical device.^000000";
				close2;
				cutin "2",255;
				end;
			}
			break;
		case 2:
			mes "[" + strcharinfo(0) + "]";
			mes "Hmmm...";
			mes "Do I have anything";
			mes "that might make this";
			mes "weird machine work?";
			close2;
			cutin "2",255;
			end;
		}
		close;
	}
	else {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "2",255;
		end;
	}
	end;

Onstop_timer:
	stopnpctimer;
	end;

OnTimer22500:
	enablenpc "#hole#2-2";
	disablenpc "Red Alarm#2-2";
	end;
}

jupe_area2,142,225,0	script	Warp#2-2	139,2,2,{
OnInit:
	disablenpc "Warp#2-2";
	end;

OnEnable:
	enablenpc "Warp#2-2";
	specialeffect 561; //"Warp#2-2" 561
	soundeffectall "jupe_warp.wav",0;
	initnpctimer;
	end;

OnTouch:
	warp "jupe_area2",142,191;
	end;

OnTimer22500:
	disablenpc "Warp#2-2";
	end;
}

jupe_area2,142,191,0	script	Red Alarm#2-2	-1,2,2,{
OnInit:
	disablenpc "Red Alarm#2-2";
	end;

OnTouch:
	set $@JupreArea1InUse2,1;
	donpcevent "Red Alarm On#2-2::OnEnable";
	disablenpc "Red Alarm#2-2";
	disablenpc "#hole#2-2";
	end;
}

-	script	Red Alarm On#2-2	-1,{
OnInit:
	disablenpc "Red Alarm On#2-2";
	end;

OnEnable:
	enablenpc "Red Alarm On#2-2";
	initnpctimer;
	end;

OnTimer1000:
	mapannounce "jupe_area2","Come on, come on!",bc_map,"0xFF0000";
	end;

OnTimer3000:
	mapannounce "jupe_area2","Yes. Run... Right into my hands!",bc_map,"0xFF0000";
	disablenpc "#hole#2-2";
	end;

OnTimer5000:
	mapannounce "jupe_area2","Do you want to know who I am?",bc_map,"0xFF0000";
	donpcevent "Monster1#2-2::OnEnable";
	end;

OnTimer7000:
	mapannounce "jupe_area2","You will know, once you defeat all of my minions!",bc_map,"0xFF0000";
	end;

OnTimer8000:
	disablenpc "Red Alarm On#2-2";
	end;
}

-	script	Monster1#2-2	-1,{
OnInit:
	disablenpc "Monster1#2-2";
	end;

Onreset:
	killmonster "jupe_area2","Monster1#2-2::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	enablenpc "Monster1#2-2";
	set .MyMobs,8;
	monster "jupe_area2",126,176,"High Guard",1669,1,"Monster1#2-2::OnMyMobDead";
	monster "jupe_area2",127,176,"High Guard",1675,1,"Monster1#2-2::OnMyMobDead";
	monster "jupe_area2",128,176,"High Guard",1669,1,"Monster1#2-2::OnMyMobDead";
	monster "jupe_area2",129,176,"High Guard",1675,1,"Monster1#2-2::OnMyMobDead";
	monster "jupe_area2",130,176,"High Guard",1669,1,"Monster1#2-2::OnMyMobDead";
	monster "jupe_area2",131,176,"High Guard",1675,1,"Monster1#2-2::OnMyMobDead";
	monster "jupe_area2",132,176,"High Guard",1669,1,"Monster1#2-2::OnMyMobDead";
	monster "jupe_area2",133,176,"High Guard",1675,1,"Monster1#2-2::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area2","I can't believe how cowardly you really are...",bc_map,"0xFF0000";
	set $@JupreArea1InUse2,0;
	end;

OnTimer300002:
	disablenpc "Monster1#2-2";
	enablenpc "#hole#2-2";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		donpcevent "Monster2#2-2::OnEnable";
		disablenpc "Monster1#2-2";
		stopnpctimer;
	}
	end;
}

-	script	Monster2#2-2	-1,{
OnInit:
	disablenpc "Monster2#2-2";
	end;

Onreset:
	killmonster "jupe_area2","Monster2#2-2::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	end;

OnTimer2000:
	mapannounce "jupe_area2","I was the head of this underground laboratory.",bc_map,"0xFF0000";
	end;

OnTimer4000:
	mapannounce "jupe_area2","But that was a long time ago, back when I was merely a human.",bc_map,"0xFF0000";
	end;

OnTimer6000:
	mapannounce "jupe_area2","I was called Vesper Newton. Hahah, they called me a mad man back then.",bc_map,"0xFF0000";
	enablenpc "Monster2#2-2";
	set .MyMobs,13;
	monster "jupe_area2",126,156,"Security Guard",1675,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",127,156,"Security Guard",1669,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",128,156,"Security Guard",1675,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",129,156,"Security Guard",1669,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",130,156,"Security Guard",1675,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",131,156,"Security Guard",1669,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",132,156,"Security Guard",1675,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",133,156,"Security Guard",1669,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",133,156,"Security Guard",1675,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",127,152,"Security Guard",1669,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",129,152,"Security Guard",1675,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",130,152,"Security Guard",1669,1,"Monster2#2-2::OnMyMobDead";
	monster "jupe_area2",132,152,"Security Guard",1675,1,"Monster2#2-2::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area2","...Not yet.",bc_map,"0xFF0000";
	disablenpc "Monster2#2-2";
	enablenpc "#hole#2-2";
	disablenpc "Red Alarm#2-2";
	set $@JupreArea1InUse2,0;
	end;

OnTimer300002:
	donpcevent "Monster2#2-2::OnDisable";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		mapannounce "jupe_area2","Not yet!",bc_map,"0xFF0000";
		disablenpc "Monster2#2-2";
		enablenpc "#hole#2-2";
		disablenpc "Red Alarm#2-2";
		set $@JupreArea1InUse2,0;
		stopnpctimer;
	}
	end;
}

//============================================================
// Security Checkpoint 2-3
//============================================================
jupe_area2,127,146,0	script	#hole#2-3	844,{
	cutin "3",2;
	if ($@JupreArea1InUse2 == 1) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "3",255;
		end;
	}
	else if (countitem(7356) > 0 || countitem(7359) > 0 || countitem(7357) > 0 || countitem(7358) > 0) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		next;
		switch(select("Insert a Crest Piece.:Cancel.")) {
		case 1:
			if (countitem(7358) > 0) {
				mes "^3355FFYou take out your";
				mes "Crest Piece and place";
				mes "it into the slot where it";
				mes "happens to fit perfectly.^000000";
				specialeffect 159; //"#hole#2-3" EF_TOPRANK
				cutin "3-1",2;
				next;
				if ($@JupreArea1InUse2 == 1) {
					mes "^3355FFNothing happens.";
					mes "Perhaps an alarm or";
					mes "some other safety measure";
					mes "was activated to keep the";
					mes "Crest Piece from activating";
					mes "this transportation device.";
					mes "You retrieve the Crest Piece.^000000";
					close2;
					cutin "3-1",255;
					end;
				}
				else {
					mes "^3355FFThe slot rotates and";
					mes "the Crest Piece moves as";
					mes "if it were turning a key. You";
					mes "feel a weak tremor as a Warp";
					mes "Portal to the other side is";
					mes "activated. You then retrieve";
					mes "your Crest Piece.^000000";
					initnpctimer;
					donpcevent "Warp#2-3::OnEnable";
					enablenpc "Red Alarm#2-3";
					disablenpc "#hole#2-3";
					close2;
					cutin "3-1",255;
					end;
				}
			}
			else {
				mes "^3355FFUnfortunately, you're";
				mes "not carrying anything";
				mes "that might be able to fit";
				mes "into the slot and activate";
				mes "this mechanical device.^000000";
				close2;
				cutin "3",255;
				end;
			}
		case 2:
			mes "[" + strcharinfo(0) + "]";
			mes "Hmmm...";
			mes "Do I have anything";
			mes "that might make this";
			mes "weird machine work?";
			close2;
			cutin "3",255;
			end;
		}
	}
	else {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "3",255;
		end;
	}
	end;

Onstop_timer:
	stopnpctimer;
	end;

OnTimer22500:
	enablenpc "#hole#2-3";
	disablenpc "Red Alarm#2-3";
	end;
}

jupe_area2,130,137,0	script	Warp#2-3	139,2,2,{
OnInit:
	disablenpc "Warp#2-3";
	end;

OnEnable:
	enablenpc "Warp#2-3";
	specialeffect 561; //"Warp#2-3" 561
	soundeffectall "jupe_warp.wav",0;
	initnpctimer;
	end;

OnTouch:
	warp "jupe_area2",130,105;
	end;

OnTimer22500:
	disablenpc "Warp#2-3";
	end;
}

jupe_area2,130,105,0	script	Red Alarm#2-3	-1,0,4,{
OnInit:
	disablenpc "Red Alarm#2-3";
	end;

OnTouch:
	set $@JupreArea1InUse2,1;
	donpcevent "Red Alarm On#2-3::OnEnable";
	disablenpc "Red Alarm#2-3";
	disablenpc "#hole#2-3";
	end;
}

-	script	Red Alarm On#2-3	-1,{
OnInit:
	disablenpc "Red Alarm On#2-3";
	end;

OnEnable:
	enablenpc "Red Alarm On#2-3";
	initnpctimer;
	end;

OnTimer1000:
	mapannounce "jupe_area2","These security systems...",bc_map,"0xFF0000";
	end;

OnTimer3000:
	mapannounce "jupe_area2","They're not really for protection.",bc_map,"0xFF0000";
	disablenpc "#hole#2-3";
	end;

OnTimer5000:
	mapannounce "jupe_area2","It's sort of just a hobby to pass the time...",bc_map,"0xFF0000";
	donpcevent "Monster1#2-3::OnEnable";
	end;

OnTimer7000:
	mapannounce "jupe_area2","Being immortal, I have a lot of time on my hands...",bc_map,"0xFF0000";
	end;

OnTimer8000:
	disablenpc "Red Alarm On#2-3";
	end;
}

-	script	Monster1#2-3	-1,{
OnInit:
	disablenpc "Monster1#2-3";
	end;

Onreset:
	killmonster "jupe_area2","Monster1#2-3::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	enablenpc "Monster1#2-3";
	set .MyMobs,8;
	monster "jupe_area2",126,89,"Security Guard",1675,1,"Monster1#2-3::OnMyMobDead";
	monster "jupe_area2",127,89,"Security Guard",1669,1,"Monster1#2-3::OnMyMobDead";
	monster "jupe_area2",128,89,"Security Guard",1675,1,"Monster1#2-3::OnMyMobDead";
	monster "jupe_area2",129,89,"Security Guard",1669,1,"Monster1#2-3::OnMyMobDead";
	monster "jupe_area2",130,89,"Security Guard",1675,1,"Monster1#2-3::OnMyMobDead";
	monster "jupe_area2",131,89,"Security Guard",1669,1,"Monster1#2-3::OnMyMobDead";
	monster "jupe_area2",132,89,"Security Guard",1675,1,"Monster1#2-3::OnMyMobDead";
	monster "jupe_area2",133,89,"Security Guard",1669,1,"Monster1#2-3::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area2","Zzzzt...Zzzzt....",bc_map,"0xFF0000";
	set $@JupreArea1InUse2,0;
	end;

OnTimer300002:
	disablenpc "Monster1#2-3";
	enablenpc "#hole#2-3";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		donpcevent "Monster2#2-3::OnEnable";
		disablenpc "Monster1#2-3";
		stopnpctimer;
	}
	end;
}

-	script	Monster2#2-3	-1,{
OnInit:
	disablenpc "Monster2#2-3";
	end;

Onreset:
	killmonster "jupe_area2","Monster2#2-3::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	end;

OnTimer2000:
	mapannounce "jupe_area2","Why have you come?",bc_map,"0xFF0000";
	end;

OnTimer5000:
	mapannounce "jupe_area2","Were you hoping to find something wonderful? Something miraculous?",bc_map,"0xFF0000";
	end;

OnTimer8000:
	mapannounce "jupe_area2","You're wrong! Welcome to Hell!",bc_map,"0xFF0000";
	enablenpc "Monster2#2-3";
	set .MyMobs,16;
	monster "jupe_area2",114,64,"Security Guard",1675,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",115,64,"Security Guard",1669,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",116,64,"Security Guard",1675,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",117,64,"Security Guard",1669,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",118,64,"Security Guard",1675,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",119,64,"Security Guard",1669,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",120,64,"Security Guard",1675,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",121,64,"Security Guard",1669,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",114,62,"Security Guard",1675,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",115,62,"Security Guard",1669,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",116,62,"Security Guard",1675,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",117,62,"Security Guard",1669,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",118,62,"Security Guard",1675,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",119,62,"Security Guard",1669,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",120,62,"Security Guard",1675,1,"Monster2#2-3::OnMyMobDead";
	monster "jupe_area2",121,62,"Security Guard",1669,1,"Monster2#2-3::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area2","Do you still have your courage? Come. Prove it.",bc_map,"0xFF0000";
	disablenpc "Monster2#2-3";
	enablenpc "#hole#2-3";
	disablenpc "Red Alarm#2-3";
	set $@JupreArea1InUse2,0;
	end;

OnTimer300002:
	donpcevent "Monster2#2-3::OnDisable";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		mapannounce "jupe_area2","Do you still have your courage? Come. Prove it.",bc_map,"0xFF0000";
		disablenpc "Monster2#2-3";
		enablenpc "#hole#2-3";
		disablenpc "Red Alarm#2-3";
		set $@JupreArea1InUse2,0;
		stopnpctimer;
	}
	end;
}
	
//============================================================
// Security Checkpoint 2-4
//============================================================
jupe_area2,113,49,0	script	#hole#2-4	844,{
	cutin "4",2;
	if ($@JupreArea1InUse2 == 1) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "4",255;
		end;
	}
	else if (countitem(7356) > 0 || countitem(7359) > 0 || countitem(7357) > 0 || countitem(7358) > 0) {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		next;
		switch(select("Insert a Crest Piece.:Cancel.")) {
		case 1:
			if (countitem(7359) > 0) {
				mes "^3355FFYou take out your";
				mes "Crest Piece and place";
				mes "it into the slot where it";
				mes "happens to fit perfectly.^000000";
				specialeffect 159; //"#hole#2-4" EF_TOPRANK
				cutin "4-1",2;
				next;
				if ($@JupreArea1InUse2 == 1) {
					mes "^3355FFNothing happens.";
					mes "Perhaps an alarm or";
					mes "some other safety measure";
					mes "was activated to keep the";
					mes "Crest Piece from activating";
					mes "this transportation device.";
					mes "You retrieve the Crest Piece.^000000";
					close2;
					cutin "4-1",255;
					end;
				}
				else {
					mes "^3355FFThe slot rotates and";
					mes "the Crest Piece moves as";
					mes "if it were turning a key. You";
					mes "feel a weak tremor as a Warp";
					mes "Portal to the other side is";
					mes "activated. You then retrieve";
					mes "your Crest Piece.^000000";
					initnpctimer;
					donpcevent "Warp#2-4::OnEnable";
					donpcevent "Red Alarm#2-4::OnEnable";
					disablenpc "#hole#2-4";
					close2;
					cutin "4-1",255;
					end;
				}
			}
			else {
				mes "^3355FFUnfortunately, you're";
				mes "not carrying anything";
				mes "that might be able to fit";
				mes "into the slot and activate";
				mes "this mechanical device.^000000";
				close2;
				cutin "4",255;
				end;
			}
			break;
		case 2:
			mes "[" + strcharinfo(0) + "]";
			mes "Hmmm...";
			mes "Do I have anything";
			mes "that might make this";
			mes "weird machine work?";
			close2;
			cutin "4",255;
			end;
		}
	}
	else {
		mes "^3355FFThis seems like";
		mes "some kind of device";
		mes "that will allow you to";
		mes "pass to the other side.";
		mes "There's a slot where you";
		mes "probably need to insert";
		mes "some kind of object...^000000";
		close2;
		cutin "4",255;
		end;
	}
	end;

Onstop_timer:
	stopnpctimer;
	end;

OnTimer5000:
	enablenpc "#hole#2-4";
	disablenpc "Red Alarm#2-4";
	end;
}

jupe_area2,106,53,0	script	Warp#2-4	139,2,2,{
OnInit:
	disablenpc "Warp#2-4";
	end;

OnEnable:
	enablenpc "Warp#2-4";
	specialeffect 561; //"Warp#2-4" 561
	soundeffectall "jupe_warp.wav",0;
	initnpctimer;
	end;

OnTouch:
	warp "jupe_area2",80,157;
	end;

OnTimer5000:
	disablenpc "Warp#2-4";
	end;
}

jupe_area2,80,157,0	script	Red Alarm#2-4	-1,2,2,{
OnInit:
	disablenpc "Red Alarm#2-4";
	end;

OnEnable:
	enablenpc "Red Alarm#2-4";
	end;

OnTouch:
	set $@JupreArea1InUse2,1;
	donpcevent "Red Alarm On#2-4::OnEnable";
	disablenpc "Red Alarm#2-4";
	disablenpc "#hole#2-4";
	end;
}

-	script	Red Alarm On#2-4	-1,{
OnInit:
	disablenpc "Red Alarm On#2-4";
	end;

OnEnable:
	enablenpc "Red Alarm On#2-4";
	initnpctimer;
	end;

OnTimer1000:
	mapannounce "jupe_area2","I've been waiting for someone strong enough to compete with me.",bc_map,"0xFF0000";
	end;

OnTimer3000:
	mapannounce "jupe_area2","If you hear this, I wish you will be the one...",bc_map,"0xFF0000";
	disablenpc "#hole#2-4";
	end;

OnTimer5000:
	mapannounce "jupe_area2","Perhaps, a mere shadow of my former self...",bc_map,"0xFF0000";
	donpcevent "Monster1#2-4::OnEnable";
	end;

OnTimer7000:
	mapannounce "jupe_area2","Is somewhere down here, wandering...",bc_map,"0xFF0000";
	end;

OnTimer8000:
	disablenpc "Red Alarm On#2-4";
	end;
}

-	script	Monster1#2-4	-1,{
OnInit:
	disablenpc "Monster1#2-4";
	end;

Onreset:
	killmonster "jupe_area2","Monster1#2-4::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	enablenpc "Monster1#2-4";
	set .MyMobs,8;
	monster "jupe_area2",75,161,"Security Guard",1675,1,"Monster1#2-4::OnMyMobDead";
	monster "jupe_area2",72,161,"Security Guard",1669,1,"Monster1#2-4::OnMyMobDead";
	monster "jupe_area2",71,161,"Security Guard",1675,1,"Monster1#2-4::OnMyMobDead";
	monster "jupe_area2",68,161,"Security Guard",1669,1,"Monster1#2-4::OnMyMobDead";
	monster "jupe_area2",75,154,"Security Guard",1675,1,"Monster1#2-4::OnMyMobDead";
	monster "jupe_area2",72,154,"Security Guard",1669,1,"Monster1#2-4::OnMyMobDead";
	monster "jupe_area2",71,154,"Security Guard",1675,1,"Monster1#2-4::OnMyMobDead";
	monster "jupe_area2",68,154,"Security Guard",1669,1,"Monster1#2-4::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area2","Zzzzt...Zzzzt....",bc_map,"0xFF0000";
	set $@JupreArea1InUse2,0;
	end;

OnTimer300002:
	disablenpc "Monster1#2-4";
	enablenpc "#hole#2-4";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		donpcevent "Monster2#2-4::OnEnable";
		disablenpc "Monster1#2-4";
		stopnpctimer;
	}
	end;
}

-	script	Monster2#2-4	-1,{
OnInit:
	disablenpc "Monster2#2-4";
	end;

Onreset:
	killmonster "jupe_area2","Monster2#2-4::OnMyMobDead";
	end;

OnEnable:
	initnpctimer;
	end;

OnTimer2000:
	mapannounce "jupe_area2","I can never rest in peace...",bc_map,"0xFF0000";
	end;

OnTimer4000:
	mapannounce "jupe_area2","I'll wait forever or until someone can put me out of my misery...",bc_map,"0xFF0000";
	end;

OnTimer6000:
	mapannounce "jupe_area2","I will be waiting for you!",bc_map,"0xFF0000";
	enablenpc "Monster2#2-4";
	set .MyMobs,12;
	monster "jupe_area2",63,161,"Security Guard",1675,1,"Monster2#2-4::OnMyMobDead";
	monster "jupe_area2",61,161,"Security Guard",1669,1,"Monster2#2-4::OnMyMobDead";
	monster "jupe_area2",59,161,"Security Guard",1675,1,"Monster2#2-4::OnMyMobDead";
	monster "jupe_area2",57,161,"Security Guard",1669,1,"Monster2#2-4::OnMyMobDead";
	monster "jupe_area2",55,161,"Security Guard",1675,1,"Monster2#2-4::OnMyMobDead";
	monster "jupe_area2",53,161,"Security Guard",1669,1,"Monster2#2-4::OnMyMobDead";
	monster "jupe_area2",53,154,"Security Guard",1675,1,"Monster2#2-4::OnMyMobDead";
	monster "jupe_area2",55,154,"Security Guard",1669,1,"Monster2#2-4::OnMyMobDead";
	monster "jupe_area2",57,154,"Security Guard",1675,1,"Monster2#2-4::OnMyMobDead";
	monster "jupe_area2",59,154,"Security Guard",1669,1,"Monster2#2-4::OnMyMobDead";
	monster "jupe_area2",61,154,"Security Guard",1675,1,"Monster2#2-4::OnMyMobDead";
	monster "jupe_area2",63,154,"Security Guard",1669,1,"Monster2#2-4::OnMyMobDead";
	end;

OnTimer300000:
	mapannounce "jupe_area2","It's funny... Isn't it?",bc_map,"0xFF0000";
	disablenpc "Monster2#2-4";
	enablenpc "#hole#2-4";
	disablenpc "Red Alarm#2-4";
	set $@JupreArea1InUse2,0;
	end;

OnTimer300002:
	disablenpc "Monster2#2-4";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		mapannounce "jupe_area2","It's funny... Isn't it?",bc_map,"0xFF0000";
		disablenpc "Monster2#2-4";
		enablenpc "#hole#2-4";
		disablenpc "Red Alarm#2-4";
		set $@JupreArea1InUse2,0;
		stopnpctimer;
	}
	end;
}

//============================================================
// Move to Elevator
//============================================================
jupe_area2,51,162,0	script	Lever#ufe2	844,{
	mes "^3355FFIt's a lever";
	mes "whose function";
	mes "is not known to you.^000000";
	next;
	switch(select("Pull.:Cancel.")) {
	case 1:
		initnpctimer;
		donpcevent "LeverWarp#ufe2::OnEnable";
		disablenpc "Lever#ufe2";
		close;
	case 2:
		mes "[" + strcharinfo(0) + "]";
		mes "Pull this lever?";
		mes "I don't even know";
		mes "what will happen...";
		close;
	}
	close;

Onstop_timer:
	stopnpctimer;
	end;

OnTimer3000:
	enablenpc "Lever#ufe2";
	end;
}

jupe_area2,46,157,0	script	LeverWarp#ufe2	139,2,2,{
OnInit:
	disablenpc "LeverWarp#ufe2";
	end;

Onreset:
	disablenpc "LeverWarp#ufe2";
	end;

OnEnable:
	enablenpc "LeverWarp#ufe2";
	specialeffect 561; //"LeverWarp#ufe2" 561
	soundeffectall "jupe_warp.wav",0;
	initnpctimer;
	end;

OnTouch:
	warp "jupe_gate",71,29;
	end;

OnTimer3000:
	disablenpc "LeverWarp#ufe2";
	end;
}

//============================================================
// Elevator Reception Room
//============================================================
jupe_ele_r,51,98,0	script	Switch#ufe	844,{
	if ($@JupeElevatorInUse == 1) {
		mes "^3355FFIt's some sort of";
		mes "lever that looks like";
		mes "it was already pulled";
		mes "by someone else.^000000";
		close;
	}
	else {
		cutin "5",2;
		mes "^3355FFIt's some sort of";
		mes "lever that's located";
		mes "next to four empty slots.^000000";
		next;
		switch(select("Pull the lever.:Leave it alone.")) {
		case 1:
			mes "^3355FF*Snap Snap*^000000";
			next;
			mes "^3355FFYou pull the lever,";
			mes "but nothing happened.";
			mes "You probably need to";
			mes "insert the correct objects";
			mes "into the slots in order";
			mes "for the lever to operate.^000000";
			next;
			if (countitem(7356) > 0 && countitem(7359) > 0 && countitem(7357) > 0 && countitem(7358) > 0) {
				switch(select("Insert all of your Crest Pieces.")) {
				case 1:
					mes "^3300FF*Snap!*^000000";
					mes "^3300FFStrangely enough,";
					mes "all four of the Crest";
					mes "Pieces fit perfectly into";
					mes "the slots and begin to";
					mes "emit a strange light.^000000";
					cutin "5-1",2;
					specialeffect 72; //"Switch#ufe" EF_SPHERE
					delitem 7356,1; //Piece_Of_Crest1
					delitem 7359,1; //Piece_Of_Crest4
					delitem 7357,1; //Piece_Of_Crest2
					delitem 7358,1; //Piece_Of_Crest3
					next;
					switch(select("Pull out the Crest Pieces.:Pull the lever.")) {
					case 1:
						cutin "5",2;
						mes "^3355FFYou pull out all";
						mes "the Crest Pieces";
						mes "that you inserted";
						mes "into the slots.^000000";
						getitem 7356,1; //Piece_Of_Crest1
						getitem 7359,1; //Piece_Of_Crest4
						getitem 7357,1; //Piece_Of_Crest2
						getitem 7358,1; //Piece_Of_Crest3
						close2;
						cutin "5",255;
						end;
					case 2:
						if ($@JupeElevatorInUse == 1) {
							mes "^3355FFIt's strange,";
							mes "but this lever has";
							mes "already been pulled.^000000";
							close2;
							cutin "5",255;
							end;
						}
						else {
							mes "^3355FFOnce you pull the lever,";
							mes "the Crest Piece slots are";
							mes "suddenly covered, making";
							mes "them irretrievable, and the";
							mes "ground begins to shake";
							mes "violently. This isn't normal!^000000";
							next;
							set $@JupeElevatorInUse,1;
							disablenpc "Switch#ufe";
							enablenpc "Switch On#ufe";
							initnpctimer;
							specialeffect2 563; // 563
							soundeffectall "earth_quake.wav",0;
							close2;
							cutin "5-1",255;
							end;
						}
					}
				}
			}
			else if (countitem(7356) > 0 || countitem(7359) > 0 || countitem(7357) > 0 || countitem(7358) > 0) {
				select("Insert Crest Pieces.");
				mes "^3355FFRight now, you don't";
				mes "have enough Crest Pieces";
				mes "to place into all four of these";
				mes "slots. You'll need to find and^FFFFFF ^3355FF bring them all to make this work.^000000";
				close2;
				cutin "5-1",255;
				end;
			}
			else {
				mes "^3355FFYou need to find";
				mes "some kind of object";
				mes "that you can fit into";
				mes "each of these four slots...^000000";
				close2;
				cutin "5-1",255;
				end;
			}
		case 2:
			mes "^3355FFWho knows what";
			mes "this lever may do?";
			mes "You'll never know unless";
			mes "you have the courage to try.^000000";
			close2;
			cutin "5",255;
			end;
		}
	}
	end;

OnTimer2000:
	mapannounce "jupe_ele_r","My descendents...",bc_map,"0x66FF00";
	end;

OnTimer3000:
	mapannounce "jupe_ele_r","Do you want to know why this city was buried beneath the earth...?",bc_map,"0x66FF00";
	end;

OnTimer7000:
	mapannounce "jupe_ele_r","If so, follow my voice...",bc_map,"0x66FF00";
	end;

OnTimer10000:
	mapannounce "jupe_ele_r","I shall let you see for yourself what you desire to know...",bc_map,"0x66FF00";
	end;

OnTimer17000:
	mapannounce "jupe_ele_r","Overcome all the hallucinations.",bc_map,"0xCC6600";
	end;

OnTimer20000:
	mapannounce "jupe_ele_r","Open your eyes and see past all of the lies.",bc_map,"0xFF0000";
	end;

OnTimer23000:
	mapannounce "jupe_ele_r","I can only maintain this vision for you for 20 minutes.",bc_map,"0xFF0000";
	donpcevent "Elevator Guard1#ufe::OnEnable";
	end;

OnTimer27000:
	mapannounce "jupe_ele_r","Look! And remember!",bc_map,"0xFF0000";
	end;
}

jupe_ele_r,51,98,0	script	Switch On#ufe	844,{
	mes "^3355FFIt seems like";
	mes "someone else is";
	mes "using this machine...^000000";
	close;

OnInit:
	disablenpc "Switch On#ufe";
	end;
}

//============================================================
// Elevator Receptoin Guards
//============================================================
jupe_ele_r,10,50,0	script	Elevator Guard1#ufe	-1,{
OnInit:
	disablenpc "Elevator Guard1#ufe";
	end;

OnEnable:
	set .MyMobs,9;
	enablenpc "Elevator Guard1#ufe";
	initnpctimer;
	end;

OnTimer1000:
	monster "jupe_ele_r",44,99,"Guard",1669,1,"Elevator Guard1#ufe::OnMyMobDead";
	end;

OnTimer1200:
	monster "jupe_ele_r",55,99,"Guard",1675,1,"Elevator Guard1#ufe::OnMyMobDead";
	end;

OnTimer1400:
	monster "jupe_ele_r",45,84,"Guard",1683,1,"Elevator Guard1#ufe::OnMyMobDead";
	end;

OnTimer1600:
	monster "jupe_ele_r",54,84,"Guard",1675,1,"Elevator Guard1#ufe::OnMyMobDead";
	end;

OnTimer1800:
	monster "jupe_ele_r",45,99,"Guard",1669,1,"Elevator Guard1#ufe::OnMyMobDead";
	end;

OnTimer2000:
	monster "jupe_ele_r",54,99,"Guard",1683,1,"Elevator Guard1#ufe::OnMyMobDead";
	end;

OnTimer2200:
	monster "jupe_ele_r",48,84,"Guard",1669,1,"Elevator Guard1#ufe::OnMyMobDead";
	end;

OnTimer2400:
	monster "jupe_ele_r",52,84,"Guard",1683,1,"Elevator Guard1#ufe::OnMyMobDead";
	end;

OnTimer2600:
	monster "jupe_ele_r",50,84,"Chief Guard",1684,1,"Elevator Guard1#ufe::OnMyMobDead";
	end;

OnTimer120000:
	mapannounce "jupe_ele_r","It is disappointing to see that you are too weak to even defeat a hallucination...",bc_map,"0x66FF00";
	donpcevent "Switch#ufe::OnEnable";
	disablenpc "Switch On#ufe";
	donpcevent "Annihilation#ufe::OnEnable";
	set $@JupeElevatorInUse,0;
	end;

OnTimer120005:
	killmonster "jupe_ele_r","Elevator Guard1#ufe::OnMyMobDead";
	stopnpctimer;
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		set $@JupeElevatorInUse,0;
		donpcevent "Elevator Safety#ufe::OnEnable";
		stopnpctimer;
	}
	end;
}

jupe_ele_r,10,52,0	script	Elevator Safety#ufe	-1,{
OnInit:
	disablenpc "Elevator Safety#ufe";
	end;

OnEnable:
	enablenpc "Elevator Safety#ufe";
	initnpctimer;
	end;

OnTimer5000:
	mapannounce "jupe_ele_r","Those of you who have defeated the hallucination, step forward.",bc_map,"0x66FF00";
	soundeffectall "earth_quake.wav",0;
	end;

OnTimer8000:
	donpcevent "Elevator On#ufe::OnEnable";
	end;

OnTimer10000:
	disablenpc "Elevator Safety#ufe";
	stopnpctimer;
	end;
}

jupe_ele_r,50,89,0	script	Annihilation#ufe	-1,35,50,{
OnInit:
	disablenpc "Annihilation#ufe";
	end;

OnEnable:
	disablenpc "Annihilation#ufe";
	initnpctimer;
	end;

OnTouch:
	percentheal -99,-100;
	end;

OnTimer1000:
	mapwarp "jupe_ele_r", "jupe_gate",49,138;
	end;

OnTimer1100:
	enablenpc "Annihilation#ufe";
	end;

OnTimer1600:
	enablenpc "Elevator Escape#ufe";
	end;

OnTimer3000:
	disablenpc "Annihilation#ufe";
	disablenpc "Elevator Escape#ufe";
	end;
}

jupe_ele_r,50,89,0	script	Elevator Escape#ufe	-1,35,50,{
OnInit:
	disablenpc "Elevator Escape#ufe";
	end;

OnTouch:
	mapwarp "jupe_ele_r", "jupe_gate",49,138;
	end;
}

jupe_ele_r,10,54,0	script	Elevator On#ufe	-1,{
OnInit:
	disablenpc "Elevator On#ufe";
	end;

OnEnable:
	enablenpc "Elevator On#ufe";
	initnpctimer;
	end;

OnTimer1000:
	mapwarp "jupe_ele_r", "jupe_ele",42,47;
	set $@JupeElevatorInUse2,0;
	donpcevent "TimeOut#ufe::OnEnable";
	donpcevent "Guard-1#ufe::OnEnable";
	end;

OnTimer10000:
	disablenpc "Elevator On#ufe";
	end;
}

//============================================================
// Elevator NPCs
//============================================================
jupe_ele,14,6,1	script	TimeOut#ufe	844,{
OnEnable:
	initnpctimer;
	end;

OnDisable:
	stopnpctimer;
	end;

OnTimer59000:
	if (getmapusers("jupe_ele") == 0) {
		set $@JupeElevatorInUse2,5;
		killmonsterall "jupe_ele";
		disablenpc "Guard-1#ufe";
		disablenpc "Guard-2#ufe";
		disablenpc "Guard-3#ufe";
		disablenpc "Guard-4#ufe";
		stopnpctimer;
		set $@JupeElevatorInUse2,0;
		set $@JupeElevatorInUse,0;
		disablenpc "Switch On#ufe";
		enablenpc "Switch#ufe";
	}
	end;

OnTimer120000:
	killmonsterall "jupe_ele";
	disablenpc "Guard-1#ufe";
	disablenpc "Guard-2#ufe";
	disablenpc "Guard-3#ufe";
	disablenpc "Guard-4#ufe";
	mapannounce "jupe_ele","In the end, you can't even overcome your inner fear...",bc_map,"0xFF0000";
	end;

OnTimer122000:
	mapannounce "jupe_ele","You have never encountered your inner fears, have you?",bc_map,"0xFF0000";
	end;

OnTimer125000:
	mapannounce "jupe_ele","Did you expect this would be the end of the hallucination?",bc_map,"0xFF0000";
	end;

OnTimer127000:
	mapannounce "jupe_ele","What if the voice you're hearing is also a hallucination?",bc_map,"0xFF0000";
	end;

OnTimer129000:
	mapannounce "jupe_ele","What if you're just dreaming all of this?",bc_map,"0xFF0000";
	end;

OnTimer131000:
	mapannounce "jupe_ele","What if the existence of this city is a lie?",bc_map,"0xFF0000";
	end;

OnTimer133000:
	mapannounce "jupe_ele","Are you even real?",bc_map,"0xFF0000";
	end;

OnTimer134000:
OnTimer135000:
	mapwarp "jupe_ele", "jupe_gate",49,138;
	end;

OnTimer142000:
	disablenpc "GuardEnd#ufe";
	disablenpc "4F Enter#ufe";
	donpcevent "TimeOut#ufe::OnDisable";
	set $@JupeElevatorInUse2,0;
	set $@JupeElevatorInUse,0;
	disablenpc "Switch On#ufe";
	enablenpc "Switch#ufe";
	stopnpctimer;
	end;
}

jupe_ele,15,6,1	script	Guard-1#ufe	844,{
OnEnable:
	initnpctimer;
	end;

OnDisable:
	stopnpctimer;
	end;

Onreset:
	killmonsterall "jupe_ele";
	end;

OnTimer2000:
	mapannounce "jupe_ele","I admire your patience.",bc_map,"0xFF0000";
	end;

OnTimer5000:
	mapannounce "jupe_ele","Let's see if everything you have experienced",bc_map,"0xFF0000";
	end;

OnTimer8000:
	mapannounce "jupe_ele","were traps for intruders...",bc_map,"0xFF0000";
	end;

OnTimer12000:
	set .MyMobs,8;
	monster "jupe_ele",48,44,"Guard",1675,1,"Guard-1#ufe::OnMyMobDead";
	monster "jupe_ele",45,42,"Guard",1669,1,"Guard-1#ufe::OnMyMobDead";
	monster "jupe_ele",38,42,"Guard",1675,1,"Guard-1#ufe::OnMyMobDead";
	monster "jupe_ele",35,44,"Guard",1669,1,"Guard-1#ufe::OnMyMobDead";
	monster "jupe_ele",35,51,"Guard",1675,1,"Guard-1#ufe::OnMyMobDead";
	monster "jupe_ele",38,53,"Guard",1669,1,"Guard-1#ufe::OnMyMobDead";
	monster "jupe_ele",45,53,"Guard",1675,1,"Guard-1#ufe::OnMyMobDead";
	monster "jupe_ele",48,51,"Guard",1669,1,"Guard-1#ufe::OnMyMobDead";
	end;

OnTimer30000:
	if ($@JupeElevatorInUse2 == 0) {
		set $@JupeElevatorInUse2,1;
		donpcevent "Guard-2#ufe::OnEnable";
		stopnpctimer;
	}
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		if ($@JupeElevatorInUse2 == 0) {
			set $@JupeElevatorInUse2,1;
			donpcevent "Guard-2#ufe::OnEnable";
			stopnpctimer;
		}
		else if ($@JupeElevatorInUse2 == 4) {
			if (getvariableofnpc(.MyMobs,"Guard-1#ufe") < 1) {
				if (getvariableofnpc(.MyMobs,"Guard-3#ufe") < 1) {
					if (getvariableofnpc(.MyMobs,"Guard-2#ufe") < 1) {
						donpcevent "GuardEnd#ufe::OnEnable";
						stopnpctimer;
					}
				}
			}
		}
	}
	end;
}

jupe_ele,16,6,1	script	Guard-2#ufe	844,{
OnEnable:
	initnpctimer;
	end;

OnDisable:
	stopnpctimer;
	end;

Onreset:
	killmonsterall "jupe_ele";
	end;

OnTimer2000:
	mapannounce "jupe_ele","This city was not",bc_map,"0xFF0000";
	end;

OnTimer5000:
	mapannounce "jupe_ele","as magnificient as you thought.",bc_map,"0xFF0000";
	end;

OnTimer8000:
	mapannounce "jupe_ele","This is a place where all the fears of humans flourish.",bc_map,"0xFF0000";
	end;

OnTimer11000:
	mapannounce "jupe_ele","Yes. Nobody leaves alive!",bc_map,"0xFF0000";
	end;

OnTimer12000:
	set .MyMobs,8;
	monster "jupe_ele",48,44,"Guard",1683,1,"Guard-2#ufe::OnMyMobDead";
	monster "jupe_ele",45,42,"Guard",1669,1,"Guard-2#ufe::OnMyMobDead";
	monster "jupe_ele",38,42,"Guard",1683,1,"Guard-2#ufe::OnMyMobDead";
	monster "jupe_ele",35,44,"Guard",1669,1,"Guard-2#ufe::OnMyMobDead";
	monster "jupe_ele",35,51,"Guard",1683,1,"Guard-2#ufe::OnMyMobDead";
	monster "jupe_ele",38,53,"Guard",1669,1,"Guard-2#ufe::OnMyMobDead";
	monster "jupe_ele",45,53,"Guard",1683,1,"Guard-2#ufe::OnMyMobDead";
	monster "jupe_ele",48,51,"Guard",1669,1,"Guard-2#ufe::OnMyMobDead";
	end;

OnTimer30000:
	if ($@JupeElevatorInUse2 == 1) {
		set $@JupeElevatorInUse2,2;
		donpcevent "Guard-3#ufe::OnEnable";
		stopnpctimer;
	}
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		if ($@JupeElevatorInUse2 == 1) {
			set $@JupeElevatorInUse2,2;
			donpcevent "Guard-3#ufe::OnEnable";
			stopnpctimer;
		}
		else if ($@JupeElevatorInUse2 == 4) {
			if (getvariableofnpc(.MyMobs,"Guard-4#ufe") < 1) {
				if (getvariableofnpc(.MyMobs,"Guard-3#ufe") < 1) {
					if (getvariableofnpc(.MyMobs,"Guard-1#ufe") < 1) {
						donpcevent "GuardEnd#ufe::OnEnable";
						stopnpctimer;
					}
				}
			}
		}
	}
	end;
}

jupe_ele,17,6,1	script	Guard-3#ufe	844,{
OnEnable:
	initnpctimer;
	end;

OnDisable:
	stopnpctimer;
	end;

Onreset:
	killmonsterall "jupe_ele";
	end;

OnTimer2000:
	mapannounce "jupe_ele","What do you see?",bc_map,"0xFF0000";
	end;

OnTimer5000:
	mapannounce "jupe_ele","Are your eyes actually seeing something?",bc_map,"0xFF0000";
	end;

OnTimer8000:
	mapannounce "jupe_ele","Or do you just believe you are seeing?",bc_map,"0xFF0000";
	end;

OnTimer12000:
	set .MyMobs,8;
	monster "jupe_ele",48,44,"Guard",1675,1,"Guard-3#ufe::OnMyMobDead";
	monster "jupe_ele",45,42,"Guard",1669,1,"Guard-3#ufe::OnMyMobDead";
	monster "jupe_ele",38,42,"Guard",1683,1,"Guard-3#ufe::OnMyMobDead";
	monster "jupe_ele",35,44,"Guard",1675,1,"Guard-3#ufe::OnMyMobDead";
	monster "jupe_ele",35,51,"Guard",1669,1,"Guard-3#ufe::OnMyMobDead";
	monster "jupe_ele",38,53,"Guard",1683,1,"Guard-3#ufe::OnMyMobDead";
	monster "jupe_ele",45,53,"Guard",1675,1,"Guard-3#ufe::OnMyMobDead";
	monster "jupe_ele",48,51,"Guard",1669,1,"Guard-3#ufe::OnMyMobDead";
	end;

OnTimer30000:
	if ($@JupeElevatorInUse2 == 2) {
		set $@JupeElevatorInUse2,3;
		donpcevent "Guard-4#ufe::OnEnable";
		stopnpctimer;
	}
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (.MyMobs < 1) {
		if ($@JupeElevatorInUse2 == 2) {
			set $@JupeElevatorInUse2,3;
			donpcevent "Guard-4#ufe::OnEnable";
			stopnpctimer;
		}
		else if ($@JupeElevatorInUse2 == 4) {
			if (getvariableofnpc(.MyMobs,"Guard-4#ufe") < 1) {
				if (getvariableofnpc(.MyMobs,"Guard-2#ufe") < 1) {
					if (getvariableofnpc(.MyMobs,"Guard-1#ufe") < 1) {
						donpcevent "GuardEnd#ufe::OnEnable";
						stopnpctimer;
					}
				}
			}
		}
	}
	end;
}

jupe_ele,18,6,1	script	Guard-4#ufe	844,{
OnEnable:
	initnpctimer;
	end;

OnDisable:
	stopnpctimer;
	end;

Onreset:
	killmonsterall "jupe_ele";
	end;

OnTimer2000:
	mapannounce "jupe_ele","Do not forget. That which limits you is nothing but yourself.",bc_map,"0xFF0000";
	end;

OnTimer5000:
	mapannounce "jupe_ele","Nothing is what you fear and you have nothing to fear...",bc_map,"0xFF0000";
	end;

OnTimer8000:
	set $@JupeElevatorInUse2,4;
	set .MyMobs,8;
	monster "jupe_ele",48,44,"Guard",1684,1,"Guard-4#ufe::OnMyMobDead";
	monster "jupe_ele",45,42,"Guard",1669,1,"Guard-4#ufe::OnMyMobDead";
	monster "jupe_ele",38,42,"Guard",1684,1,"Guard-4#ufe::OnMyMobDead";
	monster "jupe_ele",35,44,"Guard",1669,1,"Guard-4#ufe::OnMyMobDead";
	monster "jupe_ele",35,51,"Guard",1675,1,"Guard-4#ufe::OnMyMobDead";
	monster "jupe_ele",38,53,"Guard",1669,1,"Guard-4#ufe::OnMyMobDead";
	monster "jupe_ele",45,53,"Guard",1683,1,"Guard-4#ufe::OnMyMobDead";
	monster "jupe_ele",48,51,"Guard",1675,1,"Guard-4#ufe::OnMyMobDead";
	end;

OnMyMobDead:
	set .MyMobs,.MyMobs-1;
	if (getvariableofnpc(.MyMobs,"Guard-1#ufe") < 1) {
		if (getvariableofnpc(.MyMobs,"Guard-2#ufe") < 1) {
			if (getvariableofnpc(.MyMobs,"Guard-3#ufe") < 1) {
				if (getvariableofnpc(.MyMobs,"Guard-4#ufe") < 1) {
					donpcevent "GuardEnd#ufe::OnEnable";
					stopnpctimer;
				}
			}
		}
	}
	end;
}

jupe_ele,19,6,1	script	GuardEnd#ufe	844,{
OnInit:
	disablenpc "GuardEnd#ufe";
	end;

OnEnable:
	enablenpc "GuardEnd#ufe";
	donpcevent "TimeOut#ufe::OnDisable";
	initnpctimer;
	end;

OnDisable:
	disablenpc "GuardEnd#ufe";
	stopnpctimer;
	end;

OnTimer2000:
	mapannounce "jupe_ele","I am not going to tell you anything.",bc_map,"0x66FF00";
	end;

OnTimer5000:
	mapannounce "jupe_ele","My city, my people are now but a memory.",bc_map,"0x66FF00";
	end;

OnTimer8000:
	mapannounce "jupe_ele","Everything was a mistake. We were not supposed to be here.",bc_map,"0x66FF00";
	end;

OnTimer11000:
	mapannounce "jupe_ele","Is this a place where humans are forbidden?",bc_map,"0x66FF00";
	end;

OnTimer12000:
	mapannounce "jupe_ele","You want to know, don't you? Go ahead... Go deeper.",bc_map,"0x66FF00";
	enablenpc "4F Enter#ufe";
	end;

OnTimer22000:
	mapannounce "jupe_ele","It's not real anyway. All of it's safe, it can't hurt you...",bc_map,"0x66FF00";
	soundeffectall "earth_quake.wav",0;
	disablenpc "4F Enter#ufe";
	end;

OnTimer24000:
	mapwarp "jupe_ele","jupe_core",150,286;
	end;

OnTimer25000:
	mapwarp "jupe_ele","jupe_core",151,286;
	end;

OnTimer26000:
	donpcevent "GuardEnd#ufe::OnDisable";
	disablenpc "4F Enter#ufe";
	donpcevent "TimeOut#ufe::OnDisable";
	set $@JupeElevatorInUse2,0;
	set $@JupeElevatorInUse,0;
	disablenpc "Switch On#ufe";
	enablenpc "Switch#ufe";
	stopnpctimer;
}

jupe_ele,41,33,0	script	4F Enter#ufe	45,4,4,{
OnInit:
	disablenpc "4F Enter#ufe";
	end;

OnTouch:
	warp "jupe_core",rand(149,151),286;
	end;
}

//============================================================
// Warps
//============================================================
jupe_gate,50,173,0	script	gate#start	-1,2,3,{
	end;

OnTouch:
	initnpctimer;
	mes "^3355FFIt's a Warp Portal";
	mes "that will teleport you";
	mes "to the previous floor.^000000";
	next;
	switch(select("Use it.:Ignore it.")) {
	case 1:
		specialeffect2 348; // EF_LIGHTSPHERE
		next;
		stopnpctimer;
		warp "juperos_02",130,142;
		close;
	case 2:
		mes "[" + strcharinfo(0) + "]";
		mes "Not now!";
		mes "I can't leave yet!";
		next;
		warp "jupe_gate",50,168;
		stopnpctimer;
		close;
	}
	end;

OnTimer10000:
	warp "juperos_02",128,278;
	enablenpc "gate#start#2";
	disablenpc "gate#start";
	end;
}

jupe_gate,50,171,0	script	gate#start#2	-1,2,2,{
OnInit:
	disablenpc "gate#start#2";
	end;

OnTouch:
	warp "juperos_02",130,142;
	end;

OnTimer2000:
	enablenpc "gate#start";
	disablenpc "gate#start#2";
	end;
}

juperos_02,33,59,0	script	jupe_goto2F	45,2,2,{
OnTouch:
	switch(rand(1,4)) {
	case 1: warp "juperos_01",120,72; end;
	case 2: warp "juperos_01",120,112; end;
	case 3: warp "juperos_01",79,112; end;
	case 4: warp "juperos_01",79,72; end;
	}
	end;
}
