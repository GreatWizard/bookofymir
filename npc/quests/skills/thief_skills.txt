//Le Livre d'Ymir http://www.bookofymir.net/
//traduit par MageGaHell, corrigé par Myllena et Icaros
//===== eAthena Script ======================================= 
//= Thief Skills Quests
//===== By: ================================================== 
//= kobra_k88
//===== Current Version: ===================================== 
//= 1.6
//===== Compatible With: ===================================== 
//= eAthena SVN
//===== Description: ========================================= 
//= [Aegis Conversion]
//= Quests for skills: Sand Attack, Back Slide, Find Stone, 
//= Stone Fling.
//===== Additional Comments: ================================= 
//= 1.5 Rescripted to Aegis 10.3 stadards. [L0ne_W0lf]
//= 1.6 Fixed a Exploit for Assassins and Rogues. (bugreport:2332) [Samuray22]
//============================================================ 

moc_prydb1,154,128,4	script	Alcouskou#qsk_tf	118,{
	if (BaseClass == Job_Thief) {
		mes "[Alcouskou]";
		mes "Dans la vie, vous allez devoir affronter bien des choses. Parfois vous ne comprendrez pas tout et vous vous demanderez pourquoi certaines choses semblent si importantes. Vous penserez qu'il s'agit de connaissances inutiles. En fait non. Laissez-moi vous expliquer.";
		next;
		switch(select("Jet de Sable:Retraite:Ramasser une Pierre:Lapidation:Je reviendrais.")) {
		case 1:
			switch(THIEF_SK) {
			case 0:
				if (countitem(7041) > 4 && ((BaseJob == Job_Thief && JobLevel > 24) || BaseJob == Job_Assassin || BaseJob == Job_Rogue)) {
					mes "[Alcouskou]";
					mes "Par chance, vous avez apporté un peu de sable avec vous. C'est vital pour un Voleur de toujours en avoir une petite quantité sur lui! Beaucoup de gens ne réalisent pas la valeur d'une substance aussi commune.";
					next;
					mes "[Alcouskou]";
					mes "Au cas où vous rencontreriez un monstre trop puissant dans un donjon sans sable, vous pourrez toujours utiliser celui que vous avez pour l'aveugler et fuir. Vous devez avoir une bourse spéciale pleine de sable.";
					next;
					mes "[Alcouskou]";
					mes "Quoi? Vous ne pensez pas que j'allais vous en faire une comme ça? Vous devez être vraiment paresseux!!! Très bien... Allez donc trouvez celui qu'on nomme RuRumuni. Il vous fera une solide bourse en cuir.";
					next;
					mes "[Alcouskou]";
					mes "Je vais tout préparer pour votre retour. Vous trouverez RuRumuni dans le quartier ouest de Payon. Du moins, c'est ce que j'ai entendu dire récemment.";
					delitem 7041,5; //Fine_Grit
					set THIEF_SK,1;
					close;
				}
				else {
					mes "[Alcouskou]";
					mes "L'essentiel pour être un bon Voleur, c'est la discrétion. Un Voleur ne doit jamais être vu ou touché à moins qu'il ne le désire. Certains considèrent qu'il s'agit de lâcheté, mais moi je pense différemment.";
					next;
					mes "[Alcouskou]";
					mes "À mon sens, nous vivons dans un monde cruel, où la loi du plus fort ou du plus malin dirige nos vies.";
					mes "Les gens me prennent sans doute pour un lâche quand j'utilise cette compétence spéciale... Et quelle est cette compétence?";
					mes "Il s'agit du lancer de sable aveuglant.";
					next;
					mes "[Alcouskou]";
					mes "Si vous pouvez jeter ou envoyer du sable dans les yeux de votre adversaire, non seulement sa capacité à se défendre diminue, mais en plus ses capacités offensives sont également réduites. Dans le meilleur des cas, vous pourrez même l'aveugler.";
					next;
					mes "[Alcouskou]";
					mes "Bon, nous devons bien survivre, hein?";
					mes "C'est eux ou nous.";
					mes "Je pense donc qu'il est vital d'avoir toujours un peu de sable à portée de la main.";
					mes "Qu'est-ce que vous en pensez? Si vous aimez l'idée, allez donc me chercher cinq cristaux de Grains de Sable Fins.";
					next;
					mes "[Alcouskou]";
					mes "Je suis sûr que vous êtes désireux d'apprendre cette compétence, mais vous devez d'abord me rapporter cinq cristaux de Grains de Sable Fins. Tant que vous ne me les avez pas rapportés, je ne pourrais pas vous apprendre cette compétence.";
					mes "Ne me décevez pas, dépêchez-vous et rapportez-les moi.";
					next;
					mes "[Alcouskou]";
					mes "Oh, j'allais oublier!!! Si vous désirez vraiment apprendre cette compétence, assurez-vous d'être suffisamment expérimenté pour pouvoir l'utiliser.";
					mes "Cela veut dire qu'il faut que vous soyez au moins au Niveau de Métier 25.";
					close;
				}
			case 1:
				mes "[Alcouskou]";
				mes "Allez dans le quartier ouest de Payon pour trouver RuRumuni. Il vous fera une bourse solide pour votre sable.";
				next;
				mes "[Alcouskou]";
				mes "Je vais prendre ces cinq cristaux de Grains de Sable Fins et les préparer pour vous le temps que vous reveniez.";
				close;
			case 2:
				mes "[Alcouskou]";
				mes "Ok! Super!!";
				mes "C'est une jolie bourse, l'air de rien.";
				mes "Petite et facile à transporter, mais avec une bonne capacité pour contenir assez de sable.";
				mes "C'est un parfait ^3355FFSac sans Fond^000000, idéal pour que vous puissiez utiliser cette compétence.";
				next;
				mes "[Alcouskou]";
				mes "Bon, commençons l'entraînement...";
				mes "Allez-y, essayez!!!";
				next;
				mes "[Alcouskou]";
				mes "Ahhh, attention à mes yeux!!";
				mes "^5533FF- *jets de  sable* -^000000";
				next;
				mes "^5533FF- *lancers de sable* -^000000";
				next;
				mes "[Alcouskou]";
				mes "Ho Ho Ho... Vous êtes naturellement doué!!! Excellent! Je pense que je n'ai plus rien à vous apprendre.";
				mes "J'espère que cette compétence spéciale vous aidera dans le futur.";
				delitem 7042,1; //Leather_Bag_Of_Infinity
				skill 149,1,0;
				close;
			}
		case 2:
			if (countitem(940) > 19  && ((BaseJob == Job_Thief && JobLevel > 34) || BaseJob == Job_Assassin || BaseJob == Job_Rogue)) {
				mes "[Alcouskou]";
				mes "Ok! Commençons l'entraînement!";
				next;
				mes "[Alcouskou]";
				mes "~fwoosh~";
				next;
				mes "[Alcouskou]";
				mes "~fwooooosh~";
				next;
				mes "[Alcouskou]";
				mes "~fwoooooooooooooooosh~";
				next;
				mes "[Alcouskou]";
				mes "Super! Avec ce niveau, je suis sûr que vous pouvez améliorer cette compétence par vous-même.";
				delitem 940,20; //Grasshopper's_Leg
				skill 150,1,0;
				close;
			}
			else {
				mes "[Alcouskou]";
				mes "Habituellement on ne pense qu'à attaquer et faire des dégâts, mais il est très important de réaliser que la fuite est aussi vitale que l'attaque!";
				next;
				mes "[Alcouskou]";
				mes "Nous sommes fiers de notre vitesse exceptionnelle et de nos capacités d'esquive, mais je suis sûr que vous avez compris que parfois dans un combat, même avec tous nos talents pour l'esquive, si un seul coup arrive à nous toucher nous serons en grave danger.";
				next;
				mes "[Alcouskou]";
				mes "C'est vrai que parfois, nous nous amusons de nos adversaires en esquivant aisément leurs attaques pitoyables.";
				mes "Cependant, si nous sommes attaqués par plusieurs adversaires en même temps, vous devez vous rappeler que vous n'aurez peut-être pas assez de place pour esquiver tous les coups aisément.";
				next;
				mes "[Alcouskou]";
				mes "Vous devez prendre rapidement la décision de fuir. La plupart des gens essayeraient de fuir immédiatement, mais nous, nous n'en avons pas besoin.";
				mes "Même si nous ne voyons pas d'ouverture pour fuir, nos capacités nous permettent de nous échapper d'une situation très difficile.";
				next;
				mes "[Alcouskou]";
				mes "Cette capacité utilise notre énergie afin de nous permettre de nous en sortir sans dommages.";
				mes "En très peu de temps, cette compétence nous permet de mettre une grande distance entre nous et nos opposants.";
				next;
				mes "[Alcouskou]";
				mes "Cette compétence nécessite un entraînement sans fin pour être vraiment maîtrisée.";
				mes "Si vous souhaitez commencer cet entraînement et l'apprendre, vous devez préparer quelques objets.";
				mes "Rapportez ^3355FF20 Pattes de Sauterelles^000000 pour commencer votre entraînement.";
				next;
				mes "[Alcouskou]";
				mes "Oh, pendant que j'y pense...";
				mes "Vous avez besoin de vous y connaître un peu dans les compétences de Voleur afin de maîtriser correctement cette capacité spéciale.";
				mes "Il vous faudra au moins l'expérience du Niveau de Métier ^3355FF35^000000.";
				mes "Sinon, je ne pourrais rien vous apprendre.";
				close;
			}
		case 3:
			if (countitem(912) > 0 && countitem(948) > 0 && countitem(908) > 4 && ((BaseJob == Job_Thief && JobLevel > 19) || BaseJob == Job_Assassin || BaseJob == Job_Rogue)) {
				mes "[Alcouskou]";
				mes "Wouah, vous êtes déjà prêt?";
				mes "Bien, vous êtes plein de promesses... Votre dévotion paraît sincère.";
				mes "Ok, et si on commençait votre entraînement?";
				mes "Alors, la science du jet de pierre...";
				mes "Trouvez un caillou d'un bon poids et facile à prendre en main.";
				next;
				mes "[Alcouskou]";
				mes "Choisir la bonne pierre est très important pour bien réussir.";
				mes "Bon, je pourrais vous le dire un million de fois, mais mieux vaut que vous l'expérimentiez par vous-même.";
				mes "Ok, pourquoi ne pas essayer là dehors, juste devant moi, là où je peux vous voir.";
				next;
				mes "^3355FF- Shweeput ! -^000000";
				next;
				mes "^3355FF- Cheeeguk! -^000000";
				next;
				mes "^3355FF- Shyaaaakkk ! -^000000";
				next;
				mes "[Alcouskou]";
				mes "Très bien. Il semblerait que vous prenez facilement le coup de main.";
				mes "Vous pourrez vous améliorer sans mal en vous entraînant tout seul.";
				mes "Je pense que cela vous aidera dans le futur.";
				mes "... J'espère vous revoir un jour.";
				delitem 912,1; //Zargon
				delitem 948,1; //Bear's_Foot
				delitem 908,5; //Spawn
				skill 151,1,0;
				close;
			}
			else {
				mes "[Alcouskou]";
				mes "Les membres les plus talentueux et expérimentés de notre Guilde sont habituellement très habiles!";
				mes "Ils peuvent ramasser une petite pierre sur le sol et l'utiliser pour frapper rapidement et précisément un adversaire à distance.";
				next;
				mes "[Alcouskou]";
				mes "Ils ont réalisé qu'il serait dommage de ne pas apprendre cela à d'autres.";
				mes "Ils ont donc fondé un groupe chargé d'enseigner cette compétence aux autres.";
				mes "C'est comme ça que les compétences ^3355FFRamasser une Pierre^000000 et^3355FFLapidation^000000 se sont répandues.";
				next;
				mes "[Alcouskou]";
				mes "Ce n'est pas facile de savoir trouver une bonne pierre n'importe où et de savoir la lancer habilement sur un ennemi éloigné.";
				mes "C'est vraiment une compétence très utile. Sans débourser un Zény, vous pouvez avoir cette compétence à votre disposition.";
				next;
				mes "[Alcouskou]";
				mes "Je pense qu'il s'agit vraiment d'une bonne compétence.";
				mes "Qu'en pensez-vous?";
				mes ". . . . . Hah Hah Hah . . . . . .";
				next;
				mes "[Alcouskou]";
				mes "La compétence ^3355FFRamasser une Pierre^000000 peut être utilisée partout afin de ramasser sur le sol des pierres de bonne taille, lisses et parfaitement adaptées pour être lancées.";
				mes "Cela demande quelques connaissances et du talent pour apprendre cette compétence correctement.";
				next;
				mes "[Alcouskou]";
				mes "Le peu d'entraînement requis nécessite quand même que vous vous y consacriez à fond...";
				mes ". . . . . *Ahem* . . . . .";
				mes "Commençons par vous entraîner à ramasser diverses choses. Par exemple, une ^3355FFPatte d'Ours^000000 afin de vous familiariser avec la méthode.";
				next;
				mes "[Alcouskou]";
				mes "Et au lieu d'une pierre, essayez de me rapporter un ^3355FFZargon^000000!";
				mes "Hum... C'est fort peu, n'est-ce pas?";
				mes "Ajoutons donc ^3355FF5 Frais^000000 à votre collecte!!";
				mes "Montrez-moi donc votre talent!";
				mes "Rapportez-moi ces objets rapidement!";
				close;
			}
		case 4:
			if (countitem(910) > 1 && countitem(911) > 1 && ((BaseJob == Job_Thief && JobLevel > 14) || BaseJob == Job_Assassin || BaseJob == Job_Rogue)) {
				mes "[Alcouskou]";
				mes "Wouah! Vous avez déjà tout rapporté!";
				mes "Très bien, et si nous commencions l'entraînement?";
				mes "Nous allons utiliser les objets que vous avez rapportés..";
				next;
				mes "^3355FF- Shyuuk! -^000000";
				next;
				mes "^3355FF- Shyuuuk Tuk. . -^000000";
				next;
				mes "^3355FF- Shyupattt!! - Tauk!! -^000000";
				next;
				mes "[Alcouskou]";
				mes "Touché~~~!!";
				mes "C'était excellent!";
				mes "Vous avez assez de puissance et d'habilité";
				next;
				mes "[Alcouskou]";
				mes "Ok, c'est tout pour l'entraînement.";
				mes "À vous de voir comment vous utiliserez cette capacité spéciale. Votre futur est entre vos mains...";
				mes "Je vous souhaite bonne chance!";
				delitem 910,2; //Garlet
				delitem 911,2; //Scell
				skill 152,1,0;
				close;
			}
			else {
				mes "[Alcouskou]";
				mes "Les membres les plus talentueux et expérimentés de notre Guilde sont habituellement très habiles!";
				mes "Ils peuvent ramasser une petite pierre sur le sol et l'utiliser pour frapper rapidement et précisément un adversaire à distance.";
				next;
				mes "[Alcouskou]";
				mes "Ils ont réalisé qu'il serait dommage de ne pas apprendre cela à d'autres.";
				mes "Ils ont donc fondé un groupe charger d'enseigner cette compétence aux autres.";
				mes "C'est comme ça que les compétences ^3355FFRamasser une Pierre^000000 et^3355FFLapidation^000000 se sont répandues.";
				next;
				mes "[Alcouskou]";
				mes "Ce n'est pas facile de savoir trouver une bonne pierre n'importe où et de savoir la lancer habilement sur un ennemi éloigné.";
				mes "C'est vraiment une compétence très utile. Sans débourser un Zény, vous pouvez avoir cette compétence à votre disposition.";
				next;
				mes "[Alcouskou]";
				mes "Je pense qu'il s'agit vraiment d'une bonne compétence.";
				mes "Qu'en pensez-vous?";
				mes ". . . . . Hah Hah Hah . . . . . .";
				next;
				mes "[Alcouskou]";
				mes "^3355FFLapidation!!^000000";
				mes "Cette compétence peut être utilisée facilement et ne vous coûtera rien de plus, si vous savez ramasser de bonnes pierres...";
				next;
				mes "[Alcouskou]";
				mes "Si vous ne savez pas choisir de bonnes pierres, vous pouvez toujours en acheter auprès de ceux qui savent.";
				mes "Mais si vous savez bien choisir vos pierres, cela pourrait vous être très profitable.";
				mes "Qu'est-ce que vous en pensez? Vous aimez l'idée?";
				next;
				mes "[Alcouskou]";
				mes "Si vous souhaitez maîtriser cette compétence, vous aurez à vous entraîner un peu. L'entraînement nécessite quelques objets qui ne sont pas faciles à trouver...";
				mes "Bien sûr, je suis sûr que rien n'est impossible pour vos talents...";
				next;
				mes "[Alcouskou]";
				mes "Vous aurez besoin de deux ^3355FFGarlets^000000 et de deux ^3355FFCellules^000000 pour commencer.";
				mes "Vérifiez bien qu'ils soient semblables aux pierres et que vous pourrez les lancer facilement. Quand vous aurez tous ces objets, je serai ravi de vous instruire.";
				close;
			}
		case 5:
			mes "[Alcouskou]";
			mes "Il semblerait que vous ne soyez pas très expérimenté...";
			mes "Nous avons besoin de plus de temps pour vous considérer vraiment comme digne de nos enseignements.";
			close;
		}
	}
	else {
		mes "[Alcouskou]";
		mes "La plupart des Voleurs et des Assassins ont les compétences basiques pour bien faire leur travail. Cependant, les compétences que je peux vous enseigner ne peuvent être apprises ailleurs.";
		next;
		mes "[Alcouskou]";
		mes "Si vous souhaitez devenir un Voleur ou un Assassin d'élite, ou si vous connaissez quelqu'un qui souhaite le devenir, venez me voir ou envoyez-le moi.";
		mes "J'enseigne ces compétences spéciales à tous ceux qui veulent les apprendre.";
		close;
	}
}

payon,91,77,3	script	Vendeur de Sacs#qsk_tf	99,{
	mes "[RuRumuni]";
	mes "Je suis un humble marchand de Payon. J'achète du cuir et des peaux, rapportés par les chasseurs, pour en faire des sacs de cuir que je vends.";
	mes "J'ai grandi dans le milieu de la maroquinerie, alors le cuir, ça me connaît. Je peux tout faire avec.";
	next;
	switch(THIEF_SK) {
	case 0:
		mes "[RuRumuni]";
		mes "Il y a une Guilde de Voleurs à Morroc...";
		mes "Je connais quelqu'un là-bas qui m'envoie des Voleurs qui ont besoin de certains de mes objets 'spéciaux' comme mon fameux ^3355FFSac sans Fond^000000.";
		mes "Ils viennent souvent me rendre visite.";
		close;
	case 1:
		if (countitem(952) > 0 && countitem(1055) > 0 && countitem(1025) > 0) {
			mes "[RuRumuni]";
			mes "Ahhh... Vous venez pour un sac en cuir.";
			mes "Très bien, Très bien.";
			mes "Je vais vous faire ça tout de suite, si vous voulez bien attendre juste un instant...";
			mes "TuTak TuTak Shyuku Shyuku Shyuku";
			mes "- - - - -";
			next;
			mes "[RuRumuni]";
			mes "Ok, voilà qui est fait. Prenez juste ce sac de cuir et rapportez-le à Alcouskou, le chef de la Guilde des Voleurs.";
			mes "Si vous le lui rapportez, il vous enseignera la compétence spéciale que vous souhaitez apprendre.";
			delitem 952,1; //Cactus_Needle
			delitem 1055,1; //Earthworm_Peeling
			delitem 1025,1; //Spiderweb
			set THIEF_SK,2;
			getitem 7042,1; //Leather_Bag_Of_Infinity
			close;
		}
		else {
			mes "[RuRumuni]";
			mes "Alors comme ça, vous êtes envoyé par Alcouskou, de la Guilde des Voleurs afin que je vous fabrique un Sac sans Fond?...";
			mes "Vous devez savoir que le Sac sans Fond demande beaucoup de talent et de temps pour être fabriqué.";
			mes "Afin que je puisse concevoir un tel objet, j'ai besoin que vous me rapportiez certains matériaux.";
			next;
			mes "Les objets dont j'ai besoin sont les suivants:";
			mes "^3355FFPeau de Ver-de-Terre^000000";
			mes "^3355FFToile d'Araignée^000000";
			mes "^3355FFÉpine de Cactus^000000";
			mes "J'ai besoin d'un exemplaire de chaque.";
			close;
	}
	case 2:
		mes "[RuRumuni]";
		mes "Et voilà, voici votre Sac sans Fond.";
		mes "Rapportez-le à la Guilde des Voleurs, à Alcouskou et, faites-lui savoir que vous êtes prêt à commencer à apprendre votre compétence spéciale.";
		close;
	}
}

//============================================================ 
// Old changelog
//============================================================ 
//= v1.0 Fully working
//= v1.1 Changed Sand Attack requirements from 5 Grit to 5 Fine Grit and a
//= Leather Bag of Infinity.  These are the official RO requirements
//= Added npc RuRumuni, maker of Leather Bag of Infinity. [kobra_k88]
//= v1.1a Now using functions found in "Global_Functions.txt" for
//= class checks.[kobra_k88]
//= 1.2 Added Baby Class Support [Lupus]
//= 1.3 Removed callfunc Is_####_Class in favor of baseClass [Silentdragon]
//= 1.4 Fixed exploit [Lupus]
//= 1.4a Fixed some typos [IVBela]
//= 1.4b changed perm. variables to temp ones [Lupus]
//============================================================ 
